
<!DOCTYPE html>
<html lang="zh-Hans" class="loading">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ä½¿ç”¨vueé«˜é˜¶ç»„ä»¶ - é»˜é»˜é»˜é»˜ç‡ƒ</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate" />
    <meta name="keywords" content="TriDiamond Obsidian,"> 
    <meta name="description" content="ä¸€æšå‰ç«¯æ¬ç –é˜Ÿé˜Ÿå‘˜çš„è®°å½•å†Œ,å‰æ–‡é«˜é˜¶ç»„ä»¶(HOC)æ˜¯ä¸€ç§æ¶æ„æ¨¡å¼ï¼Œåœ¨ React ä¸­éå¸¸å¸¸è§ï¼Œä½†ä¹Ÿå¯ä»¥åœ¨ Vue ä¸­ä½¿ç”¨ã€‚å®ƒå¯ä»¥è¢«æè¿°ä¸ºä¸€ç§åœ¨ç»„ä»¶ä¹‹é—´å…±äº«å…¬å…±åŠŸèƒ½è€Œä¸éœ€è¦é‡å¤ä»£ç çš„æ–¹æ³•ã€‚HOC çš„ç›®çš„æ˜¯å¢å¼ºç»„ä»¶çš„åŠŸèƒ½ã€‚å®ƒå…è®¸åœ¨,"> 
    <meta name="author" content="å¼ ç™½å‘Šä¸¶"> 
    <link rel="alternative" href="atom.xml" title="é»˜é»˜é»˜é»˜ç‡ƒ" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    <link href="https://fonts.loli.net/css?family=Roboto+Mono|Rubik&display=swap" rel="stylesheet">
    
<link rel="stylesheet" href="//at.alicdn.com/t/font_1429596_nzgqgvnmkjb.css">

    
<link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.7.2/animate.min.css">

    
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css">

    
<link rel="stylesheet" href="//cdn.bootcss.com/codemirror/5.48.4/codemirror.min.css">

    
<link rel="stylesheet" href="//cdn.bootcss.com/codemirror/5.48.4/theme/dracula.css">

    
<link rel="stylesheet" href="/css/obsidian.css">

    
<link rel="stylesheet" href="/css/ball-atom.min.css">

<meta name="generator" content="Hexo 4.2.0"></head>


<body class="loading">
    <div class="loader">
        <div class="la-ball-atom la-2x">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>
    <span id="config-title" style="display:none">é»˜é»˜é»˜é»˜ç‡ƒ</span>
    <div id="loader"></div>
    <div id="single">
    <div class="scrollbar gradient-bg-rev"></div>
<div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <div class="navigation animated fadeIn fast delay-1s">
        <img id="home-icon" class="icon-home" src="/img/favicon.png" alt="" data-url="https://zhanghao-web.github.io">
        <div id="play-icon" title="Play/Pause" class="iconfont icon-play"></div>
        <h3 class="subtitle">ä½¿ç”¨vueé«˜é˜¶ç»„ä»¶</h3>
        <div class="social">
            <!--        <div class="like-icon">-->
            <!--            <a href="javascript:;" class="likeThis active"><span class="icon-like"></span><span class="count">76</span></a>-->
            <!--        </div>-->
            <div>
                <div class="share">
                    
                        <a href="javascript:;" class="iconfont icon-share1"></a>
                        <div class="share-component-cc" data-disabled="facebook,douban,linkedin,diandian,tencent,google"></div>
                    
                </div>
            </div>
        </div>
    </div>
</div>

    <div class="section">
        <div class=article-header-wrapper>
    <div class="article-header">
        <div class="article-cover animated fadeIn" style="
            animation-delay: 600ms;
            animation-duration: 1.2s;
            background-image: 
                radial-gradient(ellipse closest-side, rgba(0, 0, 0, 0.65), #100e17),
                url(/img/cover.jpg) ">
        </div>
        <div class="else">
            <p class="animated fadeInDown">
                
                <a href="/categories/Vue"><b>ã€Œ
                    </b>VUE<b> ã€</b></a>
                
                November 25, 2019
            </p>
            <h3 class="post-title animated fadeInDown"><a href="/2019/11/25/Vue/%E4%BD%BF%E7%94%A8vue%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6/" title="ä½¿ç”¨vueé«˜é˜¶ç»„ä»¶" class="">ä½¿ç”¨vueé«˜é˜¶ç»„ä»¶</a>
            </h3>
            
            <p class="post-count animated fadeInDown">
                
                <span>
                    <b class="iconfont icon-text2"></b> <i>Words count</i>
                    11k
                </span>
                
                
                <span>
                    <b class="iconfont icon-timer__s"></b> <i>Reading time</i>
                    10 mins.
                </span>
                
                
                
                <span id="busuanzi_container_page_pv">
                    <b class="iconfont icon-read"></b> <i>Read count</i>
                    <span id="busuanzi_value_page_pv">0</span>
                </span>
                
            </p>
            
            
            <ul class="animated fadeInDown post-tags-list" itemprop="keywords"><li class="animated fadeInDown post-tags-list-item"><a class="animated fadeInDown post-tags-list-link" href="/tags/Vue/" rel="tag">Vue</a></li></ul>
            
        </div>
    </div>
</div>

<div class="screen-gradient-after">
    <div class="screen-gradient-content">
        <div class="screen-gradient-content-inside">
            <div class="bold-underline-links screen-gradient-sponsor">
                <p>
                    <span class="animated fadeIn delay-1s"></span>
                </p>
            </div>
        </div>
    </div>
</div>

<div class="article">
    <div class='main'>
        <div class="content markdown animated fadeIn">
            <h1 id="å‰æ–‡"><a href="#å‰æ–‡" class="headerlink" title="å‰æ–‡"></a>å‰æ–‡</h1><p><code>é«˜é˜¶ç»„ä»¶(HOC)</code>æ˜¯ä¸€ç§æ¶æ„æ¨¡å¼ï¼Œåœ¨ React ä¸­éå¸¸å¸¸è§ï¼Œä½†ä¹Ÿå¯ä»¥åœ¨ Vue ä¸­ä½¿ç”¨ã€‚å®ƒå¯ä»¥è¢«æè¿°ä¸ºä¸€ç§<strong>åœ¨ç»„ä»¶ä¹‹é—´å…±äº«å…¬å…±åŠŸèƒ½è€Œä¸éœ€è¦é‡å¤ä»£ç </strong>çš„æ–¹æ³•ã€‚HOC çš„ç›®çš„æ˜¯å¢å¼ºç»„ä»¶çš„åŠŸèƒ½ã€‚å®ƒå…è®¸åœ¨é¡¹ç›®ä¸­å®ç°å¯é‡ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p>
<ul>
<li>åªè¦ä½ å‘ä¸€ä¸ªæ–¹æ³•ä¼ å…¥ç»„ä»¶ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°çš„ç»„ä»¶ï¼Œè¿™å°±æ˜¯ä¸€ä¸ª HOCã€‚</li>
</ul>
<blockquote>
<p>é«˜é˜¶ç»„ä»¶åœ¨ä»¥ä¸‹æ–¹é¢éå¸¸æœ‰ç”¨: 1.æ“ä½œå±æ€§ã€‚ 2.æ“ä½œæ•°æ®å’Œæ•°æ®æŠ½è±¡ã€‚ 3.ä»£ç é‡ç”¨</p>
</blockquote>
<h2 id="é¢„å¤‡çŸ¥è¯†"><a href="#é¢„å¤‡çŸ¥è¯†" class="headerlink" title="é¢„å¤‡çŸ¥è¯†"></a>é¢„å¤‡çŸ¥è¯†</h2><p>åœ¨æˆ‘ä»¬å¼€å§‹æ•™ç¨‹ä¹‹å‰ï¼Œéœ€è¦äº†è§£ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<p>ä½¿ç”¨ Vue æ¡†æ¶çš„ç»éªŒã€‚<br>çŸ¥é“å¦‚ä½•ä½¿ç”¨ vue-cli è®¾ç½®åº”ç”¨ç¨‹åºã€‚<br>JavaScript å’Œ Vue çš„åŸºæœ¬çŸ¥è¯†<br>Node (8)<br>npm (5.2.0)</p>
<h2 id="Vue-ä¸­çš„é«˜é˜¶ç»„ä»¶æ¨¡å¼"><a href="#Vue-ä¸­çš„é«˜é˜¶ç»„ä»¶æ¨¡å¼" class="headerlink" title="Vue ä¸­çš„é«˜é˜¶ç»„ä»¶æ¨¡å¼"></a>Vue ä¸­çš„é«˜é˜¶ç»„ä»¶æ¨¡å¼</h2><p>è™½ç„¶é«˜é˜¶ç»„ä»¶é€šå¸¸ä¸ React ç›¸å…³è”ï¼Œä½†æ˜¯ä¸º Vue ç»„ä»¶åˆ›å»ºé«˜é˜¶ç»„ä»¶æ˜¯å¾ˆæœ‰å¯èƒ½çš„ã€‚åœ¨ Vue ä¸­åˆ›å»ºé«˜é˜¶ç»„ä»¶çš„æ¨¡å¼å¦‚ä¸‹æ‰€ç¤ºã€‚</p>
<pre><code class="js">// hoccomponent.js

import Vue from &quot;vue&quot;
import ComponentExample from &#39;@/components/ComponentExample.vue&#39;
const HoComponent = (component) =&gt; {
    return Vue.component(&#39;withSubscription&#39;, {
        render(createElement) {
            return createElement(component)
        }
    }
}
const HoComponentEnhanced = HoComponent(ComponentExample);

</code></pre>
<p>å¦‚ä¸Šé¢çš„ä»£ç å—æ‰€ç¤ºï¼Œ<code>HoComponent</code> å‡½æ•°æ¥å—ä¸€ä¸ªç»„ä»¶ä½œä¸ºå‚æ•°ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªæ–°ç»„ä»¶æ¥æ¸²æŸ“ä¼ è¿›æ¥çš„ç»„ä»¶ã€‚</p>
<h2 id="ä¸€ä¸ªç®€å•çš„-HOC-ç¤ºä¾‹"><a href="#ä¸€ä¸ªç®€å•çš„-HOC-ç¤ºä¾‹" class="headerlink" title="ä¸€ä¸ªç®€å•çš„ HOC ç¤ºä¾‹"></a>ä¸€ä¸ªç®€å•çš„ HOC ç¤ºä¾‹</h2><p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»ä¸€ä¸ªä½¿ç”¨é«˜é˜¶ç»„ä»¶çš„ç¤ºä¾‹ã€‚åœ¨ä»‹ç»é«˜é˜¶ç»„ä»¶ä¹‹å‰ï¼Œæˆ‘ä»¬å°†äº†è§£åœ¨æ²¡æœ‰é«˜é˜¶ç»„ä»¶çš„æƒ…å†µä¸‹ï¼Œå½“å‰çš„ä»£ç åº“æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œç„¶åäº†è§£å¦‚ä½•è¿›è¡ŒæŠ½è±¡ã€‚</p>
<p><a href="https://codesandbox.io/embed/llvq04nx4l" target="_blank" rel="noopener">https://codesandbox.io/embed/llvq04nx4l</a></p>
<p>æ­£å¦‚ä¸Šé¢çš„ CodeSandbox æ‰€ç¤ºï¼Œè¯¥åº”ç”¨ç¨‹åºä¼šæ˜¾ç¤ºä¸€ä¸ªçº¸ä¸šå…¬å¸åŠå…¶å‡€èµ„äº§çš„åˆ—è¡¨ï¼Œä»¥åŠã€ŠåŠå…¬å®¤ã€‹(ç¾å›½)ä¸­çš„äººç‰©åŠå…¶è·å¥–æƒ…å†µã€‚</p>
<p>æˆ‘ä»¬è·å¾—åº”ç”¨ç¨‹åºæ‰€éœ€çš„æ‰€æœ‰æ•°æ®æ¥æºåªæœ‰ä¸€ä¸ªï¼Œé‚£å°±æ˜¯<code>mockData.js</code>æ–‡ä»¶ã€‚</p>
<a id="more"></a>
<pre><code class="js">// src/components/mockData.js
const staff = [
  {
    name: &quot;Michael Scott&quot;,
    id: 0,
    awards: 2
  },
  {
    name: &quot;Toby Flenderson&quot;,
    id: 1,
    awards: 0
  },
  {
    name: &quot;Dwight K. Schrute&quot;,
    id: 2,
    awards: 10
  },
  {
    name: &quot;Jim Halpert&quot;,
    id: 3,
    awards: 1
  },
  {
    name: &quot;Andy Bernard&quot;,
    id: 4,
    awards: 0
  },
  {
    name: &quot;Phyllis Vance&quot;,
    id: 5,
    awards: 0
  },
  {
    name: &quot;Stanley Hudson&quot;,
    id: 6,
    awards: 0
  }
];
const paperCompanies = [
  {
    id: 0,
    name: &quot;Staples&quot;,
    net: 10000000
  },
  {
    id: 1,
    name: &quot;Dundler Mufflin&quot;,
    net: 5000000
  },
  {
    id: 2,
    name: &quot;Michael Scott Paper Company&quot;,
    net: 300000
  },
  {
    id: 3,
    name: &quot;Prince Family Paper&quot;,
    net: 30000
  }
];

export default {
  getStaff() {
    return staff;
  },
  getCompanies() {
    return paperCompanies;
  },
  increaseAward(id) {
    staff[id].awards++;
  },
  decreaseAward(id) {
    staff[id].awards--;
  },
  setNetWorth(id) {
    paperCompanies[id].net = Math.random() * (5000000 - 50000) + 50000;
  }
};
</code></pre>
<p>åœ¨ä¸Šé¢çš„ä»£ç ç‰‡æ®µä¸­ï¼Œæœ‰å‡ ä¸ª const å˜é‡ä¿å­˜äº†å…¬å¸å’Œå‘˜å·¥åˆ—è¡¨çš„ä¿¡æ¯ã€‚æˆ‘ä»¬ä¹Ÿå¯¼å‡ºäº†ä¸€äº›å‡½æ•°ï¼Œ</p>
<blockquote>
<p>å®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š<br>è¿”å›å‘˜å·¥åˆ—è¡¨<br>è¿”å›å…¬å¸åˆ—è¡¨<br>å¢åŠ å’Œå‡å°‘å¯¹ç‰¹å®šå‘˜å·¥çš„å¥–åŠ±ï¼Œæœ€å<br>æœ€åï¼Œè®¾å®šå…¬å¸çš„å‡€å€¼</p>
</blockquote>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹çœ‹ <code>Staff.vue</code> å’Œ <code>Companies.vue</code> ç»„ä»¶ã€‚</p>
<pre><code class="html">// src/components/Staff.vue
&lt;template&gt;
  &lt;main&gt;
    &lt;h3&gt;Staff List&lt;/h3&gt;
    &lt;div v-for=&quot;(staff, i) in staffList&quot; :key=&quot;i&quot;&gt;
      {{ staff.name }}: {{ staff.awards }} Salesman of the year Award ğŸ‰
      &lt;button @click=&quot;increaseAwards(staff.id);&quot;&gt;+&lt;/button&gt;
      &lt;button @click=&quot;decreaseAwards(staff.id);&quot;&gt;-&lt;/button&gt;
    &lt;/div&gt;
  &lt;/main&gt;
&lt;/template&gt;
&lt;script&gt;
  import mockData from &quot;./mockData.js&quot;;
  export default {
    data() {
      return {
        staffList: mockData.getStaff()
      };
    },
    methods: {
      increaseAwards(id) {
        mockData.increaseAward(id);
        this.staffList = mockData.getStaff();
      },
      decreaseAwards(id) {
        mockData.decreaseAward(id);
        this.staffList = mockData.getStaff();
      }
    }
  };
&lt;/script&gt;
</code></pre>
<p>åœ¨ä¸Šé¢çš„ä»£ç å—ä¸­ï¼Œæ•°æ®å®ä¾‹å˜é‡staffListè¢«èµ‹å€¼ä¸ºå‡½æ•°mockData.getStaff()è¿”å›çš„å†…å®¹ã€‚æˆ‘ä»¬ä¹Ÿæœ‰increaseAwardså’ŒdecreaseAwardså‡½æ•°ï¼Œåˆ†åˆ«è°ƒç”¨mockData.increaseAward å’Œ mockData.decreaseAwardã€‚ä¼ é€’ç»™è¿™äº›å‡½æ•°çš„id æ˜¯ä»æ¸²æŸ“çš„æ¨¡æ¿ä¸­è·å¾—çš„ã€‚</p>
<pre><code class="html">    // src/components/Companies.vue
    &lt;template&gt;
      &lt;main&gt;
        &lt;h3&gt;Paper Companies&lt;/h3&gt;
        &lt;div v-for=&quot;(companies, i) in companies&quot; :key=&quot;i&quot;&gt;
          {{ companies.name }} - ${{ companies.net
          }}&lt;button @click=&quot;setWorth(companies.id);&quot;&gt;Set Company Value&lt;/button&gt;
        &lt;/div&gt;
      &lt;/main&gt;
    &lt;/template&gt;

    &lt;script&gt;
      import mockData from &quot;./mockData.js&quot;;
        export default {
        data() {
          return {
            companies: mockData.getCompanies()
          };
        },
        methods: {
          setWorth(id) {
            mockData.setNetWorth(id);
            this.companies = mockData.getCompanies();
          }
        }
      };
    &lt;/script&gt;

</code></pre>
<p>åœ¨ä¸Šé¢çš„ä»£ç å—ä¸­ï¼Œæ•°æ®å®ä¾‹å˜é‡companies è¢«èµ‹å€¼ä¸ºå‡½æ•°mockData.getCompanies()çš„è¿”å›å†…å®¹ã€‚æˆ‘ä»¬è¿˜æœ‰setWorthå‡½æ•°ï¼Œå®ƒé€šè¿‡å°†å…¬å¸çš„ id ä¼ é€’ç»™mockData.setNetWorthæ¥è®¾ç½®ä¸€ä¸ªéšæœºå€¼ä½œä¸ºå‡€å€¼ã€‚ä¼ é€’ç»™å‡½æ•°çš„idæ˜¯ä»æ¸²æŸ“çš„æ¨¡æ¿ä¸­è·å¾—çš„ã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬å·²ç»çœ‹åˆ°äº†è¿™ä¸¤ä¸ªç»„ä»¶æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œæˆ‘ä»¬å¯ä»¥</p>
<blockquote>
<p>æ‰¾å‡ºå®ƒä»¬ä¹‹é—´çš„å…±åŒç‚¹ï¼Œå¹¶å°†å…¶æŠ½è±¡å¦‚ä¸‹ï¼š</p>
</blockquote>
<p>ä»æ•°æ®æºè·å–æ•°æ® (mockData.js)<br>onClick å‡½æ•°</p>
<p>æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•å°†ä¸Šé¢çš„æ“ä½œæ”¾åˆ°é«˜é˜¶ç»„ä»¶ä¸­ï¼Œä»¥é¿å…ä»£ç é‡å¤å¹¶ç¡®ä¿å¯é‡ç”¨æ€§ã€‚</p>
<p>HoComponent å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªç»„ä»¶å’ŒfetchDataã€‚fetchDataæ–¹æ³•ç”¨äºç¡®å®šè¦åœ¨è¡¨ç¤ºç»„ä»¶ä¸­æ˜¾ç¤ºä»€ä¹ˆã€‚è¿™æ„å‘³ç€æ— è®ºåœ¨å“ªé‡Œä½¿ç”¨é«˜é˜¶ç»„ä»¶ï¼Œä½œä¸ºfetchData ä¼ é€’çš„å‡½æ•°éƒ½å°†è¢«ç”¨æ¥ä»mockData ä¸­è·å–æ•°æ®ã€‚</p>
<p>ç„¶åå°†æ•°æ®å®ä¾‹returnedData è®¾ç½®ä¸ºfetchDataçš„å†…å®¹ï¼Œç„¶åä½œä¸ºprops ä¼ é€’ç»™åœ¨é«˜é˜¶ç»„ä»¶ä¸­åˆ›å»ºçš„æ–°ç»„ä»¶ã€‚</p>
<p>è®©æˆ‘ä»¬çœ‹çœ‹æ–°åˆ›å»ºçš„é«˜é˜¶ç»„ä»¶å¦‚ä½•åœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ã€‚æˆ‘ä»¬éœ€è¦ç¼–è¾‘Staff.vue å’ŒCompanies.vueã€‚</p>
<pre><code class="html">    // src/components/Staff.vue
    &lt;template&gt;
      &lt;main&gt;
        &lt;h3&gt;Staff List&lt;/h3&gt;
        &lt;div v-for=&quot;(staff, i) in returnedData&quot; :key=&quot;i&quot;&gt;
          {{ staff.name }}: {{ staff.awards }} Salesman of the year Award ğŸ‰
          &lt;button @click=&quot;increaseAwards(staff.id);&quot;&gt;+&lt;/button&gt;
          &lt;button @click=&quot;decreaseAwards(staff.id);&quot;&gt;-&lt;/button&gt;
        &lt;/div&gt;
      &lt;/main&gt;
    &lt;/template&gt;
    &lt;script&gt;
      export default {
        props: [&quot;returnedData&quot;]
      };
    &lt;/script&gt;

</code></pre>
<pre><code class="html">    // src/components/Companies.vue
    &lt;template&gt;
      &lt;main&gt;
        &lt;h3&gt;Paper Companies&lt;/h3&gt;
        &lt;div v-for=&quot;(companies, i) in returnedData&quot; :key=&quot;i&quot;&gt;
          {{ companies.name }} - ${{ companies.net
          }}&lt;button @click=&quot;setWorth(companies.id);&quot;&gt;Set Company Value&lt;/button&gt;
        &lt;/div&gt;
      &lt;/main&gt;
    &lt;/template&gt;
    &lt;script&gt;
      export default {
        props: [&quot;returnedData&quot;]
      };
    &lt;/script&gt;

</code></pre>
<p>æ­£å¦‚ä½ åœ¨ä¸Šé¢çš„ä»£ç å—ä¸­çœ‹åˆ°çš„ï¼Œå¯¹äºè¿™ä¸¤ä¸ªç»„ä»¶ï¼Œæˆ‘ä»¬å»æ‰äº†å‡½æ•°å’Œæ•°æ®å®ä¾‹å˜é‡ï¼Œæ˜¾ç¤ºå†…å®¹æ‰€éœ€çš„æ‰€æœ‰æ•°æ®ç°åœ¨éƒ½å°†ä»è¿™äº›propsä¸­è·å¾—ã€‚å¯¹äºåˆ æ‰çš„å‡½æ•°ï¼Œæˆ‘ä»¬å°†å¾ˆå¿«ä¼šè®²åˆ°ã€‚</p>
<p>åœ¨ App.vue ç»„ä»¶ä¸­ï¼Œç”¨ä»¥ä¸‹ä»£ç ç¼–è¾‘script æ ‡ç­¾ä¸­çš„ç°æœ‰å†…å®¹ï¼š</p>
<pre><code class="html">    // src/App.vue
    &lt;script&gt;
      // import the Companies component
      import Companies from &quot;./components/Companies&quot;;
      // import the Staff component
      import Staff from &quot;./components/Staff&quot;;
      // import the higher order component
      import HoComponent from &quot;./components/HoComponent.js&quot;;

      // Create a const variable which contains the Companies component wrapped in the higher order component
      const CompaniesComponent = HoComponent(Companies, mockData =&gt; mockData.getCompanies()
      );

      // Create a const variable which contains the Staff component wrapped in the higher order component
      const StaffComponent = HoComponent(Staff, mockData =&gt; mockData.getStaff());

      export default {
        name: &quot;App&quot;,
        components: {
          CompaniesComponent,
          StaffComponent
        }
      };
    &lt;/script&gt;

</code></pre>
<p>åœ¨ä¸Šé¢çš„ä»£ç å—ä¸­ï¼ŒHoComponentç”¨äºåŒ…è£… Staff å’Œ Companies ç»„ä»¶ã€‚</p>
<p>æ¯ä¸ªç»„ä»¶ä½œä¸ºHoComponent çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒè¿”å›å¦ä¸€ä¸ªå‡½æ•°ï¼ŒæŒ‡å®šåº”è¯¥ä»mockDataè·å–ä»€ä¹ˆæ•°æ®ã€‚è¿™æ˜¯æˆ‘ä»¬ä¹‹å‰åˆ›å»ºçš„é«˜é˜¶ç»„ä»¶(HoComponent.js)ä¸­çš„fetchData å‡½æ•°ã€‚</p>
<p>å¦‚æœä½ ç°åœ¨åˆ·æ–°åº”ç”¨ç¨‹åºï¼Œä½ åº”è¯¥ä»ç„¶å¯ä»¥çœ‹åˆ°æ¥è‡ªmockData æ–‡ä»¶çš„æ•°æ®åƒå¾€å¸¸ä¸€æ ·å‘ˆç°ã€‚å”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œè¿™äº›æŒ‰é’®æ— æ³•å·¥ä½œï¼Œå› ä¸ºå®ƒä»¬è¿˜æ²¡æœ‰ç»‘å®šåˆ°ä»»ä½•å‡½æ•°ã€‚è®©æˆ‘ä»¬è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<pre><code class="html">    // src/App.vue
    &lt;template&gt;
      &lt;div id=&quot;app&quot;&gt;
        &lt;CompaniesComponent @click=&quot;onEventHappen&quot; /&gt;
        &lt;StaffComponent @click=&quot;onEventHappen&quot; /&gt;
      &lt;/div&gt;
    &lt;/template&gt;

    &lt;script&gt;
      // import the Companies component
      import Companies from &quot;./components/Companies&quot;;
      // import the Staff component
      import Staff from &quot;./components/Staff&quot;;
      // import the higher order component
      import HoComponent from &quot;./components/HoComponent.js&quot;;
      // import the source data from mockData only to be used for event handlers
      import sourceData from &quot;./components/mockData.js&quot;;
      // Create a const variable which contains the Companies component wrapped in the higher order component
      const CompaniesComponent = HoComponent(Companies, mockData =&gt;
      mockData.getCompanies()
      );
      // Create a const variable which contains the Staff component wrapped in the higher order component
      const StaffComponent = HoComponent(Staff, mockData =&gt; mockData.getStaff());

      export default {
        name: &quot;App&quot;,
        components: {
          CompaniesComponent,
          StaffComponent
          },
        methods: {
          onEventHappen(value) {
            // set the variable setFunction to the name of the function that was passed iin the value emitted from child component i.e. if value.name is &#39;increaseAward&#39;, setFunction is set to increaseAward()
            let setFunction = sourceData[value.name];
            // call the corresponding function with the id passed as an argument.
            setFunction(value.id);
          }
        }
      };
    &lt;/script&gt;

    &lt;style&gt;
    #app {
      font-family: &quot;Avenir&quot;, Helvetica, Arial, sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-align: center;
      color: #2c3e50;
      margin-top: 60px;
    }
    &lt;/style&gt;
</code></pre>
<p>åœ¨ä¸Šé¢çš„ä»£ç å—ä¸­ï¼Œæˆ‘ä»¬åœ¨App.vueç»„ä»¶ä¸­æ·»åŠ äº†ä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ã€‚</p>
<p>vueçš„ç»„ä»¶ã€‚æ¯å½“Staff.vue æˆ–Companies.vue ç»„ä»¶è¢«ç‚¹å‡»æ—¶ï¼ŒonEventHappen æ–¹æ³•å°†ä¼šè¢«è°ƒç”¨ã€‚</p>
<p>åœ¨onEventHappenæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å°†å˜é‡setFunction è®¾ç½®ä¸ºä»å­ç»„ä»¶å‘å‡ºçš„å€¼ä¸­ä¼ é€’çš„å‡½æ•°åï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœvalue.nameæ˜¯â€™increaseAwardâ€™ï¼Œé‚£ä¹ˆsetFunctionè®¾ç½®ä¸ºincreaseAward()ã€‚setFunction å°†ä»¥idä½œä¸ºå‚æ•°æ‰§è¡Œã€‚</p>
<p>æœ€åï¼Œä¸ºäº†å°†äº‹ä»¶ç›‘å¬å™¨ä¼ é€’ç»™å°è£…åœ¨é«˜é˜¶ç»„ä»¶ä¸­çš„ç»„ä»¶ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ HoComponent.jsæ–‡ä»¶ä¸­æ·»åŠ ä¸‹é¢è¿™è¡Œä»£ç ã€‚</p>
<pre><code class="js">    props: {
    returnedData: this.returnedData
    },
    on: { ...this.$listeners }

</code></pre>
<h2 id="vue-hoc"><a href="#vue-hoc" class="headerlink" title="vue-hoc"></a>vue-hoc</h2><p>æˆ–è€…ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨<a href="https://github.com/jackmellis/vue-hoc" target="_blank" rel="noopener">vue-hoc</a>åº“æ¥å¸®åŠ©åˆ›å»ºé«˜é˜¶ç»„ä»¶ã€‚vue-hocå¸®åŠ©ä½ è½»æ¾åœ°åˆ›å»ºé«˜é˜¶ç»„ä»¶ï¼Œä½ è¦åšçš„å°±æ˜¯ä¼ é€’åŸºæœ¬ç»„ä»¶ã€åº”ç”¨äºHOCçš„ä¸€ç³»åˆ—ç»„ä»¶é€‰é¡¹å’Œåœ¨æ¸²æŸ“é˜¶æ®µä¼ é€’ç»™ç»„ä»¶çš„æ•°æ®å±æ€§ã€‚<br>vue-hoc å¯ç”¨å¦‚ä¸‹å‘½ä»¤å®‰è£…ï¼š<br>    <code>npm install --save vue-hoc</code></p>
<p>å¤åˆ¶ä»£ç vue-hocæ’ä»¶æœ‰ä¸€äº›ä¾‹å­å¯ä»¥è®©ä½ å¼€å§‹åˆ›å»ºæ›´é«˜é˜¶çš„ç»„ä»¶ï¼Œä½ å¯ä»¥<a href="https://github.com/jackmellis/vue-hoc/blob/master/packages/vue-hoc/README.md" target="_blank" rel="noopener">æŸ¥çœ‹è¿™é‡Œ</a>.</p>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls"
                data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
            <ul id="audio-list" style="display:none">
                
                
                <li title='0' data-url='/statics/chengdu.mp3'></li>
                
                    
            </ul>
            
            
            
    <div id='gitalk-container' class="comment link"
        data-ae='true'
        data-ci='ec894e2b66f752e8b7fb'
        data-cs='3ccc2e92bb350688fe2c2dc2930189b62622bfb1'
        data-r='blog-comments'
        data-o='TriDiamond'
        data-a='TriDiamond'
        data-d='undefined'
    >Comments</div>


            
            
        </div>
        <div class="sidebar">
            <div class="box animated fadeInRight">
                <div class="subbox">
                    <img src="/img/favicon.png" height=300 width=300></img>
                    <p>å¼ ç™½å‘Šä¸¶</p>
                    <span>Think like an artist, develop like an artisan</span>
                    <dl>
                        <dd><a href="https://github.com/zhanghao-web" target="_blank"><span
                                    class=" iconfont icon-github"></span></a></dd>
                        <!-- <dd><a href="" target="_blank"><span
                                    class=" iconfont icon-twitter"></span></a></dd>
                        <dd><a href="" target="_blank"><span
                                    class=" iconfont icon-stack-overflow"></span></a></dd> -->
                    </dl>
                </div>
                <ul>
                    <li><a href="/">157 <p>Articles</p></a></li>
                    <li><a href="/categories">25 <p>Categories</p></a></li>
                    <li><a href="/tags">52 <p>Tags</p></a></li>
                </ul>
            </div>
            
            
            
            <div class="box sticky animated fadeInRight faster">
                <div id="toc" class="subbox">
                    <h4>Contents</h4>
                    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#å‰æ–‡"><span class="toc-number">1.</span> <span class="toc-text">å‰æ–‡</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#é¢„å¤‡çŸ¥è¯†"><span class="toc-number">1.1.</span> <span class="toc-text">é¢„å¤‡çŸ¥è¯†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vue-ä¸­çš„é«˜é˜¶ç»„ä»¶æ¨¡å¼"><span class="toc-number">1.2.</span> <span class="toc-text">Vue ä¸­çš„é«˜é˜¶ç»„ä»¶æ¨¡å¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ä¸€ä¸ªç®€å•çš„-HOC-ç¤ºä¾‹"><span class="toc-number">1.3.</span> <span class="toc-text">ä¸€ä¸ªç®€å•çš„ HOC ç¤ºä¾‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vue-hoc"><span class="toc-number">1.4.</span> <span class="toc-text">vue-hoc</span></a></li></ol></li></ol>
                </div>
            </div>
            
            
        </div>
    </div>
</div>
    </div>
</div>
    <div id="back-to-top" class="animated fadeIn faster">
        <div class="flow"></div>
        <span class="percentage animated fadeIn faster">0%</span>
        <span class="iconfont icon-top02 animated fadeIn faster"></span>
    </div>
</body>
<footer>
    <p class="copyright" id="copyright">
        &copy; 2020
        <span class="gradient-text">
            å¼ ç™½å‘Šä¸¶
        </span>.
        Powered by <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a>
        Theme
        <span class="gradient-text">
            <a href="https://github.com/TriDiamond/hexo-theme-obsidian" title="Obsidian" target="_blank" rel="noopener">Obsidian</a>
        </span>
        <small><a href="https://github.com/TriDiamond/hexo-theme-obsidian/blob/master/CHANGELOG.md" title="v1.4.3" target="_blank" rel="noopener">v1.4.3</a></small>
    </p>
</footer>

<script type="text/javascript" src="https://cdn.bootcss.com/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<script>
  MathJax.Hub.Config({
    "HTML-CSS": {
      preferredFont: "TeX",
      availableFonts: ["STIX", "TeX"],
      linebreaks: {
        automatic: true
      },
      EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
    },
    tex2jax: {
      inlineMath: [
        ["$", "$"],
        ["\\(", "\\)"]
      ],
      processEscapes: true,
      ignoreClass: "tex2jax_ignore|dno",
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      noUndefined: {
        attributes: {
          mathcolor: "red",
          mathbackground: "#FFEEEE",
          mathsize: "90%"
        }
      },
      Macros: {
        href: "{}"
      }
    },
    messageStyle: "none"
  });
</script>
<script>
  function initialMathJax() {
    MathJax.Hub.Queue(function () {
      var all = MathJax.Hub.getAllJax(),
        i;
      // console.log(all);
      for (i = 0; i < all.length; i += 1) {
        console.log(all[i].SourceElement().parentNode)
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  }

  function reprocessMathJax() {
    if (typeof MathJax !== 'undefined') {
      MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
    }
  }
</script>



    
<link rel="stylesheet" href="//cdn.bootcss.com/gitalk/1.5.0/gitalk.min.css">

    
<script src="//cdn.bootcss.com/gitalk/1.5.0/gitalk.min.js"></script>



<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/obsidian.js"></script>
<script src="/js/jquery.truncate.js"></script>
<script src="/js/search.js"></script>


<script src="//cdn.bootcss.com/typed.js/2.0.10/typed.min.js"></script>


<script src="//cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script>


<script src="//cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>


<script src="https://cdn.bootcss.com/codemirror/5.48.4/codemirror.min.js"></script>

    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/javascript/javascript.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/css/css.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/xml/xml.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/htmlmixed/htmlmixed.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/clike/clike.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/php/php.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/shell/shell.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/python/python.min.js"></script>




    
<script src="/js/busuanzi.min.js"></script>

    <script>
        $(document).ready(function () {
            if ($('span[id^="busuanzi_"]').length) {
                initialBusuanzi();
            }
        });
    </script>



<link rel="stylesheet" href="//cdn.bootcss.com/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="//cdn.bootcss.com/photoswipe/4.1.3/default-skin/default-skin.min.css">


<script src="//cdn.bootcss.com/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="//cdn.bootcss.com/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>



    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="//www.googletagmanager.com/gtag/js?id=UA-149874671-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-149874671-1');
    </script>





<script>
    function initialTyped () {
        var typedTextEl = $('.typed-text');
        if (typedTextEl && typedTextEl.length > 0) {
            var typed = new Typed('.typed-text', {
                strings: ["Think like an artist, develop like an artisan", "è‰ºæœ¯å®¶æ€ç»´å»æ€è€ƒé—®é¢˜ï¼Œå·¥åŒ åˆ›é€ ç²¾ç¥å»å¼€å‘"],
                typeSpeed: 90,
                loop: true,
                loopCount: Infinity,
                backSpeed: 20,
            });
        }
    }

    if ($('.article-header') && $('.article-header').length) {
        $(document).ready(function () {
            initialTyped();
        });
    }
</script>




</html>
