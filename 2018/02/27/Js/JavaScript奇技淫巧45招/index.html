
<!DOCTYPE html>
<html lang="zh-Hans" class="loading">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>JavaScript奇技淫巧44招 - 默默默默燃</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate" />
    <meta name="keywords" content="TriDiamond Obsidian,"> 
    <meta name="description" content="一枚前端搬砖队队员的记录册,原文地址

首次为变量赋值时务必使用var关键字变量没有声明而直接赋值得话，默认会作为一个新的全局变量，要尽量避免使用全局变量。
使用**===取代==**==和!=操作符会在需要的情况下自动转换数,"> 
    <meta name="author" content="张白告丶"> 
    <link rel="alternative" href="atom.xml" title="默默默默燃" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    <link href="https://fonts.loli.net/css?family=Roboto+Mono|Rubik&display=swap" rel="stylesheet">
    
<link rel="stylesheet" href="//at.alicdn.com/t/font_1429596_nzgqgvnmkjb.css">

    
<link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.7.2/animate.min.css">

    
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css">

    
<link rel="stylesheet" href="//cdn.bootcss.com/codemirror/5.48.4/codemirror.min.css">

    
<link rel="stylesheet" href="//cdn.bootcss.com/codemirror/5.48.4/theme/dracula.css">

    
<link rel="stylesheet" href="/css/obsidian.css">

    
<link rel="stylesheet" href="/css/ball-atom.min.css">

<meta name="generator" content="Hexo 5.1.1"></head>


<body class="loading">
    <div class="loader">
        <div class="la-ball-atom la-2x">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>
    <span id="config-title" style="display:none">默默默默燃</span>
    <div id="loader"></div>
    <div id="single">
    <div class="scrollbar gradient-bg-rev"></div>
<div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <div class="navigation animated fadeIn fast delay-1s">
        <img id="home-icon" class="icon-home" src="/img/favicon.png" alt="" data-url="https://ShinichiKudo-FE.github.io">
        <div id="play-icon" title="Play/Pause" class="iconfont icon-play"></div>
        <h3 class="subtitle">JavaScript奇技淫巧44招</h3>
        <div class="social">
            <!--        <div class="like-icon">-->
            <!--            <a href="javascript:;" class="likeThis active"><span class="icon-like"></span><span class="count">76</span></a>-->
            <!--        </div>-->
            <div>
                <div class="share">
                    
                        <a href="javascript:;" class="iconfont icon-share1"></a>
                        <div class="share-component-cc" data-disabled="facebook,douban,linkedin,diandian,tencent,google"></div>
                    
                </div>
            </div>
        </div>
    </div>
</div>

    <div class="section">
        <div class=article-header-wrapper>
    <div class="article-header">
        <div class="article-cover animated fadeIn" style="
            animation-delay: 600ms;
            animation-duration: 1.2s;
            background-image: 
                radial-gradient(ellipse closest-side, rgba(0, 0, 0, 0.65), #100e17),
                url(/img/cover.jpg) ">
        </div>
        <div class="else">
            <p class="animated fadeInDown">
                
                <a href="/categories/Js"><b>「
                    </b>JS<b> 」</b></a>
                
                February 27, 2018
            </p>
            <h3 class="post-title animated fadeInDown"><a href="/2018/02/27/Js/JavaScript%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A745%E6%8B%9B/" title="JavaScript奇技淫巧44招" class="">JavaScript奇技淫巧44招</a>
            </h3>
            
            <p class="post-count animated fadeInDown">
                
                <span>
                    <b class="iconfont icon-text2"></b> <i>Words count</i>
                    19k
                </span>
                
                
                <span>
                    <b class="iconfont icon-timer__s"></b> <i>Reading time</i>
                    17 mins.
                </span>
                
                
                
                <span id="busuanzi_container_page_pv">
                    <b class="iconfont icon-read"></b> <i>Read count</i>
                    <span id="busuanzi_value_page_pv">0</span>
                </span>
                
            </p>
            
            
            <ul class="animated fadeInDown post-tags-list" itemprop="keywords"><li class="animated fadeInDown post-tags-list-item"><a class="animated fadeInDown post-tags-list-link" href="/tags/Js/" rel="tag">Js</a></li></ul>
            
        </div>
    </div>
</div>

<div class="screen-gradient-after">
    <div class="screen-gradient-content">
        <div class="screen-gradient-content-inside">
            <div class="bold-underline-links screen-gradient-sponsor">
                <p>
                    <span class="animated fadeIn delay-1s"></span>
                </p>
            </div>
        </div>
    </div>
</div>

<div class="article">
    <div class='main'>
        <div class="content markdown animated fadeIn">
            <p><a target="_blank" rel="noopener" href="http://chensd.com/2015-01/45-useful-javascript-tips-tricks-and-best-practices.html">原文地址</a></p>
<hr>
<h1 id="首次为变量赋值时务必使用var关键字"><a href="#首次为变量赋值时务必使用var关键字" class="headerlink" title="首次为变量赋值时务必使用var关键字"></a>首次为变量赋值时务必使用var关键字</h1><p>变量没有声明而直接赋值得话，默认会作为一个新的全局变量，要尽量避免使用全局变量。</p>
<h1 id="使用-取代"><a href="#使用-取代" class="headerlink" title="使用**===取代==**"></a>使用**===<strong>取代</strong>==**</h1><p>==和!=操作符会在需要的情况下自动转换数据类型。但===和!==不会，它们会同时比较值和数据类型，这也使得它们要比==和!=快。</p>
<pre><code class="javascript">[10] === 10    // is false
[10]  == 10    // is true
&#39;10&#39; == 10     // is true
&#39;10&#39; === 10    // is false
 []   == 0     // is true
 [] ===  0     // is false
 &#39;&#39; == false   // is true but true == &quot;a&quot; is false
 &#39;&#39; === false  // is false</code></pre>
<h1 id="underfined、null、0、false、NaN、空字符串的逻辑结果均为false"><a href="#underfined、null、0、false、NaN、空字符串的逻辑结果均为false" class="headerlink" title="underfined、null、0、false、NaN、空字符串的逻辑结果均为false"></a>underfined、null、0、false、NaN、空字符串的逻辑结果均为false</h1><h1 id="行尾使用分号"><a href="#行尾使用分号" class="headerlink" title="行尾使用分号"></a>行尾使用分号</h1><p>实践中最好还是使用分号，忘了写也没事，大部分情况下JavaScript解释器都会自动添加。对于为何要使用分号，可参考文章<a target="_blank" rel="noopener" href="https://davidwalsh.name/javascript-semicolons">JavaScript中关于分号的真相</a></p>
<a id="more"></a>
<h1 id="使用对象构造器"><a href="#使用对象构造器" class="headerlink" title="使用对象构造器"></a>使用对象构造器</h1><pre><code class="javascript">function Person(firstName, lastName)&#123;
    this.firstName =  firstName;
    this.lastName = lastName;
&#125;
var Saad = new Person(&quot;Saad&quot;, &quot;Mousliki&quot;);
</code></pre>
<h1 id="小心使用typeof、instanceof和contructor"><a href="#小心使用typeof、instanceof和contructor" class="headerlink" title="小心使用typeof、instanceof和contructor"></a>小心使用typeof、instanceof和contructor</h1><blockquote>
<ul>
<li>typeof：JavaScript一元操作符，用于以字符串的形式返回变量的原始类型，注意，typeof null也会返回object，大多数的对象类型（数组Array、时间Date等）也会返回object</li>
<li>contructor：内部原型属性，可以通过代码重写</li>
<li>instanceof：JavaScript操作符，会在原型链中的构造器中搜索，找到则返回true，否则返回false</li>
</ul>
</blockquote>
<pre><code class="javascript">var arr = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;];
typeof arr;   // 返回 &quot;object&quot; 
arr instanceof Array // true
arr.constructor();  //[]</code></pre>
<h1 id="使用自调用函数"><a href="#使用自调用函数" class="headerlink" title="使用自调用函数"></a>使用自调用函数</h1><p>函数在创建之后直接自动执行，通常称之为自调用匿名函数（Self-Invoked Anonymous Function）或直接调用函数表达式（Immediately Invoked Function Expression ）。格式如下：</p>
<pre><code class="javascript">(function()&#123;
    // 置于此处的代码将自动执行
&#125;)(); 

(function(a,b)&#123;
    var result = a+b;
    return result;
&#125;)(10,20)</code></pre>
<h1 id="从数组中随机获取成员"><a href="#从数组中随机获取成员" class="headerlink" title="从数组中随机获取成员"></a>从数组中随机获取成员</h1><pre><code class="javascript">var items = [12, 548 , &#39;a&#39; , 2 , 5478 , &#39;foo&#39; , 8852, , &#39;Doe&#39; , 2145 , 119];
var  randomItem = items[Math.floor(Math.random() * items.length)];
console.log(randomItem);</code></pre>
<h1 id="获取指定范围内的随机数"><a href="#获取指定范围内的随机数" class="headerlink" title="获取指定范围内的随机数"></a>获取指定范围内的随机数</h1><p>这个功能在生成测试用的假数据时特别有数，比如介与指定范围内的工资数。</p>
<pre><code class="javascript">var x = Math.floor(Math.random() * (max - min + 1)) + min;</code></pre>
<h1 id="生成从0到指定值的数字数组"><a href="#生成从0到指定值的数字数组" class="headerlink" title="生成从0到指定值的数字数组"></a>生成从0到指定值的数字数组</h1><pre><code class="javascript">var numbersArray = [] , max = 100;
for( var i=1; numbersArray.push(i++) &lt; max;);  // numbers = [1,2,3 ... 100]
</code></pre>
<h1 id="生成随机的字母数字字符串"><a href="#生成随机的字母数字字符串" class="headerlink" title="生成随机的字母数字字符串"></a>生成随机的字母数字字符串</h1><pre><code class="javascript">function generateRandomAlphaNum(len) &#123;
    var rdmString = &quot;&quot;;
    for( ; rdmString.length &lt; len; rdmString  += Math.random().toString(36).substr(2));
    return  rdmString.substr(0, len);
&#125;</code></pre>
<h1 id="打乱数字数组的顺序"><a href="#打乱数字数组的顺序" class="headerlink" title="打乱数字数组的顺序"></a>打乱数字数组的顺序</h1><pre><code class="javascript">var numbers = [5, 458 , 120 , -215 , 228 , 400 , 122205, -85411];
numbers = numbers.sort(function()&#123; return Math.random() - 0.5&#125;);
/* numbers 数组将类似于 [120, 5, 228, -215, 400, 458, -85411, 122205]  */
</code></pre>
<p>这里使用了JavaScript内置的数组排序函数，更好的办法是用专门的代码来实现（如Fisher-Yates算法</p>
<h1 id="字符串去空格"><a href="#字符串去空格" class="headerlink" title="字符串去空格"></a>字符串去空格</h1><p>Java、C#和PHP等语言都实现了专门的字符串去空格函数，但JavaScript中是没有的，可以通过下面的代码来为String对象函数一个<strong>trim函数</strong>：</p>
<pre><code class="javascript">String.prototype.trim = function()&#123;return this.replace(/^\s+|\s+$/g, &quot;&quot;);&#125;;</code></pre>
<p>新的JavaScript引擎已经有了trim()的原生实现</p>
<h1 id="数组之间追加"><a href="#数组之间追加" class="headerlink" title="数组之间追加"></a>数组之间追加</h1><pre><code class="javascript">var array1 = [12 , &quot;foo&quot; , &#123;name &quot;Joe&quot;&#125; , -2458];
var array2 = [&quot;Doe&quot; , 555 , 100];
Array.prototype.push.apply(array1, array2);
/* array1 值为  [12 , &quot;foo&quot; , &#123;name &quot;Joe&quot;&#125; , -2458 , &quot;Doe&quot; , 555 , 100] */</code></pre>
<h1 id="对象转换为数组"><a href="#对象转换为数组" class="headerlink" title="对象转换为数组"></a>对象转换为数组</h1><pre><code class="javascript">var argArray = Array.prototype.slice.call(arguments);</code></pre>
<h1 id="验证是否是数字"><a href="#验证是否是数字" class="headerlink" title="验证是否是数字"></a>验证是否是数字</h1><pre><code class="javascript">function isNumber(n)&#123;
    return !isNaN(parseFloat(n)) &amp;&amp; isFinite(n);
&#125;</code></pre>
<h1 id="验证是否是数组"><a href="#验证是否是数组" class="headerlink" title="验证是否是数组"></a>验证是否是数组</h1><pre><code class="javascript">function isArray(obj)&#123;
    return Object.prototype.toString.call(obj) === &#39;[object Array]&#39; ;
&#125;</code></pre>
<p>但如果toString()方法被重写过得话，就行不通了。也可以使用下面的方法：</p>
<pre><code class="javascript">Array.isArray(obj); // its a new Array method</code></pre>
<p>如果在浏览器中没有使用frame，还可以用instanceof，但如果上下文太复杂，也有可能出错。</p>
<pre><code class="javascript">var myFrame = document.createElement(&#39;iframe&#39;);
document.body.appendChild(myFrame);
var myArray = window.frames[window.frames.length-1].Array;
var arr = new myArray(a,b,10); // [a,b,10]  
// myArray 的构造器已经丢失，instanceof 的结果将不正常
// 构造器是不能跨 frame 共享的
arr instanceof Array; // false</code></pre>
<h1 id="获取数组中的最大值和最小值"><a href="#获取数组中的最大值和最小值" class="headerlink" title="获取数组中的最大值和最小值"></a>获取数组中的最大值和最小值</h1><pre><code class="javascript">var  numbers = [5, 458 , 120 , -215 , 228 , 400 , 122205, -85411]; 
var maxInNumbers = Math.max.apply(Math, numbers); 
var minInNumbers = Math.min.apply(Math, numbers);</code></pre>
<h1 id="清空数组"><a href="#清空数组" class="headerlink" title="清空数组"></a>清空数组</h1><pre><code class="javascript">var myArray = [12 , 222 , 1000 ];  
myArray.length = 0; // myArray will be equal to [].</code></pre>
<h1 id="不要直接从数组中delete或remove元素"><a href="#不要直接从数组中delete或remove元素" class="headerlink" title="不要直接从数组中delete或remove元素"></a>不要直接从数组中delete或remove元素</h1><p>如果对数组元素直接使用delete，其实并没有删除，只是将元素置为了undefined。数组元素删除应使用splice。</p>
<p>切忌：</p>
<pre><code class="javascript">var items = [12, 548 ,&#39;a&#39; , 2 , 5478 , &#39;foo&#39; , 8852, , &#39;Doe&#39; ,2154 , 119 ]; 
items.length; // return 11 
delete items[3]; // return true 
items.length; // return 11 
/* items 结果为 [12, 548, &quot;a&quot;, undefined × 1, 5478, &quot;foo&quot;, 8852, undefined × 1, &quot;Doe&quot;, 2154, 119] */</code></pre>
<p>而应：</p>
<pre><code class="javascript">var items = [12, 548 ,&#39;a&#39; , 2 , 5478 , &#39;foo&#39; , 8852, , &#39;Doe&#39; ,2154 , 119 ]; 
items.length; // return 11 
items.splice(3,1) ; 
items.length; // return 10 
/* items 结果为 [12, 548, &quot;a&quot;, 5478, &quot;foo&quot;, 8852, undefined × 1, &quot;Doe&quot;, 2154, 119]
删除对象的属性时可以使用delete。</code></pre>
<h1 id="使用length属性截断数组"><a href="#使用length属性截断数组" class="headerlink" title="使用length属性截断数组"></a>使用length属性截断数组</h1><p>前面的例子中用length属性清空数组，同样还可用它来截断数组</p>
<pre><code class="javascript">var myArray = [12 , 222 , 1000 , 124 , 98 , 10 ];  
myArray.length = 4; // myArray will be equal to [12 , 222 , 1000 , 124].</code></pre>
<p>与此同时，如果把length属性变大，数组的长度值变会增加，会使用undefined来作为新的元素填充。length是一个可写的属性。</p>
<pre><code class="javascript">myArray.length = 10; // the new array length is 10 
myArray[myArray.length - 1] ; // undefined</code></pre>
<h1 id="在条件中使用逻辑与或"><a href="#在条件中使用逻辑与或" class="headerlink" title="在条件中使用逻辑与或"></a>在条件中使用逻辑与或</h1><pre><code class="javascript">var foo = 10;  
foo == 10 &amp;&amp; doSomething(); // is the same thing as if (foo == 10) doSomething(); 
foo == 5 || doSomething(); // is the same thing as if (foo != 5) doSomething();</code></pre>
<p>逻辑或还可用来设置默认值，比如函数参数的默认值。</p>
<pre><code class="javascript">function doSomething(arg1)&#123; 
    arg1 = arg1 || 10; // arg1 will have 10 as a default value if it’s not already set
&#125;</code></pre>
<h1 id="使得map-函数方法对数据循环"><a href="#使得map-函数方法对数据循环" class="headerlink" title="使得map()函数方法对数据循环"></a>使得map()函数方法对数据循环</h1><pre><code class="javascript">var squares = [1,2,3,4].map(function (val) &#123;  
    return val * val;  
&#125;); 
// squares will be equal to [1, 4, 9, 16]
</code></pre>
<h1 id="保留指定小数位数"><a href="#保留指定小数位数" class="headerlink" title="保留指定小数位数"></a>保留指定小数位数</h1><pre><code class="javascript">var num =2.443242342;
num = num.toFixed(4);  // num will be equal to 2.4432</code></pre>
<p>注意，toFixec()返回的是字符串，不是数字。</p>
<h1 id="浮点计算的问题"><a href="#浮点计算的问题" class="headerlink" title="浮点计算的问题"></a>浮点计算的问题</h1><pre><code class="javascript">0.1 + 0.2 === 0.3 // is false 
9007199254740992 + 1 // is equal to 9007199254740992
9007199254740992 + 2 // is equal to 9007199254740994</code></pre>
<p>为什么呢？因为0.1+0.2等于0.30000000000000004。JavaScript的数字都遵循IEEE 754标准构建，在内部都是64位浮点小数表示，具体可以参见<a target="_blank" rel="noopener" href="http://www.2ality.com/2012/04/number-encoding.html">JavaScript中的数字是如何编码的</a>.</p>
<p>可以通过使用<strong>toFixed()**和</strong>toPrecision()**来解决这个问题</p>
<h1 id="通过for-in循环检查对象的属性"><a href="#通过for-in循环检查对象的属性" class="headerlink" title="通过for-in循环检查对象的属性"></a>通过for-in循环检查对象的属性</h1><p>下面这样的用法，可以防止迭代的时候进入到对象的原型属性中。</p>
<pre><code class="javascript">for (var name in object) &#123;  
    if (object.hasOwnProperty(name)) &#123; 
        // do something with name
    &#125;  
&#125;</code></pre>
<h1 id="逗号操作符"><a href="#逗号操作符" class="headerlink" title="逗号操作符"></a>逗号操作符</h1><pre><code class="javascript">var a = 0; 
var b = ( a++, 99 ); 
console.log(a);  // a will be equal to 1 
console.log(b);  // b is equal to 99</code></pre>
<h1 id="临时存储用于计算和查询的变量"><a href="#临时存储用于计算和查询的变量" class="headerlink" title="临时存储用于计算和查询的变量"></a>临时存储用于计算和查询的变量</h1><p>在jQuery选择器中，可以临时存储整个DOM元素</p>
<pre><code class="javascript">var navright = document.querySelector(&#39;#right&#39;); 
var navleft = document.querySelector(&#39;#left&#39;); 
var navup = document.querySelector(&#39;#up&#39;); 
var navdown = document.querySelector(&#39;#down&#39;);</code></pre>
<h1 id="提前检查传入-isFinite-的参数"><a href="#提前检查传入-isFinite-的参数" class="headerlink" title="提前检查传入 isFinite() 的参数"></a>提前检查传入 isFinite() 的参数</h1><pre><code class="javascript">isFinite(0/0) ; // false
isFinite(&quot;foo&quot;); // false
isFinite(&quot;10&quot;); // true
isFinite(10);   // true
isFinite(undefined);  // false
isFinite();   // false
isFinite(null);  // true，这点当特别注意
</code></pre>
<h1 id="避免在数组中使用负数做索引"><a href="#避免在数组中使用负数做索引" class="headerlink" title="避免在数组中使用负数做索引"></a>避免在数组中使用负数做索引</h1><pre><code class="javascript">var numbersArray = [1,2,3,4,5];
var from = numbersArray.indexOf(&quot;foo&quot;) ;  // from is equal to -1
numbersArray.splice(from,2);    // will return [5]</code></pre>
<p>注意传给splice的索引参数不要是负数，当是负数时，会从数组结尾处删除元素。</p>
<h1 id="用JSON来序列化与反序列化"><a href="#用JSON来序列化与反序列化" class="headerlink" title="用JSON来序列化与反序列化"></a>用JSON来序列化与反序列化</h1><pre><code class="javascript">var person = &#123;name :&#39;Saad&#39;, age : 26, department : &#123;ID : 15, name : &quot;R&amp;D&quot;&#125; &#125;;
var stringFromPerson = JSON.stringify(person);
/* stringFromPerson 结果为 &quot;&#123;&quot;name&quot;:&quot;Saad&quot;,&quot;age&quot;:26,&quot;department&quot;:&#123;&quot;ID&quot;:15,&quot;name&quot;:&quot;R&amp;D&quot;&#125;&#125;&quot;   */
var personFromString = JSON.parse(stringFromPerson);
/* personFromString 的值与 person 对象相同  */</code></pre>
<h1 id="不要使用eval-或者函数构造器"><a href="#不要使用eval-或者函数构造器" class="headerlink" title="不要使用eval()或者函数构造器"></a>不要使用eval()或者函数构造器</h1><p>eval()和函数构造器（Function consturctor）的开销较大，每次调用，JavaScript引擎都要将源代码转换为可执行的代码。</p>
<pre><code class="javascript">var func1 = new Function(functionCode);
var func2 = eval(functionCode);</code></pre>
<h1 id="避免使用with"><a href="#避免使用with" class="headerlink" title="避免使用with()"></a>避免使用with()</h1><p>使用with()可以把变量加入到全局作用域中，因此，如果有其它的同名变量，一来容易混淆，二来值也会被覆盖</p>
<h1 id="不要对数组使用for-in"><a href="#不要对数组使用for-in" class="headerlink" title="不要对数组使用for-in"></a>不要对数组使用for-in</h1><p>避免：</p>
<pre><code class="javascript">var sum = 0;  
for (var i in arrayNumbers) &#123;  
    sum += arrayNumbers[i];  
&#125;</code></pre>
<p>而是:</p>
<pre><code class="javascript">var sum = 0;  
for (var i = 0, len = arrayNumbers.length; i &lt; len; i++) &#123;  
    sum += arrayNumbers[i];  
&#125;</code></pre>
<p>另外一个好处是，i和len两个变量是在for循环的第一个声明中，二者只会初始化一次，这要比下面这种写法快：</p>
<pre><code class="javascript">for (var i = 0; i &lt; arrayNumbers.length; i++)
</code></pre>
<h1 id="传给setInterval-和setTimeout-时使用函数而不是字符串"><a href="#传给setInterval-和setTimeout-时使用函数而不是字符串" class="headerlink" title="传给setInterval()和setTimeout()时使用函数而不是字符串"></a>传给setInterval()和setTimeout()时使用函数而不是字符串</h1><p>如果传给setTimeout()和setInterval()一个字符串，他们将会用类似于eval方式进行转换，这肯定会要慢些，因此不要使用：</p>
<pre><code class="javascript">setInterval(&#39;doSomethingPeriodically()&#39;, 1000);  
setTimeout(&#39;doSomethingAfterFiveSeconds()&#39;, 5000);</code></pre>
<p>而是用：</p>
<pre><code class="javascript">setInterval(doSomethingPeriodically, 1000);  
setTimeout(doSomethingAfterFiveSeconds, 5000);</code></pre>
<h1 id="使用switch-case代替一大叠的if-else"><a href="#使用switch-case代替一大叠的if-else" class="headerlink" title="使用switch/case代替一大叠的if/else"></a>使用switch/case代替一大叠的if/else</h1><p>当判断有超过两个分支的时候使用switch/case要更快一些，而且也更优雅，更利于代码的组织，当然，如果有超过10个分支，就不要使用switch/case了。</p>
<h1 id="在switch-case中使用数字区间"><a href="#在switch-case中使用数字区间" class="headerlink" title="在switch/case中使用数字区间"></a>在switch/case中使用数字区间</h1><p>其实，switch/case中的case条件，还可以这样写：</p>
<pre><code class="javascript">function getCategory(age) &#123;  
    var category = &quot;&quot;;  
    switch (true) &#123;  
        case isNaN(age):  
            category = &quot;not an age&quot;;  
            break;  
        case (age &gt;= 50):  
            category = &quot;Old&quot;;  
            break;  
        case (age &lt;= 20):  
            category = &quot;Baby&quot;;  
            break;  
        default:  
            category = &quot;Young&quot;;  
            break;  
    &#125;;  
    return category;  
&#125;  
getCategory(5);  // 将返回 &quot;Baby&quot;</code></pre>
<h1 id="使用对象作为对象的原型"><a href="#使用对象作为对象的原型" class="headerlink" title="使用对象作为对象的原型"></a>使用对象作为对象的原型</h1><p>下面这样，便可以给定对象作为参数，来创建以此为原型的新对象：</p>
<pre><code class="javascript">function clone(object) &#123;  
    function OneShotConstructor()&#123;&#125;; 
    OneShotConstructor.prototype = object;  
    return new OneShotConstructor(); 
&#125; 
clone(Array).prototype ;  // []</code></pre>
<h1 id="HTML字段转换函数"><a href="#HTML字段转换函数" class="headerlink" title="HTML字段转换函数"></a>HTML字段转换函数</h1><pre><code class="javascript">function escapeHTML(text) &#123;  
    var replacements= &#123;&quot;&lt;&quot;: &quot;&amp;lt;&quot;, &quot;&gt;&quot;: &quot;&amp;gt;&quot;,&quot;&amp;&quot;: &quot;&amp;amp;&quot;, &quot;\&quot;&quot;: &quot;&amp;quot;&quot;&#125;;                      
    return text.replace(/[&lt;&gt;&amp;&quot;]/g, function(character) &#123;  
        return replacements[character];  
    &#125;); 
&#125;</code></pre>
<h1 id="不要在循环内部使用try-catch-finally"><a href="#不要在循环内部使用try-catch-finally" class="headerlink" title="不要在循环内部使用try-catch-finally"></a>不要在循环内部使用try-catch-finally</h1><p>try-catch-finally中catch部分在执行时会将异常赋给一个变量，这个变量会被构建成一个运行时作用域内的新的变量。<br>切忌：</p>
<pre><code class="javascript">var object = [&#39;foo&#39;, &#39;bar&#39;], i;  
for (i = 0, len = object.length; i &lt;len; i++) &#123;  
    try &#123;  
        // do something that throws an exception 
    &#125;  
    catch (e) &#123;   
        // handle exception  
    &#125; 
&#125;</code></pre>
<p>而应该：</p>
<pre><code class="javascript">var object = [&#39;foo&#39;, &#39;bar&#39;], i;  
try &#123; 
    for (i = 0, len = object.length; i &lt;len; i++) &#123;  
        // do something that throws an exception 
    &#125; 
&#125; 
catch (e) &#123;   
    // handle exception  
&#125;</code></pre>
<h1 id="使用XMLHttpRequests时注意设置超时"><a href="#使用XMLHttpRequests时注意设置超时" class="headerlink" title="使用XMLHttpRequests时注意设置超时"></a>使用XMLHttpRequests时注意设置超时</h1><p>XMLHttpRequests在执行时，当长时间没有响应（如出现网络问题等）时，应该中止掉连接，可以通过setTimeout()来完成这个工作：</p>
<pre><code class="javascript">var xhr = new XMLHttpRequest (); 
xhr.onreadystatechange = function () &#123;  
    if (this.readyState == 4) &#123;  
        clearTimeout(timeout);  
        // do something with response data 
    &#125;  
&#125;  
var timeout = setTimeout( function () &#123;  
    xhr.abort(); // call error callback  
&#125;, 60*1000 /* timeout after a minute */ ); 
xhr.open(&#39;GET&#39;, url, true);  
xhr.send();</code></pre>
<p>同时需要注意的是，不要同时发起多个XMLHttpRequests请求。</p>
<h1 id="处理WebSocket的超时"><a href="#处理WebSocket的超时" class="headerlink" title="处理WebSocket的超时"></a>处理WebSocket的超时</h1><p>通常情况下，WebSocket连接创建后，如果30秒内没有任何活动，服务器端会对连接进行超时处理，防火墙也可以对单位周期没有活动的连接进行超时处理。</p>
<p>为了防止这种情况的发生，可以每隔一定时间，往服务器发送一条空的消息。可以通过下面这两个函数来实现这个需求，一个用于使连接保持活动状态，另一个专门用于结束这个状态。</p>
<pre><code class="javascript">var timerID = 0; 
function keepAlive() &#123; 
    var timeout = 15000;  
    if (webSocket.readyState == webSocket.OPEN) &#123;  
        webSocket.send(&#39;&#39;);  
    &#125;  
    timerId = setTimeout(keepAlive, timeout);  
&#125;  
function cancelKeepAlive() &#123;  
    if (timerId) &#123;  
        cancelTimeout(timerId);  
    &#125;  
&#125;</code></pre>
<p>keepAlive()函数可以放在WebSocket连接的onOpen()方法的最后面，cancelKeepAlive()放在onClose()方法的最末尾</p>
<h1 id="时间注意原始操作符比函数调用快，使用VanillaJS"><a href="#时间注意原始操作符比函数调用快，使用VanillaJS" class="headerlink" title="时间注意原始操作符比函数调用快，使用VanillaJS"></a>时间注意<a target="_blank" rel="noopener" href="https://dev.opera.com/articles/efficient-javascript/?page=2#primitiveoperator">原始操作符比函数调用快</a>，使用<a target="_blank" rel="noopener" href="http://vanilla-js.com/">VanillaJS</a></h1><p>比如，一般不要这样：</p>
<pre><code class="javascript">var min = Math.min(a,b); 
A.push(v);</code></pre>
<p>可以这样来代替：</p>
<pre><code class="javascript">var min = a &lt; b ? a : b; 
A[A.length] = v;</code></pre>
<h1 id="开发时注意代码结构，上线前检查并压缩JavaScript代码"><a href="#开发时注意代码结构，上线前检查并压缩JavaScript代码" class="headerlink" title="开发时注意代码结构，上线前检查并压缩JavaScript代码"></a>开发时注意代码结构，上线前检查并压缩JavaScript代码</h1><p>可以使用JSLint或JSMin等工具来检查并压缩代码。</p>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls"
                data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
            <ul id="audio-list" style="display:none">
                
                
                <li title='0' data-url='/statics/chengdu.mp3'></li>
                
                    
            </ul>
            
            
            
    <div id='gitalk-container' class="comment link"
        data-ae='true'
        data-ci='ec894e2b66f752e8b7fb'
        data-cs='3ccc2e92bb350688fe2c2dc2930189b62622bfb1'
        data-r='blog-comments'
        data-o='TriDiamond'
        data-a='TriDiamond'
        data-d=''
    >Comments</div>


            
            
        </div>
        <div class="sidebar">
            <div class="box animated fadeInRight">
                <div class="subbox">
                    <img src="/img/favicon.png" height=300 width=300></img>
                    <p>张白告丶</p>
                    <span>Think like an artist, develop like an artisan</span>
                    <dl>
                        <dd><a href="https://github.com/zhanghao-web" target="_blank"><span
                                    class=" iconfont icon-github"></span></a></dd>
                        <!-- <dd><a href="" target="_blank"><span
                                    class=" iconfont icon-twitter"></span></a></dd>
                        <dd><a href="" target="_blank"><span
                                    class=" iconfont icon-stack-overflow"></span></a></dd> -->
                    </dl>
                </div>
                <ul>
                    <li><a href="/">172 <p>Articles</p></a></li>
                    <li><a href="/categories">27 <p>Categories</p></a></li>
                    <li><a href="/tags">54 <p>Tags</p></a></li>
                </ul>
            </div>
            
            
            
            <div class="box sticky animated fadeInRight faster">
                <div id="toc" class="subbox">
                    <h4>Contents</h4>
                    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%A6%96%E6%AC%A1%E4%B8%BA%E5%8F%98%E9%87%8F%E8%B5%8B%E5%80%BC%E6%97%B6%E5%8A%A1%E5%BF%85%E4%BD%BF%E7%94%A8var%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">1.</span> <span class="toc-text">首次为变量赋值时务必使用var关键字</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-%E5%8F%96%E4%BB%A3"><span class="toc-number">2.</span> <span class="toc-text">使用**&#x3D;&#x3D;&#x3D;取代&#x3D;&#x3D;**</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#underfined%E3%80%81null%E3%80%810%E3%80%81false%E3%80%81NaN%E3%80%81%E7%A9%BA%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%9C%E5%9D%87%E4%B8%BAfalse"><span class="toc-number">3.</span> <span class="toc-text">underfined、null、0、false、NaN、空字符串的逻辑结果均为false</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%A1%8C%E5%B0%BE%E4%BD%BF%E7%94%A8%E5%88%86%E5%8F%B7"><span class="toc-number">4.</span> <span class="toc-text">行尾使用分号</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%AF%B9%E8%B1%A1%E6%9E%84%E9%80%A0%E5%99%A8"><span class="toc-number">5.</span> <span class="toc-text">使用对象构造器</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B0%8F%E5%BF%83%E4%BD%BF%E7%94%A8typeof%E3%80%81instanceof%E5%92%8Ccontructor"><span class="toc-number">6.</span> <span class="toc-text">小心使用typeof、instanceof和contructor</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E8%87%AA%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-number">7.</span> <span class="toc-text">使用自调用函数</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%8E%E6%95%B0%E7%BB%84%E4%B8%AD%E9%9A%8F%E6%9C%BA%E8%8E%B7%E5%8F%96%E6%88%90%E5%91%98"><span class="toc-number">8.</span> <span class="toc-text">从数组中随机获取成员</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E6%8C%87%E5%AE%9A%E8%8C%83%E5%9B%B4%E5%86%85%E7%9A%84%E9%9A%8F%E6%9C%BA%E6%95%B0"><span class="toc-number">9.</span> <span class="toc-text">获取指定范围内的随机数</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E4%BB%8E0%E5%88%B0%E6%8C%87%E5%AE%9A%E5%80%BC%E7%9A%84%E6%95%B0%E5%AD%97%E6%95%B0%E7%BB%84"><span class="toc-number">10.</span> <span class="toc-text">生成从0到指定值的数字数组</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E9%9A%8F%E6%9C%BA%E7%9A%84%E5%AD%97%E6%AF%8D%E6%95%B0%E5%AD%97%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">11.</span> <span class="toc-text">生成随机的字母数字字符串</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%89%93%E4%B9%B1%E6%95%B0%E5%AD%97%E6%95%B0%E7%BB%84%E7%9A%84%E9%A1%BA%E5%BA%8F"><span class="toc-number">12.</span> <span class="toc-text">打乱数字数组的顺序</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8E%BB%E7%A9%BA%E6%A0%BC"><span class="toc-number">13.</span> <span class="toc-text">字符串去空格</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E4%B9%8B%E9%97%B4%E8%BF%BD%E5%8A%A0"><span class="toc-number">14.</span> <span class="toc-text">数组之间追加</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E8%BD%AC%E6%8D%A2%E4%B8%BA%E6%95%B0%E7%BB%84"><span class="toc-number">15.</span> <span class="toc-text">对象转换为数组</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81%E6%98%AF%E5%90%A6%E6%98%AF%E6%95%B0%E5%AD%97"><span class="toc-number">16.</span> <span class="toc-text">验证是否是数字</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81%E6%98%AF%E5%90%A6%E6%98%AF%E6%95%B0%E7%BB%84"><span class="toc-number">17.</span> <span class="toc-text">验证是否是数组</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E6%9C%80%E5%A4%A7%E5%80%BC%E5%92%8C%E6%9C%80%E5%B0%8F%E5%80%BC"><span class="toc-number">18.</span> <span class="toc-text">获取数组中的最大值和最小值</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B8%85%E7%A9%BA%E6%95%B0%E7%BB%84"><span class="toc-number">19.</span> <span class="toc-text">清空数组</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%8D%E8%A6%81%E7%9B%B4%E6%8E%A5%E4%BB%8E%E6%95%B0%E7%BB%84%E4%B8%ADdelete%E6%88%96remove%E5%85%83%E7%B4%A0"><span class="toc-number">20.</span> <span class="toc-text">不要直接从数组中delete或remove元素</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8length%E5%B1%9E%E6%80%A7%E6%88%AA%E6%96%AD%E6%95%B0%E7%BB%84"><span class="toc-number">21.</span> <span class="toc-text">使用length属性截断数组</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9C%A8%E6%9D%A1%E4%BB%B6%E4%B8%AD%E4%BD%BF%E7%94%A8%E9%80%BB%E8%BE%91%E4%B8%8E%E6%88%96"><span class="toc-number">22.</span> <span class="toc-text">在条件中使用逻辑与或</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BD%BF%E5%BE%97map-%E5%87%BD%E6%95%B0%E6%96%B9%E6%B3%95%E5%AF%B9%E6%95%B0%E6%8D%AE%E5%BE%AA%E7%8E%AF"><span class="toc-number">23.</span> <span class="toc-text">使得map()函数方法对数据循环</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BF%9D%E7%95%99%E6%8C%87%E5%AE%9A%E5%B0%8F%E6%95%B0%E4%BD%8D%E6%95%B0"><span class="toc-number">24.</span> <span class="toc-text">保留指定小数位数</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B5%AE%E7%82%B9%E8%AE%A1%E7%AE%97%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">25.</span> <span class="toc-text">浮点计算的问题</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%80%9A%E8%BF%87for-in%E5%BE%AA%E7%8E%AF%E6%A3%80%E6%9F%A5%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="toc-number">26.</span> <span class="toc-text">通过for-in循环检查对象的属性</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%80%97%E5%8F%B7%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-number">27.</span> <span class="toc-text">逗号操作符</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%B4%E6%97%B6%E5%AD%98%E5%82%A8%E7%94%A8%E4%BA%8E%E8%AE%A1%E7%AE%97%E5%92%8C%E6%9F%A5%E8%AF%A2%E7%9A%84%E5%8F%98%E9%87%8F"><span class="toc-number">28.</span> <span class="toc-text">临时存储用于计算和查询的变量</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%8F%90%E5%89%8D%E6%A3%80%E6%9F%A5%E4%BC%A0%E5%85%A5-isFinite-%E7%9A%84%E5%8F%82%E6%95%B0"><span class="toc-number">29.</span> <span class="toc-text">提前检查传入 isFinite() 的参数</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%81%BF%E5%85%8D%E5%9C%A8%E6%95%B0%E7%BB%84%E4%B8%AD%E4%BD%BF%E7%94%A8%E8%B4%9F%E6%95%B0%E5%81%9A%E7%B4%A2%E5%BC%95"><span class="toc-number">30.</span> <span class="toc-text">避免在数组中使用负数做索引</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%94%A8JSON%E6%9D%A5%E5%BA%8F%E5%88%97%E5%8C%96%E4%B8%8E%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-number">31.</span> <span class="toc-text">用JSON来序列化与反序列化</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%8D%E8%A6%81%E4%BD%BF%E7%94%A8eval-%E6%88%96%E8%80%85%E5%87%BD%E6%95%B0%E6%9E%84%E9%80%A0%E5%99%A8"><span class="toc-number">32.</span> <span class="toc-text">不要使用eval()或者函数构造器</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%81%BF%E5%85%8D%E4%BD%BF%E7%94%A8with"><span class="toc-number">33.</span> <span class="toc-text">避免使用with()</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%8D%E8%A6%81%E5%AF%B9%E6%95%B0%E7%BB%84%E4%BD%BF%E7%94%A8for-in"><span class="toc-number">34.</span> <span class="toc-text">不要对数组使用for-in</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BC%A0%E7%BB%99setInterval-%E5%92%8CsetTimeout-%E6%97%B6%E4%BD%BF%E7%94%A8%E5%87%BD%E6%95%B0%E8%80%8C%E4%B8%8D%E6%98%AF%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">35.</span> <span class="toc-text">传给setInterval()和setTimeout()时使用函数而不是字符串</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8switch-case%E4%BB%A3%E6%9B%BF%E4%B8%80%E5%A4%A7%E5%8F%A0%E7%9A%84if-else"><span class="toc-number">36.</span> <span class="toc-text">使用switch&#x2F;case代替一大叠的if&#x2F;else</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9C%A8switch-case%E4%B8%AD%E4%BD%BF%E7%94%A8%E6%95%B0%E5%AD%97%E5%8C%BA%E9%97%B4"><span class="toc-number">37.</span> <span class="toc-text">在switch&#x2F;case中使用数字区间</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%AF%B9%E8%B1%A1%E4%BD%9C%E4%B8%BA%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%8E%9F%E5%9E%8B"><span class="toc-number">38.</span> <span class="toc-text">使用对象作为对象的原型</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#HTML%E5%AD%97%E6%AE%B5%E8%BD%AC%E6%8D%A2%E5%87%BD%E6%95%B0"><span class="toc-number">39.</span> <span class="toc-text">HTML字段转换函数</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%8D%E8%A6%81%E5%9C%A8%E5%BE%AA%E7%8E%AF%E5%86%85%E9%83%A8%E4%BD%BF%E7%94%A8try-catch-finally"><span class="toc-number">40.</span> <span class="toc-text">不要在循环内部使用try-catch-finally</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8XMLHttpRequests%E6%97%B6%E6%B3%A8%E6%84%8F%E8%AE%BE%E7%BD%AE%E8%B6%85%E6%97%B6"><span class="toc-number">41.</span> <span class="toc-text">使用XMLHttpRequests时注意设置超时</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A4%84%E7%90%86WebSocket%E7%9A%84%E8%B6%85%E6%97%B6"><span class="toc-number">42.</span> <span class="toc-text">处理WebSocket的超时</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E6%B3%A8%E6%84%8F%E5%8E%9F%E5%A7%8B%E6%93%8D%E4%BD%9C%E7%AC%A6%E6%AF%94%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%E5%BF%AB%EF%BC%8C%E4%BD%BF%E7%94%A8VanillaJS"><span class="toc-number">43.</span> <span class="toc-text">时间注意原始操作符比函数调用快，使用VanillaJS</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E6%97%B6%E6%B3%A8%E6%84%8F%E4%BB%A3%E7%A0%81%E7%BB%93%E6%9E%84%EF%BC%8C%E4%B8%8A%E7%BA%BF%E5%89%8D%E6%A3%80%E6%9F%A5%E5%B9%B6%E5%8E%8B%E7%BC%A9JavaScript%E4%BB%A3%E7%A0%81"><span class="toc-number">44.</span> <span class="toc-text">开发时注意代码结构，上线前检查并压缩JavaScript代码</span></a></li></ol>
                </div>
            </div>
            
            
        </div>
    </div>
</div>
    </div>
</div>
    <div id="back-to-top" class="animated fadeIn faster">
        <div class="flow"></div>
        <span class="percentage animated fadeIn faster">0%</span>
        <span class="iconfont icon-top02 animated fadeIn faster"></span>
    </div>
</body>
<footer>
    <p class="copyright" id="copyright">
        &copy; 2020
        <span class="gradient-text">
            张白告丶
        </span>.
    </p>
</footer>

<script type="text/javascript" src="https://cdn.bootcss.com/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<script>
  MathJax.Hub.Config({
    "HTML-CSS": {
      preferredFont: "TeX",
      availableFonts: ["STIX", "TeX"],
      linebreaks: {
        automatic: true
      },
      EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
    },
    tex2jax: {
      inlineMath: [
        ["$", "$"],
        ["\\(", "\\)"]
      ],
      processEscapes: true,
      ignoreClass: "tex2jax_ignore|dno",
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      noUndefined: {
        attributes: {
          mathcolor: "red",
          mathbackground: "#FFEEEE",
          mathsize: "90%"
        }
      },
      Macros: {
        href: "{}"
      }
    },
    messageStyle: "none"
  });
</script>
<script>
  function initialMathJax() {
    MathJax.Hub.Queue(function () {
      var all = MathJax.Hub.getAllJax(),
        i;
      // console.log(all);
      for (i = 0; i < all.length; i += 1) {
        console.log(all[i].SourceElement().parentNode)
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  }

  function reprocessMathJax() {
    if (typeof MathJax !== 'undefined') {
      MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
    }
  }
</script>



    
<link rel="stylesheet" href="//cdn.bootcss.com/gitalk/1.5.0/gitalk.min.css">

    
<script src="//cdn.bootcss.com/gitalk/1.5.0/gitalk.min.js"></script>



<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/obsidian.js"></script>
<script src="/js/jquery.truncate.js"></script>
<script src="/js/search.js"></script>


<script src="//cdn.bootcss.com/typed.js/2.0.10/typed.min.js"></script>


<script src="//cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script>


<script src="//cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>


<script src="https://cdn.bootcss.com/codemirror/5.48.4/codemirror.min.js"></script>

    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/javascript/javascript.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/css/css.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/xml/xml.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/htmlmixed/htmlmixed.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/clike/clike.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/php/php.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/shell/shell.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/python/python.min.js"></script>




    
<script src="/js/busuanzi.min.js"></script>

    <script>
        $(document).ready(function () {
            if ($('span[id^="busuanzi_"]').length) {
                initialBusuanzi();
            }
        });
    </script>



<link rel="stylesheet" href="//cdn.bootcss.com/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="//cdn.bootcss.com/photoswipe/4.1.3/default-skin/default-skin.min.css">


<script src="//cdn.bootcss.com/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="//cdn.bootcss.com/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>



    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="//www.googletagmanager.com/gtag/js?id=UA-149874671-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-149874671-1');
    </script>





<script>
    function initialTyped () {
        var typedTextEl = $('.typed-text');
        if (typedTextEl && typedTextEl.length > 0) {
            var typed = new Typed('.typed-text', {
                strings: ["Think like an artist, develop like an artisan", "艺术家思维去思考问题，工匠创造精神去开发"],
                typeSpeed: 90,
                loop: true,
                loopCount: Infinity,
                backSpeed: 20,
            });
        }
    }

    if ($('.article-header') && $('.article-header').length) {
        $(document).ready(function () {
            initialTyped();
        });
    }
</script>




</html>
