---
title: 教科书式的正则匹配
date: 2018-06-03 18:23:52
tags: "RegExp"
categories: "Js"
---

# 前言

![regexp](https://user-gold-cdn.xitu.io/2018/5/31/163b417d183f6d30?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)

> 正则在js中是一类比较特殊的对象，它**可以匹配各个场景需要的格式验证，例如邮箱、手机号、用户登录名、密码等等**，似乎无处不在，在常见的字符串检索或替换中，我们需要提供一种模式表示检索或替换的规则，来匹配一系列符合某个句法规则的字符串。

以下是正则的较为官方的解释：

> 正则表达式是用于匹配字符串中字符组合的模式。在 JavaScript中，正则表达式也是对象。这些模式被用于 RegExp 的 `exec` 和 `test` 方法, 以及 `String` 的 `match`、`replace`、`search` 和 `split` 方法。

## 创建正则表达式（以下有两种方式来参考）：

### 使用正则表达式的构造函数（new 的方式来创建)

```js
let regex = new RegExp("a")

let regex = new RegExp("^[a-zA-Z]",'g') ;    //当使用引号时不必再加反斜杠’／’

let regex = new RegExp(/^[a-zA-Z]/,'gi');      //当有斜杠时就 不用再加引号
```

<!-- more -->

### 创建字面量（由两个斜杠’／／'包裹需要匹配的内容)

```js
let regex = /ab/ ;

let regex=/^[a-zA-Z]/ ;
```

<font color ="red">这两种方式都可以来创建一个正则表达式，但是相对来说第二种方式更加常用一些</font>。

## 正则表达式的参数，写在//后面，可混合使用

* g   全局匹配;找到所有匹配，而不是在第一个匹配后停止
* i    匹配全部大小写
* m    多行; 将开始和结束字符（^和$）视为在多行上工作（也就是，分别匹配每一行的开始和结束（由 \n 或 \r 分割），而不只是只匹配整个输入字符串的最开始和最末尾处。
* s   与m相反，单行匹配

> let regex=/^[a-zA-Z]/gim ;

## 正则中常用方法以及字符串中与正则相关的方法

### test()方法检索字符串中的值是否匹配给出的正则规则,返回布尔值 true或false。

检索"ab"是否匹配前面的正则表达式 /../，正确返回true，不匹配返回false

```js
/../.test("ab");        // true
```

### exec()方法检索字符串中的指定值，如果找到匹配的文本，则返回一个结果的数组，反之返回null

检索正则表达式/abc/是否有在字符串中defaabc有匹配到，返回匹配到内容，索引值，以及检索的字符串

```js
/abc/.exec("defaabc")       //  ["abc", index: 4, input: "defaabc"]

// 检索/qqq/是否在abcdefaabc中匹配到，返回 null
/qqq/.exec("abcdefaabc")     // null

```

### compile()方法用于改变正则匹配内容

将/abc/的匹配内容改成后面的字符串的内容

```js
/abc/.compile('def’)    //  /def/
```

### split()将字符串分割成字符串数组

将字符串abcd以/b/中的b分割成字符串数组

```js
"abcd".split(/b/);       // ["a", "cd"]
```

### replace()方法用于在字符串中用一些字符替换另一些字符或者替换一个与正则表达式匹配的字符串

```js
//用正则内容/\d\d\d/去匹配字符串12345abcde，将匹配的内容替换成*，并返回替换完成的字符串
'12345abcde'.replace(/\d\d\d/g,'*');     //  "*45abcde"

// 去掉字符串的引号，全局检索'，替换成''空
'12345abcde'.replace(/'/g,'');     //12345abcde

// 去掉字符串中所有的空格，tab,换页符，换行符
' 12 345ab cd    e '.replace(/\s/g,'');     // "12345abcde"

```

### search() 用于检索字符串中指定的字符串或与正则表达式相匹配的字符串，返回匹配的字符串的起始位置的索引，反之返回-1

```js
'abcdedfasdfs'.search(/d/);      // 3

// 即使是全局匹配，也只会匹配到第一个的位置
'abcdedfasdfs'.search(/d/g);     // 3

// 如果没有匹配到，返回-1
'abcdedfasdfs'.search(/o/g);     // -1

```

### match()方法可在字符串内检索指定的值，或找到一个或多个正则表达式的匹配

```js
// 检索指定的值，并返回,b+指多个
"aabbbbccbbaab".match(/b+/g);     //  ["bbbb", "bb", "b"]

```

## 正则规则（常用)

### 字符类规则

![字符类](https://user-gold-cdn.xitu.io/2018/5/29/163aad82a90e33a8?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)

### 范围符号匹配规则

![范围符号匹配规则](https://user-gold-cdn.xitu.io/2018/5/30/163aee18e6b545ee?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)

### 分组匹配规则

![分组匹配规则](https://user-gold-cdn.xitu.io/2018/5/30/163aee220257fe90?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)

### 重复匹配规则

![重复匹配规则](https://user-gold-cdn.xitu.io/2018/5/30/163aee281db6f27b?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)

[原文地址](https://juejin.im/post/5b0cf331f265da0905017b48?utm_source=gold_browser_extension)