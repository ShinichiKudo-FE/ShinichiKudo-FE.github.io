<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>é»˜é»˜é»˜é»˜ç‡ƒ</title>
  
  <subtitle>è·¯æ¼«æ¼«å…¶ä¿®è¿œå…®ï¼Œå¾å°†ä¸Šä¸‹è€Œæ±‚ç´¢</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://zhanghao-web.github.io/"/>
  <updated>2020-06-24T05:41:08.057Z</updated>
  <id>https://zhanghao-web.github.io/</id>
  
  <author>
    <name>å¼ ç™½å‘Šä¸¶</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>å®æˆ˜æŠ€å·§ï¼ŒVueåŸæ¥è¿˜å¯ä»¥è¿™æ ·å†™</title>
    <link href="https://zhanghao-web.github.io/2020/06/24/Vue/%E5%AE%9E%E6%88%98%E6%8A%80%E5%B7%A7%EF%BC%8CVue%E5%8E%9F%E6%9D%A5%E8%BF%98%E5%8F%AF%E4%BB%A5%E8%BF%99%E6%A0%B7%E5%86%99/"/>
    <id>https://zhanghao-web.github.io/2020/06/24/Vue/å®æˆ˜æŠ€å·§ï¼ŒVueåŸæ¥è¿˜å¯ä»¥è¿™æ ·å†™/</id>
    <published>2020-06-24T05:09:18.000Z</published>
    <updated>2020-06-24T05:41:08.057Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://juejin.im/post/5eef7799f265da02cd3b82fe?utm_source=gold_browser_extension" target="_blank" rel="noopener">åŸæ–‡åœ°å€</a></p><h2 id="hookEvent-åŸæ¥å¯ä»¥è¿™æ ·ç›‘å¬ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ"><a href="#hookEvent-åŸæ¥å¯ä»¥è¿™æ ·ç›‘å¬ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="hookEvent,åŸæ¥å¯ä»¥è¿™æ ·ç›‘å¬ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ"></a>hookEvent,åŸæ¥å¯ä»¥è¿™æ ·ç›‘å¬ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</h2><h3 id="1-å†…éƒ¨ç›‘å¬ç”Ÿå‘½å‘¨æœŸå‡½æ•°"><a href="#1-å†…éƒ¨ç›‘å¬ç”Ÿå‘½å‘¨æœŸå‡½æ•°" class="headerlink" title="1. å†…éƒ¨ç›‘å¬ç”Ÿå‘½å‘¨æœŸå‡½æ•°"></a>1. å†…éƒ¨ç›‘å¬ç”Ÿå‘½å‘¨æœŸå‡½æ•°</h3><p>ä»Šå¤©äº§å“ç»ç†åˆç»™æˆ‘ç”©è¿‡æ¥ä¸€ä¸ªéœ€æ±‚ï¼Œéœ€è¦å¼€å‘ä¸€ä¸ªå›¾è¡¨ï¼Œæ‹¿åˆ°éœ€æ±‚ï¼Œç„äº†ä¸€çœ¼ï¼Œç„¶åæˆ‘å°±å»echartså®˜ç½‘å¤åˆ¶ç¤ºä¾‹ä»£ç äº†ï¼Œå¤åˆ¶å®Œæ”¹äº†æ”¹å·®ä¸å¤šäº†ï¼Œæ”¹å®Œä»£ç é•¿è¿™æ ·</p><pre><code class="html">&lt;template&gt;  &lt;div class=&quot;echarts&quot;&gt;&lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default {  mounted() {    this.chart = echarts.init(this.$el)    // è¯·æ±‚æ•°æ®ï¼Œèµ‹å€¼æ•°æ® ç­‰ç­‰ä¸€ç³»åˆ—æ“ä½œ...    // ç›‘å¬çª—å£å‘ç”Ÿå˜åŒ–ï¼Œresizeç»„ä»¶    window.addEventListener(&#39;resize&#39;, this.$_handleResizeChart)  },  updated() {    // å¹²äº†ä¸€å †æ´»  },  created() {    // å¹²äº†ä¸€å †æ´»  },  beforeDestroy() {    // ç»„ä»¶é”€æ¯æ—¶ï¼Œé”€æ¯ç›‘å¬äº‹ä»¶    window.removeEventListener(&#39;resize&#39;, this.$_handleResizeChart)  },  methods: {    $_handleResizeChart() {      this.chart.resize()    },    // å…¶ä»–ä¸€å †æ–¹æ³•  }}&lt;/script&gt;</code></pre><p>åŠŸèƒ½å†™å®Œå¼€å¼€å¿ƒå¿ƒçš„ææµ‹äº†ï¼Œæµ‹è¯•æ²¡å•¥é—®é¢˜ï¼Œäº§å“ç»ç†è¡¨ç¤ºåšçš„å¾ˆæ£’ã€‚ç„¶è€Œ<code>code review</code>æ—¶å€™ï¼ŒæŠ€æœ¯å¤§ä½¬è¯´äº†ï¼Œè¿™æ ·æœ‰é—®é¢˜ã€‚</p><ul><li>å¤§ä½¬ï¼šè¿™æ ·å†™ä¸æ˜¯å¾ˆå¥½ï¼Œåº”è¯¥å°†ç›‘å¬<code>resize</code>äº‹ä»¶ä¸é”€æ¯<code>resize</code>äº‹ä»¶æ”¾åˆ°ä¸€èµ·ï¼Œç°åœ¨ä¸¤æ®µä»£ç åˆ†å¼€è€Œä¸”ç›¸éš”å‡ ç™¾è¡Œä»£ç ï¼Œå¯è¯»æ€§æ¯”è¾ƒå·®</li><li>æˆ‘ï¼šé‚£æˆ‘æŠŠä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ä½ç½®æ¢ä¸€ä¸‹ï¼Œæ”¾åˆ°ä¸€èµ·?</li><li>å¤§ä½¬ï¼š <code>hook</code>å¬è¿‡æ²¡ï¼Ÿ</li><li>æˆ‘ï¼š<code>Vue3.0</code>æ‰æœ‰å•Šï¼Œå’‹ï¼Œå’±è¦å‡çº§<code>Vue</code>?</li></ul><p>ç„¶åæŠ€æœ¯å¤§ä½¬å°±ä¸ç†æˆ‘äº†,å¹¶å‘æˆ‘æ‰”è¿‡æ¥ä¸€æ®µä»£ç </p><pre><code class="js">export default {  mounted() {    this.chart = echarts.init(this.$el)    // è¯·æ±‚æ•°æ®ï¼Œèµ‹å€¼æ•°æ® ç­‰ç­‰ä¸€ç³»åˆ—æ“ä½œ...    // ç›‘å¬çª—å£å‘ç”Ÿå˜åŒ–ï¼Œresizeç»„ä»¶    window.addEventListener(&#39;resize&#39;, this.$_handleResizeChart)    // é€šè¿‡hookç›‘å¬ç»„ä»¶é”€æ¯é’©å­å‡½æ•°ï¼Œå¹¶å–æ¶ˆç›‘å¬äº‹ä»¶    this.$once(&#39;hook:beforeDestroy&#39;, () =&gt; {      window.removeEventListener(&#39;resize&#39;, this.$_handleResizeChart)    })  },  updated() {},  created() {},  methods: {    $_handleResizeChart() {      // this.chart.resize()    }  }}</code></pre><p>çœ‹å®Œä»£ç ï¼Œæç„¶å¤§æ‚Ÿï¼Œå¤§ä½¬ä¸æ„§æ˜¯å¤§ä½¬ï¼ŒåŸæ¥<code>Vue</code>è¿˜å¯ä»¥è¿™æ ·ç›‘å¬ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‚</p><blockquote><p>åœ¨Vueç»„ä»¶ä¸­ï¼Œå¯ä»¥ç”¨è¿‡<code>$on,$once</code>å»ç›‘å¬æ‰€æœ‰çš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼Œå¦‚ç›‘å¬ç»„ä»¶çš„<code>updated</code>é’©å­å‡½æ•°å¯ä»¥å†™æˆ <code>this.$on(&#39;hook:updated&#39;, () =&gt; {})</code></p></blockquote><h3 id="2-å¤–éƒ¨ç›‘å¬ç”Ÿå‘½å‘¨æœŸå‡½æ•°"><a href="#2-å¤–éƒ¨ç›‘å¬ç”Ÿå‘½å‘¨æœŸå‡½æ•°" class="headerlink" title="2. å¤–éƒ¨ç›‘å¬ç”Ÿå‘½å‘¨æœŸå‡½æ•°"></a>2. å¤–éƒ¨ç›‘å¬ç”Ÿå‘½å‘¨æœŸå‡½æ•°</h3><p>ä»Šå¤©åŒäº‹åœ¨å…¬å¸ç¾¤é‡Œé—®ï¼Œæƒ³åœ¨å¤–éƒ¨ç›‘å¬ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œæœ‰æ²¡æœ‰åŠæ³•å•Šï¼Ÿ</p><p>ä¸ºä»€ä¹ˆä¼šæœ‰è¿™æ ·çš„éœ€æ±‚å‘¢ï¼ŒåŸæ¥åŒäº‹ç”¨äº†ä¸€ä¸ªç¬¬ä¸‰æ–¹ç»„ä»¶ï¼Œéœ€è¦ç›‘å¬ç¬¬ä¸‰æ–¹ç»„ä»¶æ•°æ®çš„å˜åŒ–ï¼Œä½†æ˜¯ç»„ä»¶åˆæ²¡æœ‰æä¾›<code>change</code>äº‹ä»¶ï¼ŒåŒäº‹ä¹Ÿæ²¡åŠæ³•äº†ï¼Œæ‰æƒ³å‡ºæ¥è¦å»åœ¨å¤–éƒ¨ç›‘å¬ç»„ä»¶çš„<code>updated</code>é’©å­å‡½æ•°ã€‚æŸ¥çœ‹äº†ä¸€ç•ªèµ„æ–™ï¼Œå‘ç°<code>Vueæ”¯æŒåœ¨å¤–éƒ¨ç›‘å¬ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°</code>ã€‚</p><pre><code class="html">&lt;template&gt;  &lt;!--é€šè¿‡@hook:updatedç›‘å¬ç»„ä»¶çš„updatedç”Ÿå‘½é’©å­å‡½æ•°--&gt;  &lt;!--ç»„ä»¶çš„æ‰€æœ‰ç”Ÿå‘½å‘¨æœŸé’©å­éƒ½å¯ä»¥é€šè¿‡@hook:é’©å­å‡½æ•°å æ¥ç›‘å¬è§¦å‘--&gt;  &lt;custom-select @hook:updated=&quot;$_handleSelectUpdated&quot; /&gt;&lt;/template&gt;&lt;script&gt;import CustomSelect from &#39;../components/custom-select&#39;export default {  components: {    CustomSelect  },  methods: {    $_handleSelectUpdated() {      console.log(&#39;custom-selectç»„ä»¶çš„updatedé’©å­å‡½æ•°è¢«è§¦å‘&#39;)    }  }}&lt;/script&gt;</code></pre><h2 id="å°é¡¹ç›®è¿˜ç”¨Vuex-ç”¨Vue-observableæ‰‹å†™ä¸€ä¸ªçŠ¶æ€ç®¡ç†å§"><a href="#å°é¡¹ç›®è¿˜ç”¨Vuex-ç”¨Vue-observableæ‰‹å†™ä¸€ä¸ªçŠ¶æ€ç®¡ç†å§" class="headerlink" title="å°é¡¹ç›®è¿˜ç”¨Vuex?ç”¨Vue.observableæ‰‹å†™ä¸€ä¸ªçŠ¶æ€ç®¡ç†å§"></a>å°é¡¹ç›®è¿˜ç”¨Vuex?ç”¨Vue.observableæ‰‹å†™ä¸€ä¸ªçŠ¶æ€ç®¡ç†å§</h2><p>åœ¨å‰ç«¯é¡¹ç›®ä¸­ï¼Œæœ‰è®¸å¤šæ•°æ®éœ€è¦åœ¨å„ä¸ªç»„ä»¶ä¹‹é—´è¿›è¡Œä¼ é€’å…±äº«ï¼Œè¿™æ—¶å€™å°±éœ€è¦æœ‰ä¸€ä¸ªçŠ¶æ€ç®¡ç†å·¥å…·ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½ä¼šä½¿ç”¨<code>Vuex</code>ï¼Œä½†å¯¹äºå°å‹é¡¹ç›®æ¥è¯´ï¼Œå°±åƒ<code>Vuex</code>å®˜ç½‘æ‰€è¯´ï¼šâ€œå¦‚æœæ‚¨ä¸æ‰“ç®—å¼€å‘å¤§å‹å•é¡µåº”ç”¨ï¼Œä½¿ç”¨ <code>Vuex</code> å¯èƒ½æ˜¯ç¹çå†—ä½™çš„ã€‚ç¡®å®æ˜¯å¦‚æ­¤â€”â€”å¦‚æœæ‚¨çš„åº”ç”¨å¤Ÿç®€å•ï¼Œæ‚¨æœ€å¥½ä¸è¦ä½¿ç”¨ <code>Vuex</code>â€ã€‚è¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨Vue2.6æä¾›çš„æ–°API <code>Vue.observable</code>æ‰‹åŠ¨æ‰“é€ ä¸€ä¸ª<code>Vuex</code></p><h3 id="åˆ›å»º-store"><a href="#åˆ›å»º-store" class="headerlink" title="åˆ›å»º store"></a>åˆ›å»º store</h3><pre><code class="js">import Vue from &#39;vue&#39;// é€šè¿‡Vue.observableåˆ›å»ºä¸€ä¸ªå¯å“åº”çš„å¯¹è±¡export const store = Vue.observable({  userInfo: {},  roleIds: []})// å®šä¹‰ mutations, ä¿®æ”¹å±æ€§export const mutations = {  setUserInfo(userInfo) {    store.userInfo = userInfo  },  setRoleIds(roleIds) {    store.roleIds = roleIds  }}</code></pre><h3 id="åœ¨ç»„ä»¶ä¸­å¼•ç”¨"><a href="#åœ¨ç»„ä»¶ä¸­å¼•ç”¨" class="headerlink" title="åœ¨ç»„ä»¶ä¸­å¼•ç”¨"></a>åœ¨ç»„ä»¶ä¸­å¼•ç”¨</h3><pre><code class="html">&lt;template&gt;  &lt;div&gt;    {{ userInfo.name }}  &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import { store, mutations } from &#39;../store&#39;export default {  computed: {    userInfo() {      return store.userInfo    }  },  created() {    mutations.setUserInfo({      name: &#39;ç™½å‘Š&#39;    })  }}&lt;/script&gt;</code></pre><h2 id="å¼€å‘å…¨å±€ç»„ä»¶ï¼Œä½ å¯èƒ½éœ€è¦äº†è§£ä¸€ä¸‹Vue-extend"><a href="#å¼€å‘å…¨å±€ç»„ä»¶ï¼Œä½ å¯èƒ½éœ€è¦äº†è§£ä¸€ä¸‹Vue-extend" class="headerlink" title="å¼€å‘å…¨å±€ç»„ä»¶ï¼Œä½ å¯èƒ½éœ€è¦äº†è§£ä¸€ä¸‹Vue.extend"></a>å¼€å‘å…¨å±€ç»„ä»¶ï¼Œä½ å¯èƒ½éœ€è¦äº†è§£ä¸€ä¸‹Vue.extend</h2><p><code>Vue.extend</code>æ˜¯ä¸€ä¸ªå…¨å±€Api,å¹³æ—¶æˆ‘ä»¬åœ¨å¼€å‘ä¸šåŠ¡çš„æ—¶å€™å¾ˆå°‘ä¼šç”¨åˆ°å®ƒï¼Œä½†æœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›å¯ä»¥å¼€å‘ä¸€äº›å…¨å±€ç»„ä»¶æ¯”å¦‚Loading,Notify,Messageç­‰ç»„ä»¶æ—¶ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨<code>Vue.extend</code>ã€‚</p><p>åŒå­¦ä»¬åœ¨ä½¿ç”¨<code>element-ui</code>çš„<code>loading</code>æ—¶ï¼Œåœ¨ä»£ç ä¸­å¯èƒ½ä¼šè¿™æ ·å†™</p><pre><code class="js">// æ˜¾ç¤ºloadingconst loading = this.$loading()// å…³é—­loadingloading.close()</code></pre><p>è¿™æ ·å†™å¯èƒ½æ²¡ä»€ä¹ˆç‰¹åˆ«çš„ï¼Œä½†æ˜¯å¦‚æœä½ è¿™æ ·å†™</p><pre><code class="js">const loading = this.$loading()const loading1 = this.$loading()setTimeout(() =&gt; {  loading.close()}, 1000 * 3)</code></pre><p>è¿™æ—¶å€™ä½ ä¼šå‘ç°ï¼Œæˆ‘è°ƒç”¨äº†ä¸¤æ¬¡loading,ä½†æ˜¯åªå‡ºç°äº†ä¸€ä¸ªï¼Œè€Œä¸”æˆ‘åªå…³é—­äº†loadingï¼Œä½†æ˜¯loading1ä¹Ÿè¢«å…³é—­äº†ã€‚è¿™æ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿæˆ‘ä»¬ç°åœ¨å°±æ˜¯ç”¨Vue.extend + å•ä¾‹æ¨¡å¼å»å®ç°ä¸€ä¸ªloading</p><h3 id="å¼€å‘loadingç»„ä»¶"><a href="#å¼€å‘loadingç»„ä»¶" class="headerlink" title="å¼€å‘loadingç»„ä»¶"></a>å¼€å‘loadingç»„ä»¶</h3><pre><code class="html">&lt;template&gt;  &lt;transition name=&quot;custom-loading-fade&quot;&gt;    &lt;!--loadingè’™ç‰ˆ--&gt;    &lt;div v-show=&quot;visible&quot; class=&quot;custom-loading-mask&quot;&gt;      &lt;!--loadingä¸­é—´çš„å›¾æ ‡--&gt;      &lt;div class=&quot;custom-loading-spinner&quot;&gt;        &lt;i class=&quot;custom-spinner-icon&quot;&gt;&lt;/i&gt;        &lt;!--loadingä¸Šé¢æ˜¾ç¤ºçš„æ–‡å­—--&gt;        &lt;p class=&quot;custom-loading-text&quot;&gt;{{ text }}&lt;/p&gt;      &lt;/div&gt;    &lt;/div&gt;  &lt;/transition&gt;&lt;/template&gt;&lt;script&gt;export default {  props: {  // æ˜¯å¦æ˜¾ç¤ºloading    visible: {      type: Boolean,      default: false    },    // loadingä¸Šé¢çš„æ˜¾ç¤ºæ–‡å­—    text: {      type: String,      default: &#39;&#39;    }  }}&lt;/script&gt;</code></pre><h3 id="é€šè¿‡Vue-extendå°†ç»„ä»¶è½¬æ¢ä¸ºå…¨å±€ç»„ä»¶"><a href="#é€šè¿‡Vue-extendå°†ç»„ä»¶è½¬æ¢ä¸ºå…¨å±€ç»„ä»¶" class="headerlink" title="é€šè¿‡Vue.extendå°†ç»„ä»¶è½¬æ¢ä¸ºå…¨å±€ç»„ä»¶"></a>é€šè¿‡Vue.extendå°†ç»„ä»¶è½¬æ¢ä¸ºå…¨å±€ç»„ä»¶</h3><h4 id="æ”¹é€ loadingç»„ä»¶ï¼Œå°†ç»„ä»¶çš„propsæ”¹ä¸ºdata"><a href="#æ”¹é€ loadingç»„ä»¶ï¼Œå°†ç»„ä»¶çš„propsæ”¹ä¸ºdata" class="headerlink" title="æ”¹é€ loadingç»„ä»¶ï¼Œå°†ç»„ä»¶çš„propsæ”¹ä¸ºdata"></a>æ”¹é€ loadingç»„ä»¶ï¼Œå°†ç»„ä»¶çš„propsæ”¹ä¸ºdata</h4><pre><code class="js">export default {  data() {    return {      text: &#39;&#39;,      visible: false    }  }}</code></pre><h4 id="é€šè¿‡Vue-extendæ”¹é€ ç»„ä»¶"><a href="#é€šè¿‡Vue-extendæ”¹é€ ç»„ä»¶" class="headerlink" title="é€šè¿‡Vue.extendæ”¹é€ ç»„ä»¶"></a>é€šè¿‡Vue.extendæ”¹é€ ç»„ä»¶</h4><pre><code class="js">// loading/index.jsimport Vue from &#39;vue&#39;import LoadingComponent from &#39;./loading.vue&#39;// é€šè¿‡Vue.extendå°†ç»„ä»¶åŒ…è£…æˆä¸€ä¸ªå­ç±»const LoadingConstructor = Vue.extend(LoadingComponent)let loading = undefinedLoadingConstructor.prototype.close = function() {  // å¦‚æœloading æœ‰å¼•ç”¨ï¼Œåˆ™å»æ‰å¼•ç”¨  if (loading) {    loading = undefined  }  // å…ˆå°†ç»„ä»¶éšè—  this.visible = false  // å»¶è¿Ÿ300æ¯«ç§’ï¼Œç­‰å¾…loadingå…³é—­åŠ¨ç”»æ‰§è¡Œå®Œä¹‹åé”€æ¯ç»„ä»¶  setTimeout(() =&gt; {    // ç§»é™¤æŒ‚è½½çš„domå…ƒç´     if (this.$el &amp;&amp; this.$el.parentNode) {      this.$el.parentNode.removeChild(this.$el)    }    // è°ƒç”¨ç»„ä»¶çš„$destroyæ–¹æ³•è¿›è¡Œç»„ä»¶é”€æ¯    this.$destroy()  }, 300)}const Loading = (options = {}) =&gt; {  // å¦‚æœç»„ä»¶å·²æ¸²æŸ“ï¼Œåˆ™è¿”å›å³å¯  if (loading) {    return loading  }  // è¦æŒ‚è½½çš„å…ƒç´   const parent = document.body  // ç»„ä»¶å±æ€§  const opts = {    text: &#39;&#39;,    ...options  }  // é€šè¿‡æ„é€ å‡½æ•°åˆå§‹åŒ–ç»„ä»¶ ç›¸å½“äº new Vue()  const instance = new LoadingConstructor({    el: document.createElement(&#39;div&#39;),    data: opts  })  // å°†loadingå…ƒç´ æŒ‚åœ¨åˆ°parentä¸Šé¢  parent.appendChild(instance.$el)  // æ˜¾ç¤ºloading  Vue.nextTick(() =&gt; {    instance.visible = true  })  // å°†ç»„ä»¶å®ä¾‹èµ‹å€¼ç»™loading  loading = instance  return instance}export default Loading</code></pre><h4 id="åœ¨é¡µé¢ä½¿ç”¨loading"><a href="#åœ¨é¡µé¢ä½¿ç”¨loading" class="headerlink" title="åœ¨é¡µé¢ä½¿ç”¨loading"></a>åœ¨é¡µé¢ä½¿ç”¨loading</h4><pre><code class="js">import Loading from &#39;./loading/index.js&#39;export default {  created() {    const loading = Loading({ text: &#39;æ­£åœ¨åŠ è½½ã€‚ã€‚ã€‚&#39; })    // ä¸‰ç§’é’Ÿåå…³é—­    setTimeout(() =&gt; {      loading.close()    }, 3000)  }}</code></pre><p>é€šè¿‡ä¸Šé¢çš„æ”¹é€ ï¼Œ<code>loading</code>å·²ç»å¯ä»¥åœ¨å…¨å±€ä½¿ç”¨äº†ï¼Œå¦‚æœéœ€è¦åƒ<code>element-ui</code>ä¸€æ ·æŒ‚è½½åˆ°<code>Vue.prototype</code>ä¸Šé¢ï¼Œé€šè¿‡<code>this.$loading</code>è°ƒç”¨ï¼Œè¿˜éœ€è¦æ”¹é€ ä¸€ä¸‹</p><h3 id="å°†ç»„ä»¶æŒ‚è½½åˆ°Vue-prototypeä¸Šé¢"><a href="#å°†ç»„ä»¶æŒ‚è½½åˆ°Vue-prototypeä¸Šé¢" class="headerlink" title="å°†ç»„ä»¶æŒ‚è½½åˆ°Vue.prototypeä¸Šé¢"></a>å°†ç»„ä»¶æŒ‚è½½åˆ°Vue.prototypeä¸Šé¢</h3><pre><code class="js">Vue.prototype.$loading = Loading// åœ¨exportä¹‹å‰å°†Loadingæ–¹æ³•è¿›è¡Œç»‘å®šexport default Loading// åœ¨ç»„ä»¶å†…ä½¿ç”¨this.$loading()</code></pre><h2 id="è‡ªå®šä¹‰æŒ‡ä»¤ï¼Œä»åº•å±‚è§£å†³é—®é¢˜"><a href="#è‡ªå®šä¹‰æŒ‡ä»¤ï¼Œä»åº•å±‚è§£å†³é—®é¢˜" class="headerlink" title="è‡ªå®šä¹‰æŒ‡ä»¤ï¼Œä»åº•å±‚è§£å†³é—®é¢˜"></a>è‡ªå®šä¹‰æŒ‡ä»¤ï¼Œä»åº•å±‚è§£å†³é—®é¢˜</h2><p>é€šè¿‡ä¸Šä¸€èŠ‚æˆ‘ä»¬å¼€å‘äº†ä¸€ä¸ª<code>loading</code>ç»„ä»¶ï¼Œå¼€å‘å®Œä¹‹åï¼Œå…¶ä»–å¼€å‘åœ¨ä½¿ç”¨çš„æ—¶å€™åˆæå‡ºæ¥äº†ä¸¤ä¸ªéœ€æ±‚</p><p>1.å¯ä»¥å°†<code>loading</code>æŒ‚è½½åˆ°æŸä¸€ä¸ªå…ƒç´ ä¸Šé¢ï¼Œç°åœ¨åªèƒ½æ˜¯å…¨å±ä½¿ç”¨<br>2.å¯ä»¥ä½¿ç”¨æŒ‡ä»¤åœ¨æŒ‡å®šçš„å…ƒç´ ä¸Šé¢æŒ‚è½½<code>loading</code></p><h3 id="å¼€å‘v-loadingæŒ‡ä»¤"><a href="#å¼€å‘v-loadingæŒ‡ä»¤" class="headerlink" title="å¼€å‘v-loadingæŒ‡ä»¤"></a>å¼€å‘v-loadingæŒ‡ä»¤</h3><pre><code class="js">import Vue from &#39;vue&#39;import LoadingComponent from &#39;./loading&#39;// ä½¿ç”¨ Vue.extendæ„é€ ç»„ä»¶å­ç±»const LoadingContructor = Vue.extend(LoadingComponent)// å®šä¹‰ä¸€ä¸ªåä¸ºloadingçš„æŒ‡ä»¤Vue.directive(&#39;loading&#39;, {  /**   * åªè°ƒç”¨ä¸€æ¬¡ï¼Œåœ¨æŒ‡ä»¤ç¬¬ä¸€æ¬¡ç»‘å®šåˆ°å…ƒç´ æ—¶è°ƒç”¨ï¼Œå¯ä»¥åœ¨è¿™é‡Œåšä¸€äº›åˆå§‹åŒ–çš„è®¾ç½®   * @param {*} el æŒ‡ä»¤è¦ç»‘å®šçš„å…ƒç´    * @param {*} binding æŒ‡ä»¤ä¼ å…¥çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬ {name:&#39;æŒ‡ä»¤åç§°&#39;, value: &#39;æŒ‡ä»¤ç»‘å®šçš„å€¼&#39;,arg: &#39;æŒ‡ä»¤å‚æ•° v-bind:text å¯¹åº” text&#39;}   */  bind(el, binding) {    const instance = new LoadingContructor({      el: document.createElement(&#39;div&#39;),      data: {}    })    el.appendChild(instance.$el)    el.instance = instance    Vue.nextTick(() =&gt; {      el.instance.visible = binding.value    })  },  /**   * æ‰€åœ¨ç»„ä»¶çš„ VNode æ›´æ–°æ—¶è°ƒç”¨   * @param {*} el   * @param {*} binding   */  update(el, binding) {    // é€šè¿‡å¯¹æ¯”å€¼çš„å˜åŒ–åˆ¤æ–­loadingæ˜¯å¦æ˜¾ç¤º    if (binding.oldValue !== binding.value) {      el.instance.visible = binding.value    }  },  /**   * åªè°ƒç”¨ä¸€æ¬¡ï¼Œåœ¨ æŒ‡ä»¤ä¸å…ƒç´ è§£ç»‘æ—¶è°ƒç”¨   * @param {*} el   */  unbind(el) {    const mask = el.instance.$el    if (mask.parentNode) {      mask.parentNode.removeChild(mask)    }    el.instance.$destroy()    el.instance = undefined  }})</code></pre><h3 id="åœ¨å…ƒç´ ä¸Šé¢ä½¿ç”¨æŒ‡ä»¤"><a href="#åœ¨å…ƒç´ ä¸Šé¢ä½¿ç”¨æŒ‡ä»¤" class="headerlink" title="åœ¨å…ƒç´ ä¸Šé¢ä½¿ç”¨æŒ‡ä»¤"></a>åœ¨å…ƒç´ ä¸Šé¢ä½¿ç”¨æŒ‡ä»¤</h3><pre><code class="html">&lt;template&gt;  &lt;div v-loading=&quot;visible&quot;&gt;&lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default {  data() {    return {      visible: false    }  },  created() {    this.visible = true    fetch().then(() =&gt; {      this.visible = false    })  }}&lt;/script&gt;</code></pre><h3 id="é¡¹ç›®ä¸­å“ªäº›åœºæ™¯å¯ä»¥è‡ªå®šä¹‰æŒ‡ä»¤"><a href="#é¡¹ç›®ä¸­å“ªäº›åœºæ™¯å¯ä»¥è‡ªå®šä¹‰æŒ‡ä»¤" class="headerlink" title="é¡¹ç›®ä¸­å“ªäº›åœºæ™¯å¯ä»¥è‡ªå®šä¹‰æŒ‡ä»¤"></a>é¡¹ç›®ä¸­å“ªäº›åœºæ™¯å¯ä»¥è‡ªå®šä¹‰æŒ‡ä»¤</h3><p>1.ä¸ºç»„ä»¶æ·»åŠ <code>loading</code>æ•ˆæœ<br>2.æŒ‰é’®çº§åˆ«æƒé™æ§åˆ¶ <code>v-permission</code><br>3.ä»£ç åŸ‹ç‚¹,æ ¹æ®æ“ä½œç±»å‹å®šä¹‰æŒ‡ä»¤<br>4.inputè¾“å…¥æ¡†è‡ªåŠ¨è·å–ç„¦ç‚¹<br>5.å…¶ä»–ç­‰ç­‰ã€‚ã€‚ã€‚</p><h2 id="æ·±åº¦watchä¸watchç«‹å³è§¦å‘å›è°ƒ-æˆ‘å¯ä»¥ç›‘å¬åˆ°ä½ çš„ä¸€ä¸¾ä¸€åŠ¨"><a href="#æ·±åº¦watchä¸watchç«‹å³è§¦å‘å›è°ƒ-æˆ‘å¯ä»¥ç›‘å¬åˆ°ä½ çš„ä¸€ä¸¾ä¸€åŠ¨" class="headerlink" title="æ·±åº¦watchä¸watchç«‹å³è§¦å‘å›è°ƒ,æˆ‘å¯ä»¥ç›‘å¬åˆ°ä½ çš„ä¸€ä¸¾ä¸€åŠ¨"></a>æ·±åº¦watchä¸watchç«‹å³è§¦å‘å›è°ƒ,æˆ‘å¯ä»¥ç›‘å¬åˆ°ä½ çš„ä¸€ä¸¾ä¸€åŠ¨</h2><p>åœ¨å¼€å‘Vueé¡¹ç›®æ—¶ï¼Œæˆ‘ä»¬ä¼šç»å¸¸æ€§çš„ä½¿ç”¨åˆ°watchå»ç›‘å¬æ•°æ®çš„å˜åŒ–ï¼Œç„¶ååœ¨å˜åŒ–ä¹‹ååšä¸€ç³»åˆ—æ“ä½œã€‚</p><h3 id="åŸºç¡€ç”¨æ³•"><a href="#åŸºç¡€ç”¨æ³•" class="headerlink" title="åŸºç¡€ç”¨æ³•"></a>åŸºç¡€ç”¨æ³•</h3><p>æ¯”å¦‚ä¸€ä¸ªåˆ—è¡¨é¡µï¼Œæˆ‘ä»¬å¸Œæœ›ç”¨æˆ·åœ¨æœç´¢æ¡†è¾“å…¥æœç´¢å…³é”®å­—çš„æ—¶å€™ï¼Œå¯ä»¥è‡ªåŠ¨è§¦å‘æœç´¢,æ­¤æ—¶é™¤äº†ç›‘å¬æœç´¢æ¡†çš„<code>change</code>äº‹ä»¶ä¹‹å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡<code>watch</code>ç›‘å¬æœç´¢å…³é”®å­—çš„å˜åŒ–</p><pre><code class="html">&lt;template&gt;  &lt;!--æ­¤å¤„ç¤ºä¾‹ä½¿ç”¨äº†element-ui--&gt;  &lt;div&gt;    &lt;div&gt;      &lt;span&gt;æœç´¢&lt;/span&gt;      &lt;input v-model=&quot;searchValue&quot; /&gt;    &lt;/div&gt;    &lt;!--åˆ—è¡¨ï¼Œä»£ç çœç•¥--&gt;  &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default {  data() {    return {      searchValue: &#39;&#39;    }  },  watch: {    // åœ¨å€¼å‘ç”Ÿå˜åŒ–ä¹‹åï¼Œé‡æ–°åŠ è½½æ•°æ®    searchValue(newValue, oldValue) {      // åˆ¤æ–­æœç´¢      if (newValue !== oldValue) {        this.$_loadData()      }    }  },  methods: {    $_loadData() {      // é‡æ–°åŠ è½½æ•°æ®ï¼Œæ­¤å¤„éœ€è¦é€šè¿‡å‡½æ•°é˜²æŠ–    }  }}&lt;/script&gt;</code></pre><h3 id="ç«‹å³è§¦å‘"><a href="#ç«‹å³è§¦å‘" class="headerlink" title="ç«‹å³è§¦å‘"></a>ç«‹å³è§¦å‘</h3><p>é€šè¿‡ä¸Šé¢çš„ä»£ç ï¼Œç°åœ¨å·²ç»å¯ä»¥åœ¨å€¼å‘ç”Ÿå˜åŒ–çš„æ—¶å€™è§¦å‘åŠ è½½æ•°æ®äº†ï¼Œä½†æ˜¯å¦‚æœè¦åœ¨é¡µé¢åˆå§‹åŒ–æ—¶å€™åŠ è½½æ•°æ®ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨<code>created</code>æˆ–è€…<code>mounted</code>ç”Ÿå‘½å‘¨æœŸé’©å­é‡Œé¢å†æ¬¡è°ƒç”¨<code>$_loadData</code>æ–¹æ³•ã€‚ä¸è¿‡ï¼Œç°åœ¨å¯ä»¥ä¸ç”¨è¿™æ ·å†™äº†ï¼Œé€šè¿‡é…ç½®<code>watch</code>çš„ç«‹å³è§¦å‘å±æ€§ï¼Œå°±å¯ä»¥æ»¡è¶³éœ€æ±‚äº†</p><pre><code class="js">// æ”¹é€ watchexport default {  watch: {    // åœ¨å€¼å‘ç”Ÿå˜åŒ–ä¹‹åï¼Œé‡æ–°åŠ è½½æ•°æ®    searchValue: {    // é€šè¿‡handleræ¥ç›‘å¬å±æ€§å˜åŒ–, åˆæ¬¡è°ƒç”¨ newValueä¸º&quot;&quot;ç©ºå­—ç¬¦ä¸²ï¼Œ oldValueä¸º undefined      handler(newValue, oldValue) {        if (newValue !== oldValue) {          this.$_loadData()        }      },      // é…ç½®ç«‹å³æ‰§è¡Œå±æ€§      immediate: true    }  }}</code></pre><h3 id="æ·±åº¦ç›‘å¬ï¼ˆæˆ‘å¯ä»¥çœ‹åˆ°ä½ å†…å¿ƒçš„ä¸€ä¸¾ä¸€åŠ¨ï¼‰"><a href="#æ·±åº¦ç›‘å¬ï¼ˆæˆ‘å¯ä»¥çœ‹åˆ°ä½ å†…å¿ƒçš„ä¸€ä¸¾ä¸€åŠ¨ï¼‰" class="headerlink" title="æ·±åº¦ç›‘å¬ï¼ˆæˆ‘å¯ä»¥çœ‹åˆ°ä½ å†…å¿ƒçš„ä¸€ä¸¾ä¸€åŠ¨ï¼‰"></a>æ·±åº¦ç›‘å¬ï¼ˆæˆ‘å¯ä»¥çœ‹åˆ°ä½ å†…å¿ƒçš„ä¸€ä¸¾ä¸€åŠ¨ï¼‰</h3><p>ä¸€ä¸ªè¡¨å•é¡µé¢ï¼Œéœ€æ±‚å¸Œæœ›ç”¨æˆ·åœ¨ä¿®æ”¹è¡¨å•çš„ä»»æ„ä¸€é¡¹ä¹‹åï¼Œè¡¨å•é¡µé¢å°±éœ€è¦å˜æ›´ä¸ºè¢«ä¿®æ”¹çŠ¶æ€ã€‚å¦‚æœæŒ‰ç…§ä¸Šä¾‹ä¸­watchçš„å†™æ³•ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦å»ç›‘å¬è¡¨å•æ¯ä¸€ä¸ªå±æ€§ï¼Œå¤ªéº»çƒ¦äº†ï¼Œè¿™æ—¶å€™å°±éœ€è¦ç”¨åˆ°<code>watch</code>çš„æ·±åº¦ç›‘å¬<code>deep</code></p><pre><code class="js">export default {  data() {    return {      formData: {        name: &#39;&#39;,        sex: &#39;&#39;,        age: 0,        deptId: &#39;&#39;      }    }  },  watch: {    // åœ¨å€¼å‘ç”Ÿå˜åŒ–ä¹‹åï¼Œé‡æ–°åŠ è½½æ•°æ®    formData: {      // éœ€è¦æ³¨æ„ï¼Œå› ä¸ºå¯¹è±¡å¼•ç”¨çš„åŸå› ï¼Œ newValueå’ŒoldValueçš„å€¼ä¸€ç›´ç›¸ç­‰      handler(newValue, oldValue) {        // åœ¨è¿™é‡Œæ ‡è®°é¡µé¢ç¼–è¾‘çŠ¶æ€      },      // é€šè¿‡æŒ‡å®šdeepå±æ€§ä¸ºtrue, watchä¼šç›‘å¬å¯¹è±¡é‡Œé¢æ¯ä¸€ä¸ªå€¼çš„å˜åŒ–      deep: true    }  }}</code></pre><h2 id="å‡½æ•°å¼ç»„ä»¶ï¼Œå‡½æ•°æ˜¯ç»„ä»¶ï¼Ÿ"><a href="#å‡½æ•°å¼ç»„ä»¶ï¼Œå‡½æ•°æ˜¯ç»„ä»¶ï¼Ÿ" class="headerlink" title="å‡½æ•°å¼ç»„ä»¶ï¼Œå‡½æ•°æ˜¯ç»„ä»¶ï¼Ÿ"></a>å‡½æ•°å¼ç»„ä»¶ï¼Œå‡½æ•°æ˜¯ç»„ä»¶ï¼Ÿ</h2><p>ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç»„ä»¶ï¼Ÿå‡½æ•°å¼ç»„ä»¶å°±æ˜¯å‡½æ•°æ˜¯ç»„ä»¶ï¼Œæ„Ÿè§‰åœ¨ç©æ–‡å­—æ¸¸æˆã€‚ä½¿ç”¨è¿‡Reactçš„åŒå­¦ï¼Œåº”è¯¥ä¸ä¼šå¯¹å‡½æ•°å¼ç»„ä»¶æ„Ÿåˆ°é™Œç”Ÿã€‚å‡½æ•°å¼ç»„ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºæ²¡æœ‰å†…éƒ¨çŠ¶æ€ï¼Œæ²¡æœ‰ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼Œæ²¡æœ‰this(ä¸éœ€è¦å®ä¾‹åŒ–çš„ç»„ä»¶)ã€‚</p><p>åœ¨æ—¥å¸¸å†™bugçš„è¿‡ç¨‹ä¸­ï¼Œç»å¸¸ä¼šå¼€å‘ä¸€äº›çº¯å±•ç¤ºæ€§çš„ä¸šåŠ¡ç»„ä»¶ï¼Œæ¯”å¦‚ä¸€äº›è¯¦æƒ…é¡µé¢ï¼Œåˆ—è¡¨ç•Œé¢ç­‰ï¼Œå®ƒä»¬æœ‰ä¸€ä¸ªå…±åŒçš„ç‰¹ç‚¹æ˜¯åªéœ€è¦å°†å¤–éƒ¨ä¼ å…¥çš„æ•°æ®è¿›è¡Œå±•ç°ï¼Œä¸éœ€è¦æœ‰å†…éƒ¨çŠ¶æ€ï¼Œä¸éœ€è¦åœ¨ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°é‡Œé¢åšå¤„ç†ï¼Œè¿™æ—¶å€™ä½ å°±å¯ä»¥è€ƒè™‘ä½¿ç”¨å‡½æ•°å¼ç»„ä»¶ã€‚</p><h3 id="å…ˆæ¥ä¸€ä¸ªå‡½æ•°å¼ç»„ä»¶çš„ä»£ç "><a href="#å…ˆæ¥ä¸€ä¸ªå‡½æ•°å¼ç»„ä»¶çš„ä»£ç " class="headerlink" title="å…ˆæ¥ä¸€ä¸ªå‡½æ•°å¼ç»„ä»¶çš„ä»£ç "></a>å…ˆæ¥ä¸€ä¸ªå‡½æ•°å¼ç»„ä»¶çš„ä»£ç </h3><pre><code class="js">export default {  // é€šè¿‡é…ç½®functionalå±æ€§æŒ‡å®šç»„ä»¶ä¸ºå‡½æ•°å¼ç»„ä»¶  functional: true,  // ç»„ä»¶æ¥æ”¶çš„å¤–éƒ¨å±æ€§  props: {    avatar: {      type: String    }  },  /**   * æ¸²æŸ“å‡½æ•°   * @param {*} h   * @param {*} context å‡½æ•°å¼ç»„ä»¶æ²¡æœ‰this, props, slotsç­‰éƒ½åœ¨contextä¸Šé¢æŒ‚ç€   */  render(h, context) {    const { props } = context    if (props.avatar) {      return &lt;img src={props.avatar}&gt;&lt;/img&gt;    }    return &lt;img src=&quot;default-avatar.png&quot;&gt;&lt;/img&gt;  }}</code></pre><p>åœ¨ä¸Šä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªå¤´åƒç»„ä»¶ï¼Œå¦‚æœå¤–éƒ¨ä¼ å…¥å¤´åƒï¼Œåˆ™æ˜¾ç¤ºä¼ å…¥çš„å¤´åƒï¼Œå¦åˆ™æ˜¾ç¤ºé»˜è®¤å¤´åƒã€‚ä¸Šé¢çš„ä»£ç ä¸­å¤§å®¶çœ‹åˆ°æœ‰ä¸€ä¸ª<code>render</code>å‡½æ•°ï¼Œè¿™ä¸ªæ˜¯Vueä½¿ç”¨<code>JSX</code>çš„å†™æ³•ï¼Œå…³äº<code>JSX</code>,å°ç¼–å°†åœ¨åç»­æ–‡ç« ä¸­ä¼šå‡ºè¯¦ç»†çš„ä½¿ç”¨æ•™ç¨‹ã€‚</p><h3 id="ä¸ºä»€ä¹ˆä½¿ç”¨å‡½æ•°å¼ç»„ä»¶"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨å‡½æ•°å¼ç»„ä»¶" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨å‡½æ•°å¼ç»„ä»¶"></a>ä¸ºä»€ä¹ˆä½¿ç”¨å‡½æ•°å¼ç»„ä»¶</h3><p>1.æœ€ä¸»è¦æœ€å…³é”®çš„åŸå› æ˜¯å‡½æ•°å¼ç»„ä»¶ä¸éœ€è¦å®ä¾‹åŒ–ï¼Œæ— çŠ¶æ€ï¼Œæ²¡æœ‰ç”Ÿå‘½å‘¨æœŸï¼Œæ‰€ä»¥æ¸²æŸ“æ€§èƒ½è¦å¥½äºæ™®é€šç»„ä»¶<br>2.å‡½æ•°å¼ç»„ä»¶ç»“æ„æ¯”è¾ƒç®€å•ï¼Œä»£ç ç»“æ„æ›´æ¸…æ™°</p><h3 id="å‡½æ•°å¼ç»„ä»¶ä¸æ™®é€šç»„ä»¶çš„åŒºåˆ«"><a href="#å‡½æ•°å¼ç»„ä»¶ä¸æ™®é€šç»„ä»¶çš„åŒºåˆ«" class="headerlink" title="å‡½æ•°å¼ç»„ä»¶ä¸æ™®é€šç»„ä»¶çš„åŒºåˆ«"></a>å‡½æ•°å¼ç»„ä»¶ä¸æ™®é€šç»„ä»¶çš„åŒºåˆ«</h3><p>1.å‡½æ•°å¼ç»„ä»¶éœ€è¦åœ¨å£°æ˜ç»„ä»¶æ˜¯æŒ‡å®šfunctional<br>2.å‡½æ•°å¼ç»„ä»¶ä¸éœ€è¦å®ä¾‹åŒ–ï¼Œæ‰€ä»¥æ²¡æœ‰this,thisé€šè¿‡renderå‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°æ¥ä»£æ›¿<br>3.å‡½æ•°å¼ç»„ä»¶æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼Œä¸èƒ½ä½¿ç”¨è®¡ç®—å±æ€§ï¼Œwatchç­‰ç­‰<br>4.å‡½æ•°å¼ç»„ä»¶ä¸èƒ½é€šè¿‡$emitå¯¹å¤–æš´éœ²äº‹ä»¶ï¼Œè°ƒç”¨äº‹ä»¶åªèƒ½é€šè¿‡context.listeners.clickçš„æ–¹å¼è°ƒç”¨å¤–éƒ¨ä¼ å…¥çš„äº‹ä»¶<br>5.å› ä¸ºå‡½æ•°å¼ç»„ä»¶æ˜¯æ²¡æœ‰å®ä¾‹åŒ–çš„ï¼Œæ‰€ä»¥åœ¨å¤–éƒ¨é€šè¿‡refå»å¼•ç”¨ç»„ä»¶æ—¶ï¼Œå®é™…å¼•ç”¨çš„æ˜¯HTMLElement<br>6.å‡½æ•°å¼ç»„ä»¶çš„propså¯ä»¥ä¸ç”¨æ˜¾ç¤ºå£°æ˜ï¼Œæ‰€ä»¥æ²¡æœ‰åœ¨propsé‡Œé¢å£°æ˜çš„å±æ€§éƒ½ä¼šè¢«è‡ªåŠ¨éšå¼è§£æä¸ºprop,è€Œæ™®é€šç»„ä»¶æ‰€æœ‰æœªå£°æ˜çš„å±æ€§éƒ½è¢«è§£æåˆ°$attrsé‡Œé¢ï¼Œå¹¶è‡ªåŠ¨æŒ‚è½½åˆ°ç»„ä»¶æ ¹å…ƒç´ ä¸Šé¢(å¯ä»¥é€šè¿‡inheritAttrså±æ€§ç¦æ­¢)</p><h3 id="æˆ‘ä¸æƒ³ç”¨JSXï¼Œèƒ½ç”¨å‡½æ•°å¼ç»„ä»¶å—ï¼Ÿ"><a href="#æˆ‘ä¸æƒ³ç”¨JSXï¼Œèƒ½ç”¨å‡½æ•°å¼ç»„ä»¶å—ï¼Ÿ" class="headerlink" title="æˆ‘ä¸æƒ³ç”¨JSXï¼Œèƒ½ç”¨å‡½æ•°å¼ç»„ä»¶å—ï¼Ÿ"></a>æˆ‘ä¸æƒ³ç”¨JSXï¼Œèƒ½ç”¨å‡½æ•°å¼ç»„ä»¶å—ï¼Ÿ</h3><p>åœ¨<code>Vue2.5</code>ä¹‹å‰ï¼Œä½¿ç”¨å‡½æ•°å¼ç»„ä»¶åªèƒ½é€šè¿‡<code>JSX</code>çš„æ–¹å¼ï¼Œåœ¨ä¹‹åï¼Œå¯ä»¥é€šè¿‡æ¨¡æ¿è¯­æ³•æ¥ç”Ÿå‘½å‡½æ•°å¼ç»„ä»¶</p><pre><code class="html">&lt;!--åœ¨template ä¸Šé¢æ·»åŠ  functionalå±æ€§--&gt;&lt;template functional&gt;  &lt;img :src=&quot;props.avatar ? props.avatar : &#39;default-avatar.png&#39;&quot; /&gt;&lt;/template&gt;&lt;!--æ ¹æ®ä¸Šä¸€èŠ‚ç¬¬å…­æ¡ï¼Œå¯ä»¥çœç•¥å£°æ˜props--&gt;</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://juejin.im/post/5eef7799f265da02cd3b82fe?utm_source=gold_browser_extension&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;åŸæ–‡åœ°å€&lt;/a&gt;&lt;/p&gt;
&lt;
      
    
    </summary>
    
      <category term="Vue" scheme="https://zhanghao-web.github.io/categories/Vue/"/>
    
    
      <category term="Vue" scheme="https://zhanghao-web.github.io/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>ES2020çš„æ–°åŠŸèƒ½</title>
    <link href="https://zhanghao-web.github.io/2020/05/25/Js/ES2020%E7%9A%84%E6%96%B0%E5%8A%9F%E8%83%BD/"/>
    <id>https://zhanghao-web.github.io/2020/05/25/Js/ES2020çš„æ–°åŠŸèƒ½/</id>
    <published>2020-05-25T11:00:30.000Z</published>
    <updated>2020-05-25T11:17:09.395Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://juejin.im/post/5eca8607e51d457890602072?utm_source=gold_browser_extension#heading-15" target="_blank" rel="noopener">åŸæ–‡åœ°å€</a></p><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>è¿‘å¹´æ¥ï¼ŒJavaScript çš„å‘å±•éå¸¸è¿…é€Ÿã€‚ å°¤å…¶æ˜¯åœ¨2015 å¹´ ES6 å‘å¸ƒä¹‹åï¼Œæƒ…å†µå˜å¾—æ›´å¥½ã€‚</p><p>ç°åœ¨ è®¸å¤šæ–°çš„ç‰¹æ€§è¢«æè®®åŒ…æ‹¬åœ¨ <code>ES2020</code>ç‰ˆæœ¬ä¸­ã€‚å¥½æ¶ˆæ¯æ˜¯è¿™äº›å·²ç»å·²ç»æ•²å®šã€‚ ç°åœ¨ï¼Œæˆ‘ä»¬è·å¾—äº†æœ€ç»ˆå®šç¨¿çš„åŠŸèƒ½æ¸…å•ï¼Œå®ƒä»¬å°†åœ¨è¢«æ‰¹å‡†å‘å¸ƒä¹‹åå‡ºç°åœ¨å¤‡å—æœŸå¾…çš„ <code>ES2020</code> ä¸­ã€‚ å…¶ä¸­ä¸€äº›åŠŸèƒ½ä½¿æˆ‘éå¸¸å…´å¥‹ï¼Œå› ä¸ºåœ¨å®ƒä»¬å­˜åœ¨ä¹‹å‰ç¼–å†™ä»£ç æ—¶é‡åˆ°å°†ä¼šé‡åˆ°å¾ˆå¤šéº»çƒ¦ã€‚ è®©æˆ‘ä»¬çœ‹çœ‹å®ƒä»¬æ˜¯ä»€ä¹ˆå§ï¼</p><h2 id="å¯é€‰é“¾æ“ä½œç¬¦ï¼ˆOptional-Chaining-Operatorï¼‰"><a href="#å¯é€‰é“¾æ“ä½œç¬¦ï¼ˆOptional-Chaining-Operatorï¼‰" class="headerlink" title="å¯é€‰é“¾æ“ä½œç¬¦ï¼ˆOptional Chaining Operatorï¼‰"></a>å¯é€‰é“¾æ“ä½œç¬¦ï¼ˆOptional Chaining Operatorï¼‰</h2><p>å¯¹æˆ‘ä¸ªäººæ¥è¯´ï¼Œè¿™æ˜¯ ES2020æœ€ä»¤äººå…´å¥‹çš„ç‰¹ç‚¹ä¹‹ä¸€ã€‚ æˆ‘å·²ç»ç¼–å†™äº†å¾ˆå¤šç¨‹åºï¼Œè¿™äº›ç¨‹åºå°†ä¼šä»è¿™ä¸ªæ–°ç‰¹æ€§ä¸­è·ç›ŠåŒªæµ…ã€‚</p><p>å¯é€‰é“¾æ“ä½œç¬¦<strong>å…è®¸æ‚¨å®‰å…¨åœ°è®¿é—®å¯¹è±¡çš„æ·±åµŒå¥—å±æ€§ï¼Œè€Œä¸å¿…æ£€æŸ¥æ¯ä¸ªå±æ€§æ˜¯å¦å­˜åœ¨</strong>ã€‚ è®©æˆ‘ä»¬çœ‹çœ‹è¿™ä¸ªç‰¹æ€§å¯¹æˆ‘ä»¬æœ‰ä»€ä¹ˆå¸®åŠ©ã€‚</p><h3 id="æ‹¥æœ‰å¯é€‰é“¾æ“ä½œç¬¦ä¹‹å‰"><a href="#æ‹¥æœ‰å¯é€‰é“¾æ“ä½œç¬¦ä¹‹å‰" class="headerlink" title="æ‹¥æœ‰å¯é€‰é“¾æ“ä½œç¬¦ä¹‹å‰"></a>æ‹¥æœ‰å¯é€‰é“¾æ“ä½œç¬¦ä¹‹å‰</h3><pre><code class="js">const user = {  firstName: &quot;Joseph&quot;,  lastName: &quot;Kuruvilla&quot;,  age: 38,  address: {    number: &quot;239&quot;,    street: &quot;Ludwig Lane&quot;,    city: &quot;Chennai&quot;,    zip: &quot;600028&quot;,    prop1: {      prop2: {        prop3: {          prop4: {            value: &quot;sample&quot;,          },        },      },    },  },};if (user &amp;&amp; user.address) {  console.log(user.address.zip);  //600028}if (  user &amp;&amp;  user.address &amp;&amp;  user.address.prop1 &amp;&amp;  user.address.prop1.prop2 &amp;&amp;  user.address.prop1.prop2.prop3 &amp;&amp;  user.address.prop1.prop2.prop3.prop4) {  console.log(user.address.prop1.prop2.prop3.prop4.value);  //sample}//Accessing unexisting propertyconsole.log(user.address.prop102.po);//Error</code></pre><p>æ­£å¦‚æ‚¨åœ¨ä¸Šé¢çœ‹åˆ°çš„ï¼Œæ‚¨<strong>å¿…é¡»æ£€æŸ¥æ¯ä¸ªçº§åˆ«ä¸­æ˜¯å¦å­˜åœ¨è¯¥å±æ€§ï¼Œä»¥é¿å…å‡ºç°æ— æ³•è¯»å–æœªå®šä¹‰å±æ€§â€œ poâ€çš„é”™è¯¯</strong>ã€‚ éšç€åµŒå¥—çº§åˆ«çš„å¢åŠ ï¼Œæ‰‹åŠ¨æ£€æŸ¥çš„å±æ€§æ•°é‡ä¹Ÿä¼šå¢åŠ ã€‚ è¿™æ„å‘³ç€æˆ‘ä»¬å¿…é¡»æ£€æŸ¥æ¯ä¸ªçº§åˆ«ï¼Œä»¥ç¡®ä¿å®ƒä¸ä¼šåœ¨é‡åˆ°æœªå®šä¹‰æˆ–ç©ºå¯¹è±¡æ—¶å´©æºƒã€‚</p><h3 id="æ‹¥æœ‰å¯é€‰é“¾å¼æ“ä½œç¬¦ä¹‹å"><a href="#æ‹¥æœ‰å¯é€‰é“¾å¼æ“ä½œç¬¦ä¹‹å" class="headerlink" title="æ‹¥æœ‰å¯é€‰é“¾å¼æ“ä½œç¬¦ä¹‹å"></a>æ‹¥æœ‰å¯é€‰é“¾å¼æ“ä½œç¬¦ä¹‹å</h3><p>éšç€<code>å¯é€‰é“¾å¼æ“ä½œç¬¦ (Optional Chaining)</code> çš„å¼•å…¥ï¼Œæˆ‘ä»¬å‰ç«¯çš„å·¥ä½œå˜å¾—å®¹æ˜“å¤šäº†ã€‚ é€šè¿‡ç®€å•åœ°ä½¿ç”¨å¯é€‰é“¾å¼æ“ä½œç¬¦  <code>?.</code>  æˆ‘ä»¬å¯ä»¥è®¿é—®æ·±åµŒå¥—çš„å¯¹è±¡ï¼Œè€Œä¸å¿…æ£€æŸ¥æœªå®šä¹‰æˆ–ç©ºå¯¹è±¡ã€‚</p><pre><code class="js">const user = {  firstName: &quot;Joseph&quot;,  lastName: &quot;Kuruvilla&quot;,  age: 38,  address: {    number: &quot;239&quot;,    street: &quot;Ludwig Lane&quot;,    city: &quot;Chennai&quot;,    zip: &quot;600028&quot;,    prop1: {      prop2: {        prop3: {          prop4: {            value: &quot;sample&quot;,          },        },      },    },  },};console.log(user?.address?.zip);// 600028console.log(user?.address?.prop1?.prop2?.prop3?.prop4?.value);// sample//Accessing unexisting propertyconsole.log(user?.address?.prop102?.po);//undefined</code></pre><h2 id="ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ï¼ˆNullish-coalescing-operatorï¼‰"><a href="#ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ï¼ˆNullish-coalescing-operatorï¼‰" class="headerlink" title="ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ï¼ˆNullish coalescing operatorï¼‰"></a>ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ï¼ˆNullish coalescing operatorï¼‰</h2><p>è¿™æ˜¯å¦ä¸€ä¸ªä»¤æˆ‘å…´å¥‹çš„åŠŸèƒ½ï¼Œå½“æˆ‘ç¬¬ä¸€æ¬¡åœ¨<strong>proposal stage</strong>ï¼Œ äº†è§£åˆ°çš„æ—¶å€™ï¼Œæˆ‘ç”±è¡·çš„å–œæ¬¢è¿™ä¸ªç‰¹æ€§ï¼Œå› ä¸ºæˆ‘å·²ç»å†äº†ç¼–å†™å•ç‹¬çš„å‡½æ•°æ¥æ‰‹åŠ¨æ£€æŸ¥è¿™ä¸ªç‰¹æ€§çš„éº»çƒ¦ã€‚</p><p><code>ç©ºå€¼åˆå¹¶æ“ä½œç¬¦</code>å…è®¸æ‚¨æ£€æŸ¥  <code>nullish</code>  å€¼è€Œä¸æ˜¯  <code>falsey</code>  å€¼ã€‚ <code>Nullish</code> å€¼æ˜¯æŒ‡  <code>null æˆ– undefined</code> çš„å€¼ã€‚ è€Œ falsey å€¼æ˜¯è¯¸å¦‚<code>ç©ºå­—ç¬¦ä¸²ã€æ•°å­—0ã€  undefined ã€  null ã€  false ã€  NaN</code>  ç­‰ç­‰çš„å€¼ã€‚ è¿™å¯¹ä½ æ¥è¯´å¯èƒ½å¬èµ·æ¥æ²¡ä»€ä¹ˆä¸åŒï¼Œä½†æ˜¯åœ¨ç°å®ä¸­ï¼Œè¿™æ„å‘³ç€å¾ˆå¤šã€‚</p><h3 id="åœ¨æœ‰ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ä¹‹å‰"><a href="#åœ¨æœ‰ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ä¹‹å‰" class="headerlink" title="åœ¨æœ‰ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ä¹‹å‰"></a>åœ¨æœ‰ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ä¹‹å‰</h3><p>æˆ‘æœ€è¿‘åšäº†ä¸€ä¸ªé¡¹ç›®ï¼Œæˆ‘éœ€è¦å…è®¸é»‘æš—æ¨¡å¼ï¼ˆDark Modeï¼‰åˆ‡æ¢åŠŸèƒ½ã€‚ æˆ‘å¿…é¡»æ£€æŸ¥è¾“å…¥æ˜¯  <code>true</code> è¿˜æ˜¯  <code>false</code> ã€‚ å¦‚æœç”¨æˆ·æ²¡æœ‰è®¾ç½®ä»»ä½•å€¼ï¼Œåˆ™é»˜è®¤ä¸º  <code>true</code> ã€‚ ä¸‹é¢å°±æ˜¯æˆ‘å¦‚ä½•åœ¨æœ‰<code>ç©ºå€¼åˆå¹¶æ“ä½œç¬¦</code>ä¹‹å‰å®ç°å®ƒçš„ï¼š</p><pre><code class="js">const darkModePreference1 = true;const darkModePreference2 = false;const darkModePreference3 = undefined;const darkModePreference4 = null;const getUserDarkModePreference = (darkModePreference) =&gt; {  if (darkModePreference || darkModePreference === false) {    return darkModePreference;  }  return true;};getUserDarkModePreference(darkModePreference1);// truegetUserDarkModePreference(darkModePreference2);// falsegetUserDarkModePreference(darkModePreference3);// truegetUserDarkModePreference(darkModePreference4);// true</code></pre><h3 id="åœ¨æœ‰ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ä¹‹å"><a href="#åœ¨æœ‰ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ä¹‹å" class="headerlink" title="åœ¨æœ‰ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ä¹‹å"></a>åœ¨æœ‰ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ä¹‹å</h3><p>åœ¨æœ‰ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ä¹‹åï¼Œæ‚¨æ‰€è¦åšçš„å°±æ˜¯ä½¿ç”¨  <code>??</code>  æ“ä½œç¬¦ã€‚ä¸éœ€è¦  <code>if</code>  è¯­å¥ï¼š\</p><pre><code class="js">const darkModePreference1 = true;const darkModePreference2 = false;const darkModePreference3 = undefined;const darkModePreference4 = null;const getUserDarkModePreference = (darkModePreference) =&gt; {  return darkModePreference ?? true;};getUserDarkModePreference(darkModePreference1);// truegetUserDarkModePreference(darkModePreference2);// falsegetUserDarkModePreference(darkModePreference3);// truegetUserDarkModePreference(darkModePreference4);// true</code></pre><p>è¿™é‡ŒåŸºæœ¬ä¸Šå‘ç”Ÿçš„æƒ…å†µæ˜¯ï¼Œå¦‚æœå˜é‡ darkModePreference åŒ…å«ä¸€ä¸ª  <code>nullish</code>  å€¼ï¼Œé‚£ä¹ˆå°†å€¼ <code>true</code> èµ‹ç»™å®ƒã€‚ ç®€å•ï¼Œç®€çŸ­ï¼Œæ˜“äºç†è§£ã€‚</p><h2 id="åŠ¨æ€-importï¼ˆDynamic-Importsï¼‰"><a href="#åŠ¨æ€-importï¼ˆDynamic-Importsï¼‰" class="headerlink" title="åŠ¨æ€ importï¼ˆDynamic Importsï¼‰"></a>åŠ¨æ€ importï¼ˆDynamic Importsï¼‰</h2><p>è¿™ä¸ªç‰¹æ€§å°†å¸®åŠ©æ‚¨çš„åº”ç”¨ç¨‹åºæ›´åŠ é«˜æ•ˆçš„æ‰§è¡Œï¼Œ <code>åŠ¨æ€ import</code> å…è®¸æ‚¨å°† JS æ–‡ä»¶ä½œä¸ºåŸç”Ÿåº”ç”¨ç”¨ç¨‹åºä¸­çš„æ¨¡å—åŠ¨æ€å¯¼å…¥ã€‚ åœ¨ <code>ES2020</code>ä¹‹å‰ï¼Œä¸ç®¡æ˜¯å¦ä½¿ç”¨æ¨¡å—ï¼Œéƒ½åº”è¯¥å¯¼å…¥æ¨¡å—ã€‚<br>ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬éœ€è¦æ·»åŠ ä¸€ä¸ªåŠŸèƒ½æ¥ä¸‹è½½ pdf æ ¼å¼çš„æ–‡ä»¶ã€‚<br>è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•åœ¨ <code>åŠ¨æ€ import</code> ä¹‹å‰å’Œä¹‹åå®ç°è¿™ä¸€ç‚¹ã€‚</p><h3 id="åœ¨-åŠ¨æ€-import-ä¹‹å‰"><a href="#åœ¨-åŠ¨æ€-import-ä¹‹å‰" class="headerlink" title="åœ¨ åŠ¨æ€ import  ä¹‹å‰"></a>åœ¨ åŠ¨æ€ import  ä¹‹å‰</h3><p>å®é™…ä¸Šï¼Œä¸ä¼šæ‰€æœ‰çš„é¡µé¢è®¿é—®è€…ä½¿ç”¨ä¸‹è½½ pdf çš„é€‰é¡¹ã€‚ ä½†æ˜¯ï¼Œæ— è®ºæˆ‘ä»¬çš„è®¿å®¢æ˜¯å¦ä½¿ç”¨å®ƒï¼Œå®ƒä»ç„¶éœ€è¦è¢«å¯¼å…¥ã€‚ è¿™æ„å‘³ç€è¿™ä¸ª pdf æ¨¡å—ä¹Ÿå¯ä»¥åœ¨é¡µé¢åŠ è½½æœŸé—´è¢«ä¸‹è½½ã€‚</p><pre><code class="js">import { exportAsPdf } from &quot;./export-as-pdf.js&quot;;const exportPdfButton = document.querySelector(&quot;.exportPdfBtn&quot;);exportPdfButton.addEventListener(&quot;click&quot;, exportAsPdf);</code></pre><p>è¿™ç§å¼€é”€å¯ä»¥é€šè¿‡ä½¿ç”¨<code>å»¶è¿ŸåŠ è½½æ¨¡å—ï¼ˆlazy loaded modules</code>ï¼‰æ¥å‡å°‘ã€‚ å¯ä»¥é€šè¿‡ç§°ä¸º<code>ä»£ç åˆ†å‰² ï¼ˆcode-splittingï¼‰</code>çš„æ–¹æ³•æ¥å®ç°ï¼Œè¿™åœ¨ Webpack æˆ–å…¶ä»–æ¨¡å—æ‰“åŒ…å·¥å…·å·²ç»å¯ä»¥ä½¿ç”¨äº†ã€‚<br>ä½†æ˜¯å¯¹äº ES2020ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨å®ƒäº†ï¼Œè€Œä¸éœ€è¦æ¨¡å—æ‰“åŒ…å·¥å…·ï¼Œå¦‚ Webpackã€‚</p><h3 id="åœ¨åŠ¨æ€å¯¼å…¥ï¼ˆåŠ¨æ€-importï¼‰ä¹‹å"><a href="#åœ¨åŠ¨æ€å¯¼å…¥ï¼ˆåŠ¨æ€-importï¼‰ä¹‹å" class="headerlink" title="åœ¨åŠ¨æ€å¯¼å…¥ï¼ˆåŠ¨æ€ importï¼‰ä¹‹å"></a>åœ¨åŠ¨æ€å¯¼å…¥ï¼ˆåŠ¨æ€ importï¼‰ä¹‹å</h3><pre><code class="js">const exportPdfButton = document.querySelector(&#39;.exportPdfBtn&#39;);exportPdfButton.addEventListener(&#39;click&#39;, () =&gt; {  import(&#39;./export-as-pdf.js&#39;)    .then(module =&gt; {      module.exportAsPdf()    })    .catch(err =&gt; {      // handle the error if the module fails to load    })})</code></pre><p>æ­£å¦‚æ‚¨åœ¨ä¸Šé¢çš„ä»£ç ä¸­çœ‹åˆ°çš„ï¼Œç°åœ¨åªæœ‰åœ¨éœ€è¦æ¨¡å—æ—¶æ‰å»¶è¿ŸåŠ è½½æ¨¡å—ã€‚ ä»è€Œå‡å°‘å¼€é”€å’Œé¡µé¢åŠ è½½æ—¶é—´ã€‚</p><h3 id="Promise-allSettled"><a href="#Promise-allSettled" class="headerlink" title="Promise.allSettled"></a>Promise.allSettled</h3><p>å¦‚æœä½ æœ‰ä¸€ä¸ªåœºæ™¯ï¼Œåœ¨æ‰€æœ‰ <code>Promise</code> éƒ½å®Œæˆä¹‹åå¿…é¡»æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ï¼Œé‚£ä¹ˆä½ å¯èƒ½ä½¿ç”¨  <code>Promise.all()</code> æ–¹æ³•ã€‚ ä½†æ˜¯è¿™ä¸ªæ–¹æ³•æœ‰ä¸€ä¸ªç¼ºç‚¹ã€‚ å½“ä½ çš„ä»»ä½•ä¸€ä¸ª <code>Promise</code> è¢« <code>Rejected</code> æ—¶ï¼Œ<code>Promise</code> æ–¹æ³•å°±ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚ è¿™æ„å‘³ç€æ‚¨çš„ä»£ç ä¸ä¼šç­‰åˆ°æ‰€æœ‰çš„ <code>Promise</code> éƒ½å®Œæˆã€‚<br>è¿™å¯èƒ½ä¸æ˜¯ä½ æƒ³è¦çš„ã€‚ å¦‚æœä½ æƒ³è¦è¿™æ ·çš„ä¸œè¥¿: â€œæˆ‘ä¸åœ¨ä¹ä»–ä»¬çš„ç»“æœã€‚ åªéœ€å…¨éƒ¨è¿è¡Œâ€ ï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨æ–°çš„  <code>Promise.allSettled()</code> æ–¹æ³•ã€‚ è¿™ç§æ–¹æ³•åªæœ‰åœ¨ä½ çš„æ‰€æœ‰ Promise éƒ½  <code>settled</code> ãƒ¼ãƒ¼ è¦ä¹ˆ  <code>Resolved</code> ï¼Œè¦ä¹ˆ  <code>Rejected</code> ãƒ¼ãƒ¼ æ—¶æ‰ä¼š  <code>Resolved</code> ã€‚</p><h3 id="åœ¨æ‹¥æœ‰-Promise-allSettled-ä¹‹å‰"><a href="#åœ¨æ‹¥æœ‰-Promise-allSettled-ä¹‹å‰" class="headerlink" title="åœ¨æ‹¥æœ‰ Promise.allSettled ä¹‹å‰"></a>åœ¨æ‹¥æœ‰ Promise.allSettled ä¹‹å‰</h3><pre><code class="js">const PromiseArray = [  Promise.resolve(100),  Promise.reject(null),  Promise.resolve(&quot;Data release&quot;),  Promise.reject(new Error(&quot;Something went wrong&quot;)),];Promise.all(PromiseArray)  .then((data) =&gt;    console.log(&quot;all resolved! here are the resolve values:&quot;, data)  )  .catch((err) =&gt; console.log(&quot;got rejected! reason:&quot;, err));//got rejected! reason: null</code></pre><p>å¦‚ä¸Šæ‰€è¿°ï¼Œå½“å…¶ä¸­ä¸€ä¸ª Promise è¢«  rejected æ—¶ï¼Œ Promise å°±ä¼šæŠ›å‡ºé”™è¯¯ã€‚</p><h3 id="åœ¨æ‹¥æœ‰-Promise-allSettled-ä¹‹å"><a href="#åœ¨æ‹¥æœ‰-Promise-allSettled-ä¹‹å" class="headerlink" title="åœ¨æ‹¥æœ‰ Promise.allSettled ä¹‹å"></a>åœ¨æ‹¥æœ‰ Promise.allSettled ä¹‹å</h3><pre><code class="js">const PromiseArray = [  Promise.resolve(100),  Promise.reject(null),  Promise.resolve(&quot;Data release&quot;),  Promise.reject(new Error(&quot;Something went wrong&quot;)),];Promise.allSettled(PromiseArray)  .then((res) =&gt; {    console.log(res);  })  .catch((err) =&gt; console.log(err));//[//  {status: &quot;fulfilled&quot;, value: 100},//  {status: &quot;rejected&quot;, reason: null},//  {status: &quot;fulfilled&quot;, value: &quot;Data release&quot;},//  {status: &quot;rejected&quot;, reason: Error: Something went wrong ...}//]</code></pre><p>å°½ç®¡æœ‰äº› Promise è¢« rejected äº†ï¼ŒPromise.allSettled è¿”å›äº†æ‰€æœ‰çš„ Promise çš„ç»“æœ</p><h2 id="globalThis"><a href="#globalThis" class="headerlink" title="globalThis"></a>globalThis</h2><p><code>globalThis</code>  åŒ…å«å¯¹å…¨å±€å¯¹è±¡çš„å¼•ç”¨ï¼Œä¸ç¯å¢ƒæ— å…³ã€‚ åœ¨æµè§ˆå™¨ä¸­ï¼Œå…¨å±€å¯¹è±¡æ˜¯  <code>window å¯¹è±¡</code>ã€‚ åœ¨ Node ç¯å¢ƒä¸­ï¼Œå…¨å±€å¯¹è±¡æ˜¯   <code>global</code> æˆ–è€… Web workers ä¸­çš„  <code>self</code>ã€‚</p><h3 id="åœ¨æ‹¥æœ‰-globalThis-ä¹‹å‰"><a href="#åœ¨æ‹¥æœ‰-globalThis-ä¹‹å‰" class="headerlink" title="åœ¨æ‹¥æœ‰ globalThis ä¹‹å‰"></a>åœ¨æ‹¥æœ‰ globalThis ä¹‹å‰</h3><p>æˆ‘ä»¬åœ¨å·¥ä½œä¸­ä¼šæœ‰éœ€è¦ç¼–å†™ä¸€ä»½åŒæ—¶è¿è¡Œåœ¨ Node å’Œæµè§ˆå™¨ä¸­çš„é€šç”¨ä»£ç ï¼Œå½“æˆ‘ä»¬è¦å–å¾—å…¨å±€å¯¹è±¡æ—¶ï¼Œé€šå¸¸éœ€è¦åšå¾ˆå¤šå·¥ä½œå’Œé€»è¾‘åˆ¤æ–­ï¼š</p><pre><code class="js">beforeGlobalThis = (typeof window !== &quot;undefined&quot;? window: (typeof process === &#39;object&#39; &amp;&amp;   typeof require === &#39;function&#39; &amp;&amp;   typeof global === &#39;object&#39;)    ? global    : this);beforeGlobalThis.tuture = &#39;å°è‹¥ç‡•é›€ï¼Œäº¦å¯ä¸€å±•å®å›¾&#39;;</code></pre><h2 id="åœ¨æ‹¥æœ‰-globalThis-ä¹‹å"><a href="#åœ¨æ‹¥æœ‰-globalThis-ä¹‹å" class="headerlink" title="åœ¨æ‹¥æœ‰ globalThis ä¹‹å"></a>åœ¨æ‹¥æœ‰ globalThis ä¹‹å</h2><p>æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ <code>globalThis</code> å»å¼•ç”¨å…¨å±€å¯¹è±¡ï¼Œè€Œä¸ç”¨å»æ‹…å¿ƒç¯å¢ƒçš„é—®é¢˜ï¼š</p><pre><code class="js">globalThis.tuture = &#39;å°è‹¥ç‡•é›€ï¼Œäº¦å¯ä¸€å±•å®å›¾&#39;;</code></pre><p>ä¸Šé¢çš„ä»£ç åœ¨æµè§ˆå™¨æˆ–è€… Node ç¯å¢ƒä¸­éƒ½æ˜¯é€šç”¨çš„ï¼Œä½ å¯ä»¥æ”¾å¿ƒä½¿ç”¨ï¼</p><h2 id="BigInt"><a href="#BigInt" class="headerlink" title="BigInt"></a>BigInt</h2><p>å…è®¸æ‚¨ä½¿ç”¨å¤§äº <code>Javascript</code> ä¸­å…è®¸çš„æœ€å¤§å€¼çš„æ•°å­—ã€‚ è¿™ä¸ªæ•°å­—æ˜¯ <code>pow(2,53)-1</code> ã€‚ å°½ç®¡è¿™ä¸èƒ½å‘åå…¼å®¹ï¼Œå› ä¸ºä¼ ç»Ÿçš„æ•°å­—ç³»ç»Ÿ<code>(IEEE 754)</code>ä¸èƒ½æ”¯æŒè¿™ç§å¤§å°çš„æ•°å­—ã€‚</p><h2 id="String-matchall"><a href="#String-matchall" class="headerlink" title="String.matchall"></a>String.matchall</h2><p><code>matchAll()</code> æ˜¯ä¸€ä¸ªä¸<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions" target="_blank" rel="noopener">æ­£åˆ™è¡¨è¾¾å¼</a>ç›¸å…³çš„æ–¹æ³•ã€‚ æ­¤æ–¹æ³•è¿”å›ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„å­—ç¬¦ä¸²çš„æ‰€æœ‰ç»“æœçš„<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Iterators_and_Generators" target="_blank" rel="noopener">è¿­ä»£å™¨</a>ï¼ŒåŒ…æ‹¬æ•è·ç»„ã€‚ è¿™ä¸ªæ–¹æ³•å·²ç»è¢«æ·»åŠ åˆ° String åŸå‹ä¸­ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://juejin.im/post/5eca8607e51d457890602072?utm_source=gold_browser_extension#heading-15&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;åŸæ–‡åœ°
      
    
    </summary>
    
      <category term="Js" scheme="https://zhanghao-web.github.io/categories/Js/"/>
    
    
      <category term="Js" scheme="https://zhanghao-web.github.io/tags/Js/"/>
    
  </entry>
  
  <entry>
    <title>äº†è§£ä¸‹denoï¼Œä¸nodeçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</title>
    <link href="https://zhanghao-web.github.io/2020/05/17/Deno/%E4%BA%86%E8%A7%A3%E4%B8%8Bdeno%EF%BC%8C%E4%B8%8Enode%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/"/>
    <id>https://zhanghao-web.github.io/2020/05/17/Deno/äº†è§£ä¸‹denoï¼Œä¸nodeçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ/</id>
    <published>2020-05-17T13:37:07.000Z</published>
    <updated>2020-05-18T01:27:18.702Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Deno-VS-Node"><a href="#Deno-VS-Node" class="headerlink" title="Deno VS Node"></a>Deno VS Node</h1><table><thead><tr><th>ä¸åŒç‚¹</th><th style="text-align:right">Node</th><th style="text-align:center">Deno</th></tr></thead><tbody><tr><td>API å¼•ç”¨æ–¹å¼</td><td style="text-align:right">æ¨¡å—å¯¼å…¥</td><td style="text-align:center">å…¨å±€å¯¹è±¡</td></tr><tr><td>æ¨¡å—ç³»ç»Ÿ</td><td style="text-align:right">CommonJS &amp; æ–°ç‰ˆ node å®éªŒæ€§ ES Module</td><td style="text-align:center">ES Module æµè§ˆå™¨å®ç°</td></tr><tr><td>å®‰å…¨</td><td style="text-align:right">æ— å®‰å…¨é™åˆ¶</td><td style="text-align:center">é»˜è®¤å®‰å…¨</td></tr><tr><td>Typescript</td><td style="text-align:right">ç¬¬ä¸‰æ–¹ï¼Œå¦‚é€šè¿‡ ts-node æ”¯æŒ</td><td style="text-align:center">åŸç”Ÿæ”¯æŒ</td></tr><tr><td>åŒ…ç®¡ç†</td><td style="text-align:right">npm + node_modules</td><td style="text-align:center">åŸç”Ÿæ”¯æŒ</td></tr><tr><td>å¼‚æ­¥æ“ä½œ</td><td style="text-align:right">å›è°ƒ</td><td style="text-align:center">Promise</td></tr><tr><td>åŒ…åˆ†å‘</td><td style="text-align:right">ä¸­å¿ƒåŒ– npmjs.com</td><td style="text-align:center">å»ä¸­å¿ƒåŒ– import url</td></tr><tr><td>å…¥å£</td><td style="text-align:right">package.json é…ç½®</td><td style="text-align:center">import url ç›´æ¥å¼•å…¥</td></tr><tr><td>æ‰“åŒ…ã€æµ‹è¯•ã€æ ¼å¼åŒ–</td><td style="text-align:right">ç¬¬ä¸‰æ–¹å¦‚ eslintã€gulpã€webpackã€babel ç­‰</td><td style="text-align:center">åŸç”Ÿæ”¯æŒ</td></tr></tbody></table><h2 id="1-å†…ç½®-API-å¼•ç”¨æ–¹å¼ä¸åŒ"><a href="#1-å†…ç½®-API-å¼•ç”¨æ–¹å¼ä¸åŒ" class="headerlink" title="1.å†…ç½® API å¼•ç”¨æ–¹å¼ä¸åŒ"></a>1.å†…ç½® API å¼•ç”¨æ–¹å¼ä¸åŒ</h2><p><strong>node æ¨¡å—å¯¼å…¥</strong></p><p>node å†…ç½® API é€šè¿‡æ¨¡å—å¯¼å…¥çš„æ–¹å¼å¼•ç”¨ï¼Œä¾‹å¦‚ï¼š</p><pre><code class="js">const fs = require(&quot;fs&quot;);fs.readFileSync(&quot;./data.txt&quot;);</code></pre><p><strong>deno å…¨å±€å¯¹è±¡</strong></p><p>è€Œ deno åˆ™æ˜¯ä¸€ä¸ªå…¨å±€å¯¹è±¡ Deno çš„å±æ€§å’Œæ–¹æ³•ï¼š</p><pre><code class="js">Deno.readFileSync(&quot;./data.txt&quot;);å…·ä½“ deno æœ‰å“ªäº›æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ repl çœ‹ä¸€ä¸‹ï¼š</code></pre><pre><code class="js">deno # æˆ– deno repl</code></pre><p>è¿›å…¥ <code>repl</code> åï¼Œè¾“å…¥ Deno å›è½¦ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼š</p><pre><code class="json">{ Buffer: [Function: Buffer], readAll: [AsyncFunction: readAll], readAllSync: [Function: readAllSync], writeAll: [AsyncFunction: writeAll], writeAllSync: [Function: writeAllSync], # .....}</code></pre><p>è¿™ç§å¤„ç†çš„æ–¹å¼å¥½å¤„æ˜¯<strong>ç®€å•ã€æ–¹ä¾¿</strong>ï¼Œåå¤„æ˜¯<strong>æ²¡æœ‰åˆ†ç±»</strong>ï¼Œæƒ³æŸ¥æ‰¾å¿˜è®°çš„ API æ¯”è¾ƒå›°éš¾ã€‚æ€»ä½“æ¥è¯´è§ä»è§æ™ºã€‚</p><h2 id="2-æ¨¡å—ç³»ç»Ÿ"><a href="#2-æ¨¡å—ç³»ç»Ÿ" class="headerlink" title="2.æ¨¡å—ç³»ç»Ÿ"></a>2.æ¨¡å—ç³»ç»Ÿ</h2><p>æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹æ¨¡å—ç³»ç»Ÿï¼Œè¿™ä¹Ÿæ˜¯ deno å’Œ node <strong>å·®åˆ«æœ€å¤§çš„åœ°æ–¹</strong>ï¼ŒåŒæ ·ä¹Ÿæ˜¯ deno å’Œ node ä¸å…¼å®¹çš„åœ°æ–¹ã€‚</p><p><strong>node CommonJS è§„èŒƒ</strong><br>æˆ‘ä»¬éƒ½çŸ¥é“ node é‡‡ç”¨çš„æ˜¯ CommonJS è§„èŒƒï¼Œè€Œ deno åˆ™æ˜¯é‡‡ç”¨çš„ ES Module çš„æµè§ˆå™¨å®ç°ï¼Œé‚£ä¹ˆæˆ‘ä»¬é¦–å…ˆæ¥è®¤è¯†ä¸€ä¸‹ï¼š</p><p><strong>ES Module çš„æµè§ˆå™¨å®ç°</strong><br>å…·ä½“å…³äº ES Module æƒ³å¿…å¤§å®¶éƒ½æ—©å·²ç†ŸçŸ¥ï¼Œä½†å…¶æµè§ˆå™¨å®ç°å¯èƒ½å¤§å®¶è¿˜ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹å…¶æµè§ˆå™¨å®ç°ï¼š</p><pre><code class="html">&lt;body&gt;  &lt;!-- æ³¨æ„è¿™é‡Œä¸€å®šè¦åŠ ä¸Š type=&quot;module&quot; --&gt;  &lt;script type=&quot;module&quot;&gt;    // ä» URL å¯¼å…¥    import Vue from &quot;https://unpkg.com/vue@2.6.11/dist/vue.esm.browser.js&quot;;    // ä»ç›¸å¯¹è·¯å¾„å¯¼å…¥    import * as utils from &quot;./utils.js&quot;;    // ä»ç»å¯¹è·¯å¾„å¯¼å…¥    import &quot;/index.js&quot;;    // ä¸æ”¯æŒ    import foo from &quot;foo.js&quot;;    import bar from &quot;bar/index.js&quot;;    import zoo from &quot;./index&quot;; // æ²¡æœ‰ .js åç¼€  &lt;/script&gt;&lt;/body&gt;</code></pre><p><strong>deno çš„æ¨¡å—è§„èŒƒ</strong><br>deno å®Œå…¨éµå¾ª es module æµè§ˆå™¨å®ç°ï¼Œæ‰€ä»¥ deno ä¹Ÿæ˜¯å¦‚æ­¤ï¼š</p><pre><code class="js">// æ”¯æŒimport * as fs from &quot;https://deno.land/std/fs/mod.ts&quot;;import { deepCopy } from &quot;./deepCopy.js&quot;;import foo from &quot;/foo.ts&quot;;// ä¸æ”¯æŒimport foo from &quot;foo.ts&quot;;import bar from &quot;./bar&quot;; // å¿…é¡»æŒ‡å®šæ‰©å±•å\</code></pre><p>æˆ‘ä»¬å‘ç°å…¶å’Œæˆ‘ä»¬å¹³å¸¸åœ¨ webpack æˆ–è€… ts ä½¿ç”¨ es module æœ€å¤§çš„ä¸åŒï¼š</p><ul><li><p>å¯ä»¥é€šè¿‡ import url ç›´æ¥å¼•ç”¨çº¿ä¸Šèµ„æºï¼›</p></li><li><p>èµ„æºä¸å¯çœç•¥æ‰©å±•åå’Œæ–‡ä»¶åã€‚</p></li></ul><p>å…³äºç¬¬ 1 ç‚¹ï¼Œäº‰è®®éå¸¸å¤§ï¼Œæœ‰äººå¾ˆçœ‹å¥½ï¼Œè§‰å¾—æå¤§çš„æ‰©å±•äº† deno åº“çš„èŒƒå›´ï¼›æœ‰äººåˆ™ä¸å¤ªçœ‹å¥½ï¼Œè§‰å¾—å›½å†…ç½‘é€Ÿçš„åŸå› ï¼Œå¹¶ä¸å®ç”¨ã€‚</p><h2 id="3-å®‰å…¨"><a href="#3-å®‰å…¨" class="headerlink" title="3.å®‰å…¨"></a>3.å®‰å…¨</h2><p>å¦‚æœæ¨¡å—è§„èŒƒæ˜¯ node å’Œ deno æœ€å¤§çš„ä¸åŒï¼Œé‚£ä¹ˆå¯¹å®‰å…¨çš„å¤„ç†ï¼Œåˆ™æ˜¯å¦å¤–ä¸€ä¸ªè®©äººæ‘¸ä¸ç€å¤´è„‘çš„åœ°æ–¹ã€‚</p><p><strong>æ¨¡æ‹Ÿç›—å·</strong></p><p>åœ¨ä»‹ç»ä¹‹å‰æˆ‘ä»¬å…ˆæ€è€ƒä¸€ä¸‹è¿™ä¸ªåœºæ™¯ä¼šä¸ä¼šå‡ºç°ï¼š</p><p>æˆ‘åšäº†ä¸€ä¸ªåŸºäºå‘½ä»¤è¡Œçš„ä¸€é”®ä¸Šç½‘å·¥å…· <code>breakwall</code>ï¼Œæ¯æœˆ 1 ä¸ª G å…è´¹æµé‡ï¼Œç„¶åå°†å‹ç¼©åçš„ JS ä»£ç å‘å¸ƒåˆ° npm ä¸Šï¼Œç„¶åååœ¨å„ç§æ¸ é“å®£ä¼ ä¸€æ³¢ã€‚</p><p>ç¾Šæ¯›å…šå…´é«˜å½©çƒˆçš„ <code>cnpm install -g breakwall</code>ï¼Œç„¶åæ¯æ¬¡ä½¿ç”¨çš„æ—¶å€™ï¼Œæˆ‘å·å·çš„å°†è¯¸ä½çš„ ssh å¯†é’¥å’Œå„ç§èƒ½å·çš„æ–‡æ¡£åŠå›¾ç‰‡å·å·ä¸Šä¼ åˆ°æˆ‘çš„æœåŠ¡å™¨ï¼Œåœ¨è®¾å®šæœŸé™åˆ°æœŸåï¼Œåˆ é™¤ç”µè„‘ä¸Šèµ„æ–™ï¼Œç•™ä¸‹ä¸€å¥æ‹¿é’±æ¢èµ„æ–™ï¼Œä»…æ”¯æŒæ¯”ç‰¹å¸ã€‚</p><p><strong>é»˜è®¤å®‰å…¨çš„ deno</strong></p><p>å¦‚æœä½ è§‰å¾—ä»¥ä¸Šæƒ…å†µæœ‰å¯èƒ½å‡ºç°ï¼Œåˆ™ä¼šè§‰å¾—ä¸‹é¢çš„åŠŸèƒ½å¾ˆå®ç”¨ã€‚æˆ‘ä»¬å…ˆç”¨ deno æ‰§è¡Œä»¥ä¸‹ä»£ç ï¼š</p><pre><code class="js">// index.jslet rsa = Deno.readFileSync(Deno.dir(&quot;home&quot;) + &quot;/.ssh/id_rsa&quot;);rsa = new TextDecoder().decode(rsa);fetch(&quot;http://jsonplaceholder.typicode.com/posts/1&quot;, {  method: &quot;POST&quot;,  body: JSON.stringify(rsa)})  .then((res) =&gt; res.json())  .then((res) =&gt; console.log(&quot;å¯†é’¥å‘é€æˆåŠŸï¼Œå˜¿å˜¿å˜¿ğŸ˜œ&quot;));console.log(&quot;start breakwall...&quot;);</code></pre><blockquote><p>PS: â€“unstable æ˜¯ç”±äº Deno.dir API ä¸ç¨³å®š</p></blockquote><pre><code class="js"> deno run --unstable index.js</code></pre><p>æˆ‘ä»¬å°†ä¼šå¾—åˆ°å¦‚ä¸‹æŠ¥é”™ä¿¡æ¯ï¼š</p><pre><code class="js">&gt; deno run --unstable  index.jserror: Uncaught PermissionDenied: access to environment variables, run again with the --allow-env flag    ...</code></pre><p>æ„æ€å°±æ˜¯æƒé™å¼‚å¸¸ï¼Œéœ€è¦è®¿é—®ç¯å¢ƒå˜é‡ï¼Œéœ€è¦åŠ ä¸Š <code>--allow-env</code>ï¼Œæˆ‘ä»¬åŠ ä¸Šè¿™ä¸ªå‚æ•°å†è¯•ä¸€ä¸‹ã€‚</p><pre><code class="js"> deno run --unstable --allow-env index.jserror: Uncaught PermissionDenied: read access to &quot;/Users/zhangchaojie/.ssh/id_rsa&quot;, run again with the --allow-read flag    ...</code></pre><p>å¦‚æ­¤åå¤ï¼Œè¿˜éœ€åŠ ä¸Š <code>--allow-read</code>ã€<code>--allow-net</code> ï¼Œæœ€ç»ˆçš„ç»“æœæ˜¯ï¼š</p><pre><code class="js">&gt; deno run --unstable --allow-env --allow-read --allow-net  index.jsstart breakwall...å¯†é’¥å‘é€æˆåŠŸï¼Œå˜¿å˜¿å˜¿ğŸ˜œ</code></pre><p>ç»è¿‡ä¸€ç•ªæŠ˜è…¾ï¼Œæ€»ç®—æ˜¯å‘é€æˆåŠŸäº†ï¼Œè¦æƒ³ç›—å–å¯†é’¥å®å±ä¸æ˜“ã€‚</p><p><strong>ç™½åå•</strong></p><p>é‚£æœ‰äººå°±è¯´äº†ï¼Œå¦‚æœæˆ‘çš„åº”ç”¨ç¡®å®éœ€è¦è®¿é—®ç½‘ç»œå’Œæ–‡ä»¶ï¼Œä½†æ˜¯æœ‰ä¸æƒ³è®©å®ƒè®¿é—® .ssh æ–‡ä»¶æœ‰æ²¡æœ‰åŠæ³•ï¼Ÿ</p><p>å½“ç„¶æœ‰äº†ï¼Œæˆ‘ä»¬å¯ä»¥ç»™ <code>--allow-read</code> å’Œ <code>--allow-net</code> æŒ‡å®šç™½åå•ï¼Œåå•ä¹‹å¤–éƒ½ä¸å¯è®¿é—®ï¼Œä¾‹å¦‚ï¼š</p><pre><code class="js">&gt; deno run --unstable --allow-env --allow-read --allow-net=https://www.baidu.com  index.jsstart breakwall...error: Uncaught PermissionDenied: network access to &quot;http://jsonplaceholder.typicode.com/posts/1&quot;, run again with the --allow-net flag    at unwrapResponse ($deno$/ops/dispatch_json.ts:43:11)    at Object.sendAsync ($deno$/ops/dispatch_json.ts:98:10)    at async fetch ($deno$/web/fetch.ts:591:27)</code></pre><p><strong>ç®€åŒ–å‚æ•°</strong></p><p>å¦‚æœç¡®è®¤æ˜¯æ²¡é—®é¢˜ï¼Œæˆ–è€…æ˜¯è‡ªå·±å¼€å‘è½¯ä»¶æ—¶ï¼Œå›¾ä¸ªæ–¹ä¾¿ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ -A æˆ– â€“allow-all å‚æ•°å…è®¸æ‰€æœ‰æƒé™ï¼š</p><pre><code class="js">&gt; deno -A --unstable index.jsstart breakwall...å¯†é’¥å‘é€æˆåŠŸï¼Œå˜¿å˜¿å˜¿ğŸ˜œ</code></pre><p>å®‰å…¨è¿™æ–¹é¢è§ä»è§æ™ºï¼Œæœ‰äººè§‰å¾—æ˜¯å¤šä½™ï¼Œæœ‰äººè§‰å¾—å¾ˆå¥½ç”¨ï¼Œæå¤§çš„å¢å¼ºäº†å®‰å…¨æ€§ã€‚å¦‚æœä½ å±äºè§‰å¾—è¿™ä¸ªåŠŸèƒ½å¤šä½™çš„ï¼Œå¯ä»¥ deno run -A xxx å³å¯ã€‚</p><h2 id="4-å…¼å®¹æµè§ˆå™¨-API"><a href="#4-å…¼å®¹æµè§ˆå™¨-API" class="headerlink" title="4.å…¼å®¹æµè§ˆå™¨ API"></a>4.å…¼å®¹æµè§ˆå™¨ API</h2><p>å…³äºä¸ºä»€ä¹ˆï¼Œæˆ‘ä¸¾ä¸ªæ —å­å¤§å®¶å°±æ˜ç™½äº†ï¼šåœ¨è®¾è®¡ node ä¹‹å¤„ï¼Œå…³äºè¾“å‡ºå‡½æ•°æœ¬æ¥å« <code>print</code> ä¹‹ç±»çš„ï¼Œåæ¥æœ‰äººæè®®ä¸ºä»€ä¹ˆä¸å« <code>console.log</code>ï¼Œry è§‰å¾—æŒºä¸é”™ï¼Œäºæ˜¯å°±æ¥çº³äº†æ„è§ã€‚</p><p>ä½†æ˜¯ï¼Œè¿™ä¸ªè®¾è®¡å¹¶ä¸æ˜¯åˆ»æ„ä¸ºä¹‹ï¼Œè€Œ deno çš„è®¾è®¡åˆ™å¯ä»¥ä¸ºä¹‹ï¼Œé€šè¿‡ä¸æµè§ˆå™¨ API ä¿æŒä¸€è‡´ï¼Œæ¥å‡å°‘å¤§å®¶çš„è®¤çŸ¥ã€‚</p><p><strong>æ€ä¹ˆå…¼å®¹æµè§ˆå™¨ API</strong></p><blockquote><p>æ¦‚å¿µä¸Šå…¼å®¹</p><ul><li>æ¨¡å—ç³»ç»Ÿï¼Œä»ä¸Šé¢ä»‹ç»çœ‹å‡º deno æ˜¯å®Œå…¨éµå¾ªæµè§ˆå™¨å®ç°çš„ï¼›</li></ul></blockquote><ul><li><p>é»˜è®¤å®‰å…¨ï¼Œå½“ç„¶ä¹Ÿä¸æ˜¯è‡ªå·±åˆ›é€ çš„æ¦‚å¿µï¼Œw3c æ—©å·²åšå‡ºæµè§ˆå™¨æƒé™çš„è§„å®šï¼Œæˆ‘ä»¬åœ¨åšå°ç¨‹åºçš„æ—¶å€™å°¤ä¸ºæ˜æ˜¾ï¼Œéœ€è¦è·å–å„ç§æƒé™ï¼›</p></li><li><p>å¯¹äºå¼‚æ­¥æ“ä½œè¿”å› Promiseï¼›</p></li><li><p>ä½¿ç”¨ <code>ArrayBuffer</code> å¤„ç†äºŒè¿›åˆ¶ï¼›</p></li></ul><blockquote><p>å­˜åœ¨ window å…¨å±€å˜é‡</p></blockquote><p><code>console.log(window === this, window === self, window === globalThis);</code></p><blockquote><p>å®ç°äº† WindowOrWorkerGlobalScope çš„å…¨éƒ¨æ–¹æ³•</p></blockquote><p>å…·ä½“æ–¹æ³•åˆ—è¡¨ï¼Œæˆ‘ä»¬å¯ä»¥å‚è€ƒï¼š<code>lib.deno.shared_globals.d.ts</code> å’Œ <code>lib.deno.window.d.ts</code></p><pre><code class="js">// è¯·æ±‚æ–¹æ³•fetch(&quot;https://baidu.com&quot;);// base64 è½¬åŒ–let encodedData = btoa(&quot;Hello, world&quot;); // ç¼–ç let decodedData = atob(encodedData); // è§£ç // å¾®ä»»åŠ¡queueMicrotask(() =&gt; {  console.log(123);});</code></pre><blockquote><p>å¤§è¶‹åŠ¿</p></blockquote><p>æ€»ä½“è€Œè¨€ï¼Œå¦‚æœæœåŠ¡ç«¯å’Œæµè§ˆå™¨ç«¯å­˜åœ¨ç›¸åŒæ¦‚å¿µï¼Œdeno å°±ä¸ä¼šåˆ›é€ æ–°çš„æ¦‚å¿µã€‚è¿™ä¸€ç‚¹å…¶å® node ä¹Ÿåœ¨åšï¼Œæ–°çš„ node 14.0 CHANGELOG å°±ä¹ŸæåŠè¦å®ç° Universal JavaScript å’Œ Spec compliance and Web Compatibilityçš„æ€æƒ³ï¼Œæ‰€ä»¥è¿™ç‚¹å¤§å®¶åº”è¯¥éƒ½ä¼šæ¥å—å§ï¼Œæ¯•ç«Ÿå¤§åŠ¿æ‰€è¶‹è¶‹åŠ¿ã€‚</p><h2 id="5-æ”¯æŒ-Typescript"><a href="#5-æ”¯æŒ-Typescript" class="headerlink" title="5.æ”¯æŒ Typescript"></a>5.æ”¯æŒ Typescript</h2><p>ä¸ç®¡ä½ å–œæ¬¢ä¸å¦ï¼Œ2020 å¹´äº†ï¼Œå¿…é¡»å­¦ä¹  TS äº†ï¼ˆèµ·ç åœ¨é¢è¯•çš„æ—¶å€™æ˜¯äº®ç‚¹ï¼‰ã€‚å­¦å®Œä¹‹åä½ æ‰ä¼šæ˜ç™½ç‹å¢ƒæ³½å®šå¾‹çœŸçš„æ— å¤„ä¸åœ¨ã€‚</p><pre><code class="js">// index.tslet str: string = &quot;ç‹å¢ƒæ³½å®šå¾‹&quot;;str = 132;&gt; deno run index.tserror TS2322: Type &#39;123&#39; is not assignable to type &#39;string&#39;.â–º file:///Users/zhangchaojie/Desktop/index.ts:2:12 str = 123  ~~~</code></pre><h2 id="6-å»-node-modules"><a href="#6-å»-node-modules" class="headerlink" title="6.å» node_modules"></a>6.å» node_modules</h2><p>deno æ²¡æœ‰ <code>node_modules</code>ï¼Œé‚£ä¹ˆå®ƒæ˜¯æ€ä¹ˆè¿›è¡ŒåŒ…ç®¡ç†çš„å‘¢ï¼Ÿæˆ‘ä»¬å…ˆçœ‹ä¸‹é¢çš„ä¾‹å­</p><pre><code class="js">// index.jsimport { white, bgRed } from &quot;https://deno.land/std/fmt/colors.ts&quot;;console.log(bgRed(white(&quot;hello world!&quot;)));&gt; deno run index.jsDownload https://deno.land/std/fmt/colors.tsCompile https://deno.land/std/fmt/colors.tshello world!</code></pre><p>æˆ‘ä»¬çœ‹åˆ°å…¶æœ‰ Download å’Œ Compile ä¸¤ä¸ªæ­¥éª¤ï¼Œæˆ‘ä»¬ä¼šäº§ç”Ÿå‡ ä¸ªç–‘é—®ï¼š</p><blockquote><p>1ã€æ¯æ¬¡æ‰§è¡Œéƒ½è¦ä¸‹è½½å—ï¼Ÿ</p></blockquote><p>è§£ï¼šæˆ‘ä»¬åªéœ€è¦å†æ‰§è¡Œä¸€æ¬¡å°±èƒ½æ˜ç™½ï¼Œä¸éœ€è¦æ¯æ¬¡ä¸‹è½½ã€‚</p><pre><code class="js">&gt; deno run index.jshello world!</code></pre><blockquote><p>2ã€Download å’Œ Compile çš„æ–‡ä»¶åœ¨å“ªé‡Œå‘¢ï¼Ÿ</p></blockquote><p>è§£ï¼šæˆ‘ä»¬ä¼šå‘ç°ï¼Œå½“å‰æ‰§è¡Œçš„ç›®å½•ï¼Œå¹¶æ²¡æœ‰ Download å’Œ Compile æ–‡ä»¶ï¼Œé‚£æ–‡ä»¶æ”¾åœ¨å“ªé‡Œå‘¢ï¼Œæˆ‘ä»¬é¦–å…ˆæ¥çœ‹ä¸€ä¸‹ deno â€“help å‘½ä»¤ï¼š</p><pre><code class="js">&gt; deno --helpSUBCOMMANDS:# ...info           Show info about cache or info related to source file# ...ENVIRONMENT VARIABLES:    DENO_DIR   Set deno&#39;s base directory (defaults to $HOME/.deno)</code></pre><p>deno info å‘½ä»¤å±•ç¤ºäº†ä¾èµ–å…³ç³»ï¼Œç±»ä¼¼ package.jsonã€‚</p><pre><code class="js">&gt; deno info index.jslocal: /Users/zhangchaojie/Desktop/index.jstype: JavaScriptdeps:file:///Users/zhangchaojie/Desktop/index.js  â””â”€â”€ https://deno.land/std/fmt/colors.ts</code></pre><p>DENO_DIR åˆ™ä¸ºå®é™…çš„å®‰è£…å’Œç¼–è¯‘ç›®å½•ï¼Œç›¸å½“äº node_modulesï¼Œé»˜è®¤ä¸º $HOME/.denoï¼ˆå‘½ä»¤æç¤ºæ˜¯è¿™æ ·çš„ï¼Œä½†å®é™…éœ€è¦æŒ‡å®šä¸€ä¸‹ç¯å¢ƒå˜é‡ <code>export DENO_DIR=$HOME/.denoï¼‰</code>ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹ï¼š</p><pre><code class="js">&gt; tree $HOME/.deno/Users/zhangchaojie/.denoâ”œâ”€â”€ depsâ”‚   â””â”€â”€ httpsâ”‚       â””â”€â”€ deno.landâ”‚           â”œâ”€â”€ 3574883d8acbaf00e28990ec8e83d71084c4c668c1dc7794be25208c60cfc935â”‚           â””â”€â”€ 3574883d8acbaf00e28990ec8e83d71084c4c668c1dc7794be25208c60cfc935.metadata.jsonâ””â”€â”€ gen    â””â”€â”€ https        â””â”€â”€ deno.land            â””â”€â”€ std                â””â”€â”€ fmt                    â”œâ”€â”€ colors.ts.js                    â”œâ”€â”€ colors.ts.js.map                    â””â”€â”€ colors.ts.meta8 directories, 5 files</code></pre><blockquote><p>3ã€æ²¡ç½‘ç»œäº†æ€ä¹ˆåŠï¼Ÿ</p></blockquote><p>æˆ‘ä»¬æœ‰äº›åœºæ™¯æ˜¯å°†æœ¬åœ°å†™å¥½çš„ä»£ç éƒ¨ç½²åˆ°æ²¡æœ‰ç½‘ç»œçš„æœåŠ¡å™¨ï¼Œé‚£ä¹ˆå½“æ‰§è¡Œ deno run xxx æ—¶ï¼Œå°±æ˜¯æç¤º error sending requestã€‚</p><p>è§£ï¼šå°†ä¸Šé¢çš„ç¼“å­˜ç›®å½•å†…å®¹ï¼Œç›´æ¥æ‹·è´åˆ°æœåŠ¡å™¨å¹¶æŒ‡å®šç¯å¢ƒå˜é‡åˆ°å…¶ç›®å½•å³å¯ã€‚</p><blockquote><p>4ã€ä¾èµ–ä»£ç æ›´æ–°äº†æ€ä¹ˆåŠï¼Ÿ</p></blockquote><p>è§£ï¼šå½“ä¾èµ–æ¨¡å—æ›´æ–°æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ â€“reload è¿›è¡Œæ›´æ–°ç¼“å­˜ï¼Œä¾‹å¦‚ï¼š</p><p><code>&gt; deno run --reload index.js</code><br>æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ç™½åå•çš„æ–¹å¼ï¼Œåªæ›´æ–°éƒ¨åˆ†ä¾èµ–ã€‚ä¾‹å¦‚ï¼š</p><p><code>&gt; deno run --reload=https://deno.land index.js</code></p><blockquote><p>5ã€ä»…ç¼“å­˜ä¾èµ–ï¼Œä¸æ‰§è¡Œä»£ç æœ‰åŠæ³•å—ï¼Ÿ</p></blockquote><p>è§£ï¼šæœ‰çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ deno cache index.js è¿›è¡Œä¾èµ–ç¼“å­˜ã€‚</p><blockquote><p>6ã€å¤šç‰ˆæœ¬æ€ä¹ˆå¤„ç†ï¼Ÿ</p></blockquote><p>è§£ï¼šæš‚æ—¶æ²¡æœ‰å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œåªèƒ½é€šè¿‡ git tag çš„æ–¹å¼åŒºåˆ†ç‰ˆæœ¬ã€‚</p><h2 id="7-æ ‡å‡†æ¨¡å—-ä¸-node-API-å…¼å®¹"><a href="#7-æ ‡å‡†æ¨¡å—-ä¸-node-API-å…¼å®¹" class="headerlink" title="7.æ ‡å‡†æ¨¡å— ä¸ node API å…¼å®¹"></a>7.æ ‡å‡†æ¨¡å— ä¸ node API å…¼å®¹</h2><p>æˆ‘ä»¬é€šè¿‡ç¬¬ 1 ç‚¹å¯ä»¥çœ‹åˆ°ï¼Œå…¶å® deno çš„ API ç›¸å¯¹äº node å…¶å®æ˜¯å°‘ä¸€äº›çš„ï¼Œé€šè¿‡å…¶æ–‡ä»¶å¤§å°ä¹Ÿèƒ½çœ‹å‡ºæ¥ï¼š</p><pre><code class="js">&gt; ll /usr/local/bin/node /Users/zhangchaojie/.local/bin/deno-rwxr-xr-x  1   42M   /Users/zhangchaojie/.local/bin/deno-rwxr-xr-x  1   70M   /usr/local/bin/node</code></pre><p>é‚£è¿™äº›å°‘çš„ API åªèƒ½è‡ªå·±å†™æˆ–è€…æ±‚åŠ©äºç¤¾åŒºå—ï¼Ÿ</p><p>deno å¯¹äºè‡ªèº«ç›¸å¯¹äº node å°‘çš„å’Œç¤¾åŒºä¸­å¸¸ç”¨çš„åŠŸèƒ½ï¼Œæä¾›äº†æ ‡å‡†æ¨¡å—ï¼Œå…¶ç‰¹ç‚¹æ˜¯ä¸ä¾èµ–éæ ‡å‡†æ¨¡å—çš„å†…å®¹ï¼Œè¾¾åˆ°ç¤¾åŒºå†…çš„æ¨¡å—å¼•ç”¨æœ€åéƒ½æ”¶æ•›äºæ ‡å‡†æ¨¡å—çš„æ•ˆæœã€‚ä¾‹å¦‚ï¼š</p><pre><code class="js">// ç±»ä¼¼ node ä¸­ chalk åŒ…import { bgRed, white } from &quot;https://deno.land/std/fmt/colors.ts&quot;;// ç±»ä¼¼ node ä¸­çš„ uuid åŒ…import { v4 } from &quot;https://deno.land/std/uuid/mod.ts&quot;;</code></pre><p>åŒæ—¶ä¸ºäº†å¯¹ node ç”¨æˆ·å‹å¥½ï¼Œæä¾›äº† node API çš„å…¼å®¹</p><pre><code class="js">import * as path from &quot;https://deno.land/std/node/path.ts&quot;;import * as fs from &quot;https://deno.land/std/node/fs.ts&quot;;console.log(path.resolve(&#39;./&#39;, &#39;./test&#39;))</code></pre><p>æ‰€ä»¥ï¼Œå¤§å®¶åœ¨ä¸º deno ç¤¾åŒºåšè´¡çŒ®çš„æ—¶å€™ï¼Œé¦–å…ˆè¦çœ‹ä¸€ä¸‹æ ‡å‡†æ¨¡å—æœ‰æ²¡æœ‰æä¾›ç±»ä¼¼çš„åŠŸèƒ½ï¼Œå¦‚æœå·²ç»æä¾›äº†å¯ä»¥è¿›è¡Œå¼•ç”¨ã€‚</p><h2 id="8-å¼‚æ­¥æ“ä½œ"><a href="#8-å¼‚æ­¥æ“ä½œ" class="headerlink" title="8.å¼‚æ­¥æ“ä½œ"></a>8.å¼‚æ­¥æ“ä½œ</h2><blockquote><p>æ ¹æ® ry è‡ªå·±æ˜¯è¯´æ³•ï¼Œåœ¨è®¾è®¡ node æ˜¯æœ‰äººæè®® Promise å¤„ç†å›è°ƒï¼Œä½†æ˜¯ä»–æ²¡å¬ï¼Œç”¨ä»–è‡ªå·±çš„è¯è¯´å°±æ˜¯æ„šè ¢çš„æ‹’ç»äº†ã€‚</p></blockquote><p><strong>node ç”¨å›è°ƒçš„æ–¹å¼å¤„ç†å¼‚æ­¥æ“ä½œã€deno åˆ™é€‰æ‹©ç”¨ Promise</strong></p><pre><code class="js">// node æ–¹å¼const fs = require(&quot;fs&quot;);fs.readFile(&quot;./data.txt&quot;, (err, data) =&gt; {  if (err) throw err;  console.log(data);});</code></pre><p>å¦å¤– deno æ”¯æŒ top-level-awaitï¼Œæ‰€ä»¥ä»¥ä¸Šè¯»å–æ–‡ä»¶çš„ä»£ç å¯ä»¥ä¸ºï¼š</p><pre><code class="js">// deno æ–¹å¼const data = await Deno.readFile(&quot;./data.txt&quot;);console.log(data);</code></pre><p>node å…³äºè¿™æ–¹é¢ä¹Ÿåœ¨ä¸€ç›´æ”¹è¿›ï¼Œä¾‹å¦‚ç¤¾åŒºä¸Šå¾ˆå¤š <code>promisify</code> è§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡åŒ…è£¹ä¸€å±‚å‡½æ•°ï¼Œå®ç°ç›®çš„ã€‚ä¾‹å¦‚ï¼š</p><pre><code class="js">// node API promisifyconst { promisify } = require(&quot;es6-promisify&quot;);const fs = require(&quot;fs&quot;);// æ²¡æœ‰ top-level-awaitï¼Œåªèƒ½åŒ…ä¸€å±‚async function main() {  const readFile = promisify(fs.readFile);  const data = await readFile(&quot;./data.txt&quot;);  console.log(data);}main();</code></pre><h2 id="9-å•æ–‡ä»¶åˆ†å‘"><a href="#9-å•æ–‡ä»¶åˆ†å‘" class="headerlink" title="9.å•æ–‡ä»¶åˆ†å‘"></a>9.å•æ–‡ä»¶åˆ†å‘</h2><p>æˆ‘ä»¬çŸ¥é“ npm åŒ…å¿…é¡»æœ‰ <code>package.json</code> æ–‡ä»¶ï¼Œé‡Œé¢ä¸ä»…éœ€è¦æŒ‡æ˜ main æˆ– module æˆ– browser ç­‰å­—æ®µæ¥æ ‡æ˜å…¥å£æ–‡ä»¶ï¼Œè¿˜éœ€è¦æŒ‡æ˜ <code>name ã€license ã€description</code> ç­‰å­—æ®µæ¥è¯´æ˜è¿™ä¸ªåŒ…ã€‚</p><p>ry è§‰å¾—è¿™äº›å­—æ®µæ‰°ä¹±äº†å¼€å‘è€…çš„è§†å¬ï¼Œæ‰€ä»¥åœ¨ deno ä¸­ï¼Œå…¶æ¨¡å—ä¸éœ€è¦ä»»ä½•é…ç½®æ–‡ä»¶ï¼Œç›´æ¥æ˜¯ import url çš„å½¢å¼ã€‚</p><h2 id="10-å»ä¸­å¿ƒåŒ–ä»“åº“"><a href="#10-å»ä¸­å¿ƒåŒ–ä»“åº“" class="headerlink" title="10.å»ä¸­å¿ƒåŒ–ä»“åº“"></a>10.å»ä¸­å¿ƒåŒ–ä»“åº“</h2><p>å¯¹äº <code>www.npmjs.com</code> æˆ‘ä»¬è‚¯å®šéƒ½ä¸é™Œç”Ÿï¼Œå®ƒæ˜¯æ¨åŠ¨ node è“¬å‹ƒå‘å±•çš„é‡è¦æ”¯ç‚¹ã€‚ä½†ä½œè€…è®¤ä¸ºå®ƒæ˜¯ä¸­å¿ƒåŒ–ä»“åº“ï¼Œè¿èƒŒäº†äº’è”ç½‘å»ä¸­å¿ƒåŒ–åŸåˆ™ã€‚</p><p>æ‰€ä»¥ deno å¹¶æ²¡æœ‰ä¸€ä¸ªåƒ npmjs.com çš„ä»“åº“ï¼Œé€šè¿‡ import url çš„æ–¹å¼å°†äº’è”ç½‘ä»»ä½•ä¸€å¤„çš„ä»£ç éƒ½å¯ä»¥å¼•ç”¨ã€‚</p><p>PSï¼šdeno å…¶å®æ˜¯æœ‰ä¸ªåŸºäº <code>GitHub</code> çš„ç¬¬ä¸‰æ–¹æ¨¡å—é›†åˆã€‚</p><h2 id="11-å»å¼€å‘ä¾èµ–"><a href="#11-å»å¼€å‘ä¾èµ–" class="headerlink" title="11.å»å¼€å‘ä¾èµ–"></a>11.å»å¼€å‘ä¾èµ–</h2><p>æˆ‘ä»¬åœ¨å†™ä¸€ä¸ª node åº“æˆ–è€…å·¥å…·æ—¶ï¼Œå¼€å‘ä¾èµ–æ˜¯å°‘ä¸äº†çš„ï¼Œä¾‹å¦‚ babel åšè½¬åŒ–å’Œæ‰“åŒ…ã€jest åšæµ‹è¯•ã€prettier åšä»£ç æ ¼å¼åŒ–ã€eslint åšä»£ç æ ¼å¼æ ¡æ£€ã€gulp æˆ–è€… webpack åšæ„å»ºç­‰ç­‰ï¼Œè®©æˆ‘ä»¬åœ¨å¼€å‘å‰å°±æå¾—ç­‹ç–²åŠ›å°½ã€‚</p><blockquote><p>deno é€šè¿‡å†…ç½®äº†ä¸€äº›å·¥å…·ï¼Œè§£å†³ä¸Šè¿°é—®é¢˜ã€‚</p></blockquote><ul><li><p><code>deno bundle</code>ï¼šæ‰“åŒ…å‘½ä»¤ï¼Œç”¨æ¥æ›¿æ¢ babelã€gulp ä¸€ç±»å·¥å…·: ä¾‹å¦‚ï¼šdeno bundle ./mod.tsï¼›</p></li><li><p><code>deno fmt</code>ï¼šæ ¼å¼åŒ–å‘½ä»¤ï¼Œç”¨æ¥æ›¿æ¢ prettier ä¸€ç±»å·¥å…·ï¼Œä¾‹å¦‚ï¼šdeno fmt ./mod.tsï¼›</p></li><li><p><code>deno test</code>ï¼šè¿è¡Œæµ‹è¯•ä»£ç ï¼Œç”¨æ¥æ›¿æ¢ jest ä¸€ç±»å·¥å…·ï¼Œä¾‹å¦‚ deno test ./test.tsï¼›</p></li><li><p><code>deno lint</code>ï¼šä»£ç æ ¡æ£€ï¼ˆæš‚æœªå®ç°ï¼‰ï¼Œç”¨æ¥æ›¿æ¢ eslint ä¸€ç±»å·¥å…·ï¼Œä¾‹å¦‚ï¼šdeno lint ./mod.tsã€‚</p></li></ul><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>å°±åƒå°æ—¶å€™ä¸€ç›´å¹»æƒ³çš„ç‚¸å¼¹å§‹ç»ˆæ²¡èƒ½ç‚¸äº†å­¦æ ¡ï¼ŒæŠ€ï¼ˆè½®ï¼‰æœ¯ï¼ˆå­ï¼‰çš„è¿›ï¼ˆåˆ¶ï¼‰æ­¥ï¼ˆé€ ï¼‰ä¸€ç›´ä¹Ÿæœªåœæ­¢è¿‡ã€‚ä¸è®ºæˆ‘ä»¬å­¦çš„åŠ¨æˆ–è€…å­¦ä¸åŠ¨ï¼ŒæŠ€æœ¯å°±åœ¨é‚£é‡Œï¼Œä¸ä»¥äººçš„æ„å¿—ä¸ºè½¬ç§»ã€‚</p><p>è‡³äº deno èƒ½ä¸èƒ½ç«ï¼Œæˆ‘ä¸ªäººè§‰å¾—èµ·ç ä¸€ä¸¤å¹´å†…ä¸ä¼šæœ‰å¤ªå¤§åå“ï¼Œä¹‹åå’Œ node çš„å…³ç³»æœ‰å¯èƒ½åƒ Vue å’Œ reactï¼Œæœ‰äººå–œæ¬¢ç”¨ denoï¼Œè§‰å¾—æ¯” node å¥½ä¸€ä¸‡å€ï¼Œæœ‰äººåˆ™å–œæ¬¢ node ï¼Œè§‰å¾— node è¿˜èƒ½å†æˆ˜ 500 å¹´ã€‚è‡³äºæœ€ç»ˆå­¦ä¸å­¦è¿˜çœ‹è‡ªå·±ã€‚</p><p><a href="https://juejin.im/post/5ebcabb2e51d454da74185a9" target="_blank" rel="noopener">20 åˆ†é’Ÿå…¥é—¨ deno</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Deno-VS-Node&quot;&gt;&lt;a href=&quot;#Deno-VS-Node&quot; class=&quot;headerlink&quot; title=&quot;Deno VS Node&quot;&gt;&lt;/a&gt;Deno VS Node&lt;/h1&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ä¸åŒç‚¹&lt;/th&gt;
      
    
    </summary>
    
      <category term="Deno" scheme="https://zhanghao-web.github.io/categories/Deno/"/>
    
    
      <category term="Deno" scheme="https://zhanghao-web.github.io/tags/Deno/"/>
    
  </entry>
  
  <entry>
    <title>javascriptè®¾è®¡æ¨¡å¼Es6ä»£ç å®ç°</title>
    <link href="https://zhanghao-web.github.io/2020/05/12/Js/javascript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8FEs6%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0/"/>
    <id>https://zhanghao-web.github.io/2020/05/12/Js/javascriptè®¾è®¡æ¨¡å¼Es6ä»£ç å®ç°/</id>
    <published>2020-05-12T05:20:35.000Z</published>
    <updated>2020-05-18T01:17:25.174Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://juejin.im/post/5e021eb96fb9a01628014095" target="_blank" rel="noopener">åŸæ–‡åœ°å€</a></p><h1 id="è®¾è®¡æ¨¡å¼ç®€ä»‹"><a href="#è®¾è®¡æ¨¡å¼ç®€ä»‹" class="headerlink" title="è®¾è®¡æ¨¡å¼ç®€ä»‹"></a>è®¾è®¡æ¨¡å¼ç®€ä»‹</h1><p><code>è®¾è®¡æ¨¡å¼</code>ä»£è¡¨äº†æœ€ä½³çš„å®è·µï¼Œé€šå¸¸è¢«æœ‰ç»éªŒçš„é¢å‘å¯¹è±¡çš„è½¯ä»¶å¼€å‘äººå‘˜æ‰€é‡‡ç”¨ã€‚<code>è®¾è®¡æ¨¡å¼</code>æ˜¯è½¯ä»¶å¼€å‘äººå‘˜åœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­é¢ä¸´çš„ä¸€èˆ¬é—®é¢˜çš„è§£å†³æ–¹æ¡ˆã€‚è¿™äº›è§£å†³æ–¹æ¡ˆæ˜¯ä¼—å¤šè½¯ä»¶å¼€å‘äººå‘˜ç»è¿‡ç›¸å½“é•¿çš„ä¸€æ®µæ—¶é—´çš„è¯•éªŒå’Œé”™è¯¯æ€»ç»“å‡ºæ¥çš„ã€‚</p><p><code>è®¾è®¡æ¨¡å¼</code>æ˜¯ä¸€å¥—è¢«åå¤ä½¿ç”¨çš„ã€å¤šæ•°äººçŸ¥æ™“çš„ã€ç»è¿‡åˆ†ç±»ç¼–ç›®çš„ã€ä»£ç è®¾è®¡ç»éªŒçš„æ€»ç»“ã€‚ä½¿ç”¨<code>è®¾è®¡æ¨¡å¼</code>æ˜¯ä¸ºäº†é‡ç”¨ä»£ç ã€è®©ä»£ç æ›´å®¹æ˜“è¢«ä»–äººç†è§£ã€ä¿è¯ä»£ç å¯é æ€§ã€‚ æ¯«æ— ç–‘é—®ï¼Œ<code>è®¾è®¡æ¨¡å¼</code>äºå·±äºä»–äººäºç³»ç»Ÿéƒ½æ˜¯å¤šèµ¢çš„ï¼Œ<code>è®¾è®¡æ¨¡å¼</code>ä½¿ä»£ç ç¼–åˆ¶çœŸæ­£å·¥ç¨‹åŒ–ï¼Œ<code>è®¾è®¡æ¨¡å¼</code>æ˜¯è½¯ä»¶å·¥ç¨‹çš„åŸºçŸ³ï¼Œå¦‚åŒå¤§å¦çš„ä¸€å—å—ç –çŸ³ä¸€æ ·ã€‚</p><h2 id="è®¾è®¡æ¨¡å¼è§„åˆ™ï¼ˆSOLIDï¼‰"><a href="#è®¾è®¡æ¨¡å¼è§„åˆ™ï¼ˆSOLIDï¼‰" class="headerlink" title="è®¾è®¡æ¨¡å¼è§„åˆ™ï¼ˆSOLIDï¼‰"></a>è®¾è®¡æ¨¡å¼è§„åˆ™ï¼ˆSOLIDï¼‰</h2><p><strong>S â€“ Single Responsibility Principle å•ä¸€èŒè´£åŸåˆ™</strong></p><ul><li>ä¸€ä¸ªç¨‹åºåªåšå¥½ä¸€ä»¶äº‹</li><li>å¦‚æœåŠŸèƒ½è¿‡äºå¤æ‚å°±æ‹†åˆ†å¼€ï¼Œæ¯ä¸ªéƒ¨åˆ†ä¿æŒç‹¬ç«‹</li></ul><p><strong>O â€“ OpenClosed Principle å¼€æ”¾/å°é—­åŸåˆ™</strong></p><ul><li>å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­</li><li>å¢åŠ éœ€æ±‚æ—¶ï¼Œæ‰©å±•æ–°ä»£ç ï¼Œè€Œéä¿®æ”¹å·²æœ‰ä»£ç </li></ul><p><strong>L â€“ Liskov Substitution Principle é‡Œæ°æ›¿æ¢åŸåˆ™</strong></p><ul><li>å­ç±»èƒ½è¦†ç›–çˆ¶ç±»</li><li>çˆ¶ç±»èƒ½å‡ºç°çš„åœ°æ–¹å­ç±»å°±èƒ½å‡ºç°</li></ul><p><strong>I â€“ Interface Segregation Principle æ¥å£éš”ç¦»åŸåˆ™</strong></p><ul><li>ä¿æŒæ¥å£çš„å•ä¸€ç‹¬ç«‹</li><li>ç±»ä¼¼å•ä¸€èŒè´£åŸåˆ™ï¼Œè¿™é‡Œæ›´å…³æ³¨æ¥å£</li></ul><p><strong>D â€“ Dependency Inversion Principle ä¾èµ–å€’è½¬åŸåˆ™</strong></p><ul><li>é¢å‘æ¥å£ç¼–ç¨‹ï¼Œä¾èµ–äºæŠ½è±¡è€Œä¸ä¾èµ–äºå…·ä½“</li><li>ä½¿ç”¨æ–¹åªå…³æ³¨æ¥å£è€Œä¸å…³æ³¨å…·ä½“ç±»çš„å®ç°</li></ul><p>å†ä¸¾ä¸ªæ —å­ï¼š<a href="https://juejin.im/post/5adc8e18518825672b0352a8#comment" target="_blank" rel="noopener">æ­¤ä¾‹æ¥æº-å®ˆå€™-æ”¹å–„ä»£ç çš„å„æ–¹é¢é—®é¢˜</a></p><pre><code class="js">//checkType(&#39;165226226326&#39;,&#39;mobile&#39;)//resultï¼šfalselet checkType=function(str, type) {    switch (type) {        case &#39;email&#39;:            return /^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/.test(str)        case &#39;mobile&#39;:            return /^1[3|4|5|7|8][0-9]{9}$/.test(str);        case &#39;tel&#39;:            return /^(0\d{2,3}-\d{7,8})(-\d{1,4})?$/.test(str);        default:            return true;    }}</code></pre><p>æœ‰ä»¥ä¸‹ä¸¤ä¸ªé—®é¢˜ï¼š</p><ol><li>å¦‚æœæƒ³æ·»åŠ å…¶ä»–è§„åˆ™å°±å¾—åœ¨å‡½æ•°é‡Œé¢å¢åŠ  case ã€‚æ·»åŠ ä¸€ä¸ªè§„åˆ™å°±ä¿®æ”¹ä¸€æ¬¡ï¼è¿™æ ·è¿åäº†å¼€æ”¾-å°é—­åŸåˆ™ï¼ˆå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ï¼‰ã€‚è€Œä¸”è¿™æ ·ä¹Ÿä¼šå¯¼è‡´æ•´ä¸ª API å˜å¾—è‡ƒè‚¿ï¼Œéš¾ç»´æŠ¤ã€‚</li><li>æ¯”å¦‚Aé¡µé¢éœ€è¦æ·»åŠ ä¸€ä¸ªé‡‘é¢çš„æ ¡éªŒï¼ŒBé¡µé¢éœ€è¦ä¸€ä¸ªæ—¥æœŸçš„æ ¡éªŒï¼Œä½†æ˜¯é‡‘é¢çš„æ ¡éªŒåªåœ¨Aé¡µé¢éœ€è¦ï¼Œæ—¥æœŸçš„æ ¡éªŒåªåœ¨Bé¡µé¢éœ€è¦ã€‚å¦‚æœä¸€ç›´æ·»åŠ  case ã€‚å°±æ˜¯å¯¼è‡´Aé¡µé¢æŠŠåªåœ¨Bé¡µé¢éœ€è¦çš„æ ¡éªŒè§„åˆ™ä¹Ÿæ·»åŠ è¿›å»ï¼Œé€ æˆä¸å¿…è¦çš„å¼€é”€ã€‚Bé¡µé¢ä¹ŸåŒç†ã€‚</li></ol><p>å»ºè®®çš„æ–¹å¼æ˜¯ç»™è¿™ä¸ª API å¢åŠ ä¸€ä¸ªæ‰©å±•çš„æ¥å£:</p><pre><code class="js">let checkType=(function(){    let rules={        email(str){            return /^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/.test(str);        },        mobile(str){            return /^1[3|4|5|7|8][0-9]{9}$/.test(str);        }    };    //æš´éœ²æ¥å£    return {        //æ ¡éªŒ        check(type,str){            return rules[type]?rules[type](str):false;        },        //æ·»åŠ è§„åˆ™        addRule(type,fn){            rules[type]=fn;        }    }})();//è°ƒç”¨æ–¹å¼//ä½¿ç”¨mobileæ ¡éªŒè§„åˆ™console.log(checkType.check(&#39;mobile&#39;,&#39;188170239&#39;));//æ·»åŠ é‡‘é¢æ ¡éªŒè§„åˆ™checkType.addRule(&#39;money&#39;,function (str) {    return /^[0-9]+(.[0-9]{2})?$/.test(str)});//ä½¿ç”¨é‡‘é¢æ ¡éªŒè§„åˆ™console.log(checkType.check(&#39;18.36&#39;,&#39;money&#39;));</code></pre><p>æ­¤ä¾‹æ›´è¯¦ç»†å†…å®¹è¯·æŸ¥çœ‹-&gt; <a href="https://juejin.im/post/5adc8e18518825672b0352a8#comment" target="_blank" rel="noopener">å®ˆå€™i-é‡æ„-æ”¹å–„ä»£ç çš„å„æ–¹é¢é—®é¢˜</a></p><h1 id="è®¾è®¡æ¨¡å¼åˆ†ç±»ï¼ˆ23ç§ï¼‰"><a href="#è®¾è®¡æ¨¡å¼åˆ†ç±»ï¼ˆ23ç§ï¼‰" class="headerlink" title="è®¾è®¡æ¨¡å¼åˆ†ç±»ï¼ˆ23ç§ï¼‰"></a>è®¾è®¡æ¨¡å¼åˆ†ç±»ï¼ˆ23ç§ï¼‰</h1><h2 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h2><blockquote><p>åˆ›å»ºå‹</p><ul><li>å•ä¾‹æ¨¡å¼</li><li>åŸå‹æ¨¡å¼</li><li>å·¥å‚æ¨¡å¼</li><li>æŠ½è±¡å·¥å‚æ¨¡å¼</li><li>å»ºé€ è€…æ¨¡å¼</li></ul></blockquote><blockquote><p>ç»“æ„å‹</p><ul><li>é€‚é…å™¨æ¨¡å¼</li><li>è£…é¥°å™¨æ¨¡å¼</li><li>ä»£ç†æ¨¡å¼</li><li>å¤–è§‚æ¨¡å¼</li><li>æ¡¥æ¥æ¨¡å¼</li><li>ç»„åˆæ¨¡å¼</li><li>äº«å…ƒæ¨¡å¼</li></ul></blockquote><blockquote><p>è¡Œä¸ºå‹</p><ul><li>è§‚å¯Ÿè€…æ¨¡å¼</li><li>è¿­ä»£å™¨æ¨¡å¼</li><li>ç­–ç•¥æ¨¡å¼</li><li>æ¨¡æ¿æ–¹æ³•æ¨¡å¼</li><li>èŒè´£é“¾æ¥æ¨¡å¼</li><li>å‘½ä»¤æ¨¡å¼</li><li>å¤‡å¿˜å½•æ¨¡å¼</li><li>çŠ¶æ€æ¨¡å¼</li><li>è®¿é—®è€…æ¨¡å¼</li><li>ä¸­ä»‹è€…æ¨¡å¼</li><li>è§£é‡Šå™¨æ¨¡å¼</li></ul></blockquote><h2 id="å·¥å‚æ¨¡å¼"><a href="#å·¥å‚æ¨¡å¼" class="headerlink" title="å·¥å‚æ¨¡å¼"></a>å·¥å‚æ¨¡å¼</h2><h3 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>å·¥å‚æ¨¡å¼å®šä¹‰åˆ°ä¸€ä¸ªç”¨äºåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œè¿™ä¸ªæ¥å£ç”±å­ç±»å†³å®šå®ä¾‹åŒ–å“ªä¸€ç±»ã€‚è¯¥æ¨¡å¼ä½¿ä¸€ä¸ªç±»çš„å®ä¾‹åŒ–å»¶è¿Ÿåˆ°äº†å­ç±»,è€Œå­ç±»å¯ä»¥é‡å†™æ¥å£æ–¹æ³•ä»¥ä¾¿åˆ›å»ºçš„æ—¶å€™æŒ‡å®šè‡ªå·±çš„å¯¹è±¡ç±»å‹</p><h3 id="code"><a href="#code" class="headerlink" title="code"></a>code</h3><pre><code class="js">class Product{  constructor(name){    this.name = name  }  init(){    console.log(&#39;init&#39;,this.name)  }}class Factory {  create(name){    return new Product(name)  }}let factory = new Factory()let p = factory.create(&#39;hello world&#39;)p.init()</code></pre><h3 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h3><ol><li>å¦‚æœä½ ä¸æƒ³è®©æŸä¸ªå­ç³»ç»Ÿä¸è¾ƒå¤§çš„é‚£ä¸ªå¯¹è±¡ä¹‹é—´å½¢æˆå¼ºè€¦åˆï¼Œè€Œæ˜¯æƒ³è¿è¡Œæ—¶ä»è®¸å¤šå­ç³»ç»Ÿä¸­è¿›è¡ŒæŒ‘é€‰çš„è¯ï¼Œé‚£ä¹ˆå·¥å‚æ¨¡å¼æ˜¯ä¸€ä¸ªç†æƒ³çš„é€‰æ‹©</li><li>å°†newæ“ä½œç®€å•å°è£…ï¼Œé‡åˆ°newçš„æ—¶å€™å°±åº”è¯¥è€ƒè™‘æ˜¯å¦ç”¨å·¥å‚æ¨¡å¼ï¼›</li><li>éœ€è¦ä¾èµ–å…·ä½“ç¯å¢ƒåˆ›å»ºä¸åŒå®ä¾‹ï¼Œè¿™äº›å®ä¾‹éƒ½æœ‰ç›¸åŒçš„è¡Œä¸º,è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å·¥å‚æ¨¡å¼ï¼Œç®€åŒ–å®ç°çš„è¿‡ç¨‹ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥å‡å°‘æ¯ç§å¯¹è±¡æ‰€éœ€çš„ä»£ç é‡ï¼Œæœ‰åˆ©äºæ¶ˆé™¤å¯¹è±¡é—´çš„è€¦åˆï¼Œæä¾›æ›´å¤§çš„çµæ´»æ€§</li></ol><h3 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><ul><li>åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹å¯èƒ½å¾ˆå¤æ‚ï¼Œä½†æˆ‘ä»¬åªéœ€è¦å…³å¿ƒåˆ›å»ºç»“æœã€‚</li><li>æ„é€ å‡½æ•°å’Œåˆ›å»ºè€…åˆ†ç¦», ç¬¦åˆâ€œå¼€é—­åŸåˆ™â€</li><li>ä¸€ä¸ªè°ƒç”¨è€…æƒ³åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œåªè¦çŸ¥é“å…¶åç§°å°±å¯ä»¥äº†ã€‚</li><li>æ‰©å±•æ€§é«˜ï¼Œå¦‚æœæƒ³å¢åŠ ä¸€ä¸ªäº§å“ï¼Œåªè¦æ‰©å±•ä¸€ä¸ªå·¥å‚ç±»å°±å¯ä»¥ã€‚</li></ul><h3 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h3><ul><li>æ·»åŠ æ–°äº§å“æ—¶ï¼Œéœ€è¦ç¼–å†™æ–°çš„å…·ä½“äº§å“ç±»,ä¸€å®šç¨‹åº¦ä¸Šå¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚åº¦</li><li>è€ƒè™‘åˆ°ç³»ç»Ÿçš„å¯æ‰©å±•æ€§ï¼Œéœ€è¦å¼•å…¥æŠ½è±¡å±‚ï¼Œåœ¨å®¢æˆ·ç«¯ä»£ç ä¸­å‡ä½¿ç”¨æŠ½è±¡å±‚è¿›è¡Œå®šä¹‰ï¼Œå¢åŠ äº†ç³»ç»Ÿçš„æŠ½è±¡æ€§å’Œç†è§£éš¾åº¦</li></ul><h3 id="ä»€ä¹ˆæ—¶å€™ä¸ç”¨"><a href="#ä»€ä¹ˆæ—¶å€™ä¸ç”¨" class="headerlink" title="ä»€ä¹ˆæ—¶å€™ä¸ç”¨"></a>ä»€ä¹ˆæ—¶å€™ä¸ç”¨</h3><p>å½“è¢«åº”ç”¨åˆ°é”™è¯¯çš„é—®é¢˜ç±»å‹ä¸Šæ—¶,è¿™ä¸€æ¨¡å¼ä¼šç»™åº”ç”¨ç¨‹åºå¼•å…¥å¤§é‡ä¸å¿…è¦çš„å¤æ‚æ€§.é™¤éä¸ºåˆ›å»ºå¯¹è±¡æä¾›ä¸€ä¸ªæ¥å£æ˜¯æˆ‘ä»¬ç¼–å†™çš„åº“æˆ–è€…æ¡†æ¶çš„ä¸€ä¸ªè®¾è®¡ä¸Šç›®æ ‡,å¦åˆ™æˆ‘ä¼šå»ºè®®ä½¿ç”¨æ˜ç¡®çš„æ„é€ å™¨,ä»¥é¿å…ä¸å¿…è¦çš„å¼€é”€ã€‚</p><p>ç”±äºå¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹è¢«é«˜æ•ˆçš„æŠ½è±¡åœ¨ä¸€ä¸ªæ¥å£åé¢çš„äº‹å®,è¿™ä¹Ÿä¼šç»™ä¾èµ–äºè¿™ä¸ªè¿‡ç¨‹å¯èƒ½ä¼šæœ‰å¤šå¤æ‚çš„å•å…ƒæµ‹è¯•å¸¦æ¥é—®é¢˜ã€‚</p><h3 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h3><ul><li>æ›¾ç»æˆ‘ä»¬ç†Ÿæ‚‰çš„JQueryçš„$()å°±æ˜¯ä¸€ä¸ªå·¥å‚å‡½æ•°ï¼Œå®ƒæ ¹æ®ä¼ å…¥å‚æ•°çš„ä¸åŒåˆ›å»ºå…ƒç´ æˆ–è€…å»å¯»æ‰¾ä¸Šä¸‹æ–‡ä¸­çš„å…ƒç´ ï¼Œåˆ›å»ºæˆç›¸åº”çš„jQueryå¯¹è±¡</li></ul><pre><code class="js">class jQuery {    constructor(selector) {        super(selector)    }    add() {    }  // æ­¤å¤„çœç•¥è‹¥å¹²API}window.$ = function(selector) {    return new jQuery(selector)}</code></pre><ul><li>vue çš„å¼‚æ­¥ç»„ä»¶<br>åœ¨å¤§å‹åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦å°†åº”ç”¨åˆ†å‰²æˆå°ä¸€äº›çš„ä»£ç å—ï¼Œå¹¶ä¸”åªåœ¨éœ€è¦çš„æ—¶å€™æ‰ä»æœåŠ¡å™¨åŠ è½½ä¸€ä¸ªæ¨¡å—ã€‚ä¸ºäº†ç®€åŒ–ï¼ŒVue å…è®¸ä½ ä»¥ä¸€ä¸ªå·¥å‚å‡½æ•°çš„æ–¹å¼å®šä¹‰ä½ çš„ç»„ä»¶ï¼Œè¿™ä¸ªå·¥å‚å‡½æ•°ä¼šå¼‚æ­¥è§£æä½ çš„ç»„ä»¶å®šä¹‰ã€‚Vue åªæœ‰åœ¨è¿™ä¸ªç»„ä»¶éœ€è¦è¢«æ¸²æŸ“çš„æ—¶å€™æ‰ä¼šè§¦å‘è¯¥å·¥å‚å‡½æ•°ï¼Œä¸”ä¼šæŠŠç»“æœç¼“å­˜èµ·æ¥ä¾›æœªæ¥é‡æ¸²æŸ“ã€‚ä¾‹å¦‚ï¼š</li></ul><pre><code class="js">Vue.component(&#39;async-component&#39;,function(resolve,reject){  setTimeout(funciton(){    resolve({      templete: &#39;&lt;div&gt;I am async&lt;/div&gt;&#39;    })  },1000)})</code></pre><h2 id="å•ä¾‹æ¨¡å¼"><a href="#å•ä¾‹æ¨¡å¼" class="headerlink" title="å•ä¾‹æ¨¡å¼"></a>å•ä¾‹æ¨¡å¼</h2><h3 id="å®šä¹‰-1"><a href="#å®šä¹‰-1" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œæ¯”æä¾›ä¸€ä¸ªè®¿é—®å®ƒçš„å…¨å±€è®¿é—®ç‚¹</p><h3 id="code-1"><a href="#code-1" class="headerlink" title="code"></a>code</h3><pre><code class="js"> class LoginForm {    constructor() {        this.state = &#39;hide&#39;    }    show() {        if (this.state === &#39;show&#39;) {            alert(&#39;å·²ç»æ˜¾ç¤º&#39;)            return        }        this.state = &#39;show&#39;        console.log(&#39;ç™»å½•æ¡†æ˜¾ç¤ºæˆåŠŸ&#39;)    }    hide() {        if (this.state === &#39;hide&#39;) {            alert(&#39;å·²ç»éšè—&#39;)            return        }        this.state = &#39;hide&#39;        console.log(&#39;ç™»å½•æ¡†éšè—æˆåŠŸ&#39;)    } } LoginForm.getInstance = (function () {     let instance     return function () {        if (!instance) {            instance = new LoginForm()        }        return instance     } })()let obj1 = LoginForm.getInstance()obj1.show()let obj2 = LoginForm.getInstance()obj2.hide()console.log(obj1 === obj2)</code></pre><h3 id="ä¼˜ç‚¹-1"><a href="#ä¼˜ç‚¹-1" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><ul><li>åˆ’åˆ†å‘½åç©ºé—´ï¼Œå‡å°‘å…¨å±€å˜é‡</li><li>å¢å¼ºæ¨¡å—æ€§ï¼ŒæŠŠè‡ªå·±çš„ä»£ç ç»„ç»‡åœ¨ä¸€ä¸ªå…¨å±€å˜é‡åä¸‹ï¼Œæ”¾åœ¨å•ä¸€ä½ç½®ï¼Œä¾¿äºç»´æŠ¤</li><li>ä¸”åªä¼šå®ä¾‹åŒ–ä¸€æ¬¡ã€‚ç®€åŒ–äº†ä»£ç çš„è°ƒè¯•å’Œç»´æŠ¤</li></ul><h3 id="ç¼ºç‚¹-1"><a href="#ç¼ºç‚¹-1" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h3><ul><li>ç”±äºå•ä¾‹æ¨¡å¼æä¾›çš„æ˜¯ä¸€ç§å•ç‚¹è®¿é—®ï¼Œæ‰€ä»¥å®ƒæœ‰å¯èƒ½å¯¼è‡´æ¨¡å—é—´çš„å¼ºè€¦åˆ ä»è€Œä¸åˆ©äºå•å…ƒæµ‹è¯•ã€‚</li><li>æ— æ³•å•ç‹¬æµ‹è¯•ä¸€ä¸ªè°ƒç”¨äº†æ¥è‡ªå•ä¾‹çš„æ–¹æ³•çš„ç±»ï¼Œè€Œåªèƒ½æŠŠå®ƒä¸é‚£ä¸ªå•ä¾‹ä½œä¸ºä¸€ä¸ªå•å…ƒä¸€èµ·æµ‹è¯•ã€‚</li></ul><h3 id="åœºæ™¯ä¾‹å­"><a href="#åœºæ™¯ä¾‹å­" class="headerlink" title="åœºæ™¯ä¾‹å­"></a>åœºæ™¯ä¾‹å­</h3><p>å®šä¹‰å‘½åç©ºé—´å’Œå®ç°åˆ†æ”¯å‹æ–¹æ³•<br>ç™»å½•æ¡†<br>vuex å’Œ reduxä¸­çš„store</p><h2 id="é€‚é…å™¨æ¨¡å¼"><a href="#é€‚é…å™¨æ¨¡å¼" class="headerlink" title="é€‚é…å™¨æ¨¡å¼"></a>é€‚é…å™¨æ¨¡å¼</h2><h3 id="å®šä¹‰-2"><a href="#å®šä¹‰-2" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>å°†ä¸€ä¸ªç±»æ¥å£è½¬åŒ–ä¸ºå¦ä¸€ä¸ªæ¥å£ï¼Œä»¥æ»¡è¶³ç”¨æˆ·éœ€æ±‚ï¼Œä½¿ç±»ä¹‹é—´æ¥å£ä¸å…¼å®¹é—®é¢˜é€šè¿‡é€‚é…å™¨å¾—ä»¥è§£å†³</p><h3 id="code-2"><a href="#code-2" class="headerlink" title="code"></a>code</h3><pre><code class="js">class Plug {  getName() {    return &#39;iphoneå……ç”µå¤´&#39;;  }}class Target {  constructor() {    this.plug = new Plug();  }  getName() {    return this.plug.getName() + &#39; é€‚é…å™¨Type-cå……ç”µå¤´&#39;;  }}let target = new Target();target.getName(); // iphoneå……ç”µå¤´ é€‚é…å™¨è½¬Type-cå……ç”µå¤´</code></pre><h3 id="ä¼˜ç‚¹-2"><a href="#ä¼˜ç‚¹-2" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><ul><li>å¯ä»¥è®©ä¸¤ä¸ªæ²¡æœ‰å…³ç³»çš„ç±»è¿æ¥èµ·æ¥ä¸€èµ·è¿è¡Œ</li><li>æé«˜äº†ç±»çš„å¤ç”¨</li><li>é€‚é…å¯¹è±¡ï¼Œé€‚é…åº“ï¼Œé€‚é…æ•°æ®</li></ul><h3 id="ç¼ºç‚¹-2"><a href="#ç¼ºç‚¹-2" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h3><ul><li>é¢å¤–å¯¹è±¡çš„åˆ›å»ºï¼Œéç›´æ¥è°ƒç”¨ï¼Œå­˜åœ¨ä¸€å®šçš„å¼€é”€ï¼ˆä¸”ä¸åƒä»£ç†æ¨¡å¼åœ¨æŸäº›åŠŸèƒ½ç‚¹ä¸Šå¯å®ç°æ€§èƒ½ä¼˜åŒ–)</li><li>å¦‚æœæ²¡å¿…è¦ä½¿ç”¨é€‚é…å™¨æ¨¡å¼çš„è¯ï¼Œå¯ä»¥è€ƒè™‘é‡æ„ï¼Œå¦‚æœä½¿ç”¨çš„è¯ï¼Œå°½é‡æŠŠæ–‡æ¡£å®Œå–„</li></ul><h3 id="åœºæ™¯"><a href="#åœºæ™¯" class="headerlink" title="åœºæ™¯"></a>åœºæ™¯</h3><ul><li>æ•´åˆç¬¬ä¸‰æ–¹SDK</li><li>å°è£…æ—§æ¥å£</li></ul><pre><code class="js">// è‡ªå·±å°è£…çš„ajaxï¼Œ ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ajax({    url: &#39;/getData&#39;,    type: &#39;Post&#39;,    dataType: &#39;json&#39;,    data: {        test: 111    }}).done(function() {})// å› ä¸ºå†å²åŸå› ï¼Œä»£ç ä¸­å…¨éƒ½æ˜¯ï¼š// $.ajax({....})// åšä¸€å±‚é€‚é…å™¨var $ = {    ajax: function (options) {        return ajax(options)    }}</code></pre><ul><li>vueçš„computed</li></ul><pre><code class="html">&lt;template&gt;    &lt;div id=&quot;example&quot;&gt;        &lt;p&gt;Original message: &quot;{{ message }}&quot;&lt;/p&gt;  &lt;!-- Hello --&gt;        &lt;p&gt;Computed reversed message: &quot;{{ reversedMessage }}&quot;&lt;/p&gt;  &lt;!-- olleH --&gt;    &lt;/div&gt;&lt;/template&gt;&lt;script type=&#39;text/javascript&#39;&gt;    export default {        name: &#39;demo&#39;,        data() {            return {                message: &#39;Hello&#39;            }        },        computed: {            reversedMessage: function() {                return this.message.split(&#39;&#39;).reverse().join(&#39;&#39;)            }        }    }&lt;/script&gt;</code></pre><p><strong>åŸæœ‰data ä¸­çš„æ•°æ®ä¸æ»¡è¶³å½“å‰çš„è¦æ±‚ï¼Œé€šè¿‡è®¡ç®—å±æ€§çš„è§„åˆ™æ¥é€‚é…æˆæˆ‘ä»¬éœ€è¦çš„æ ¼å¼ï¼Œå¯¹åŸæœ‰æ•°æ®å¹¶æ²¡æœ‰æ”¹å˜ï¼Œåªæ”¹å˜äº†åŸæœ‰æ•°æ®çš„è¡¨ç°å½¢å¼</strong></p><h3 id="ä¸åŒç‚¹"><a href="#ä¸åŒç‚¹" class="headerlink" title="ä¸åŒç‚¹"></a>ä¸åŒç‚¹</h3><p>é€‚é…å™¨æ¨¡å¼ä¸ä»£ç†æ¨¡å¼å¾ˆç›¸ä¼¼</p><ul><li>é€‚é…å™¨æ¨¡å¼ï¼šæä¾›ä¸€ä¸ªä¸åŒçš„æ¥å£ï¼ˆå¦‚ä¸åŒç‰ˆæœ¬çš„æ’å¤´ï¼‰</li><li>ä»£ç†æ¨¡å¼ï¼šæä¾›ä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„æ¥å£</li></ul><h2 id="è£…é¥°è€…æ¨¡å¼"><a href="#è£…é¥°è€…æ¨¡å¼" class="headerlink" title="è£…é¥°è€…æ¨¡å¼"></a>è£…é¥°è€…æ¨¡å¼</h2><h3 id="å®šä¹‰-3"><a href="#å®šä¹‰-3" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>åŠ¨æ€åœ°ç»™æŸä¸ªå¯¹è±¡æ·»åŠ ä¸€äº›é¢å¤–çš„èŒè´£ï¼Œï¼Œæ˜¯ä¸€ç§å®ç°ç»§æ‰¿çš„æ›¿ä»£æ–¹æ¡ˆ<br>åœ¨ä¸æ”¹å˜åŸå¯¹è±¡çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡å¯¹å…¶è¿›è¡ŒåŒ…è£…æ‰©å±•ï¼Œä½¿åŸæœ‰å¯¹è±¡å¯ä»¥æ»¡è¶³ç”¨æˆ·çš„æ›´å¤æ‚éœ€æ±‚ï¼Œè€Œä¸ä¼šå½±å“ä»è¿™ä¸ªç±»ä¸­æ´¾ç”Ÿçš„å…¶ä»–å¯¹è±¡</p><h3 id="code-3"><a href="#code-3" class="headerlink" title="code"></a>code</h3><pre><code class="js">class Cellphone {    create() {        console.log(&#39;ç”Ÿæˆä¸€ä¸ªæ‰‹æœº&#39;)    }}class Decorator {    constructor(cellphone) {        this.cellphone = cellphone    }    create() {        this.cellphone.create()        this.createShell(cellphone)    }    createShell() {        console.log(&#39;ç”Ÿæˆæ‰‹æœºå£³&#39;)    }}// æµ‹è¯•ä»£ç let cellphone = new Cellphone()cellphone.create()console.log(&#39;------------&#39;)let dec = new Decorator(cellphone)dec.create()</code></pre><h3 id="åœºæ™¯ä¾‹å­-1"><a href="#åœºæ™¯ä¾‹å­-1" class="headerlink" title="åœºæ™¯ä¾‹å­"></a>åœºæ™¯ä¾‹å­</h3><ul><li>æ¯”å¦‚ç°åœ¨æœ‰4 ç§å‹å·çš„è‡ªè¡Œè½¦ï¼Œæˆ‘ä»¬ä¸ºæ¯ç§è‡ªè¡Œè½¦éƒ½å®šä¹‰äº†ä¸€ä¸ªå•ç‹¬çš„ç±»ã€‚ç°åœ¨è¦ç»™æ¯ç§è‡ªè¡Œè½¦éƒ½è£…ä¸Šå‰ç¯ã€å°¾ç¯å’Œé“ƒé“›è¿™3 ç§é…ä»¶ã€‚å¦‚æœä½¿ç”¨ç»§æ‰¿çš„æ–¹å¼æ¥ç»™æ¯ç§è‡ªè¡Œè½¦åˆ›å»ºå­ç±»ï¼Œåˆ™éœ€è¦ 4Ã—3 = 12 ä¸ªå­ç±»ã€‚ä½†æ˜¯å¦‚æœæŠŠå‰ç¯ã€å°¾ç¯ã€é“ƒé“›è¿™äº›å¯¹è±¡åŠ¨æ€ç»„åˆåˆ°è‡ªè¡Œè½¦ä¸Šé¢ï¼Œåˆ™åªéœ€è¦é¢å¤–å¢åŠ 3ä¸ªç±»</li><li>ES6 <a href="http://es6.ruanyifeng.com/#docs/decorator" target="_blank" rel="noopener">Decorator</a> é˜®ä¸€å³°</li><li>core-decorators</li></ul><h3 id="ä¼˜ç‚¹-3"><a href="#ä¼˜ç‚¹-3" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><ul><li>è£…é¥°ç±»å’Œè¢«è£…é¥°ç±»éƒ½åªå…³å¿ƒè‡ªèº«çš„æ ¸å¿ƒä¸šåŠ¡ï¼Œå®ç°äº†è§£è€¦ã€‚</li><li>æ–¹ä¾¿åŠ¨æ€çš„æ‰©å±•åŠŸèƒ½ï¼Œä¸”æä¾›äº†æ¯”ç»§æ‰¿æ›´å¤šçš„çµæ´»æ€§ã€‚</li></ul><h3 id="ç¼ºç‚¹-3"><a href="#ç¼ºç‚¹-3" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h3><ul><li>å¤šå±‚è£…é¥°æ¯”è¾ƒå¤æ‚ã€‚</li><li>å¸¸å¸¸ä¼šå¼•å…¥è®¸å¤šå°å¯¹è±¡ï¼Œçœ‹èµ·æ¥æ¯”è¾ƒç›¸ä¼¼ï¼Œå®é™…åŠŸèƒ½å¤§ç›¸å¾„åº­ï¼Œä»è€Œä½¿å¾—æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºæ¶æ„å˜å¾—å¤æ‚èµ·æ¥</li></ul><h2 id="ä»£ç†æ¨¡å¼"><a href="#ä»£ç†æ¨¡å¼" class="headerlink" title="ä»£ç†æ¨¡å¼"></a>ä»£ç†æ¨¡å¼</h2><h3 id="å®šä¹‰-4"><a href="#å®šä¹‰-4" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>æ˜¯ä¸ºä¸€ä¸ªå¯¹è±¡æä¾›ä¸€ä¸ªä»£ç”¨å“æˆ–å ä½ç¬¦ï¼Œä»¥ä¾¿æ§åˆ¶å¯¹å®ƒçš„è®¿é—®</p><blockquote><p>å‡è®¾å½“A åœ¨å¿ƒæƒ…å¥½çš„æ—¶å€™æ”¶åˆ°èŠ±ï¼Œå°æ˜è¡¨ç™½æˆåŠŸçš„å‡ ç‡æœ‰60%ï¼Œè€Œå½“A åœ¨å¿ƒæƒ…å·®çš„æ—¶å€™æ”¶åˆ°èŠ±ï¼Œå°æ˜è¡¨ç™½çš„æˆåŠŸç‡æ— é™è¶‹è¿‘äº0ã€‚<br>å°æ˜è·ŸA åˆšåˆšè®¤è¯†ä¸¤å¤©ï¼Œè¿˜æ— æ³•è¾¨åˆ«A ä»€ä¹ˆæ—¶å€™å¿ƒæƒ…å¥½ã€‚å¦‚æœä¸åˆæ—¶å®œåœ°æŠŠèŠ±é€ç»™Aï¼ŒèŠ±è¢«ç›´æ¥æ‰”æ‰çš„å¯èƒ½æ€§å¾ˆå¤§ï¼Œè¿™æŸèŠ±å¯æ˜¯å°æ˜åƒäº†7 å¤©æ³¡é¢æ¢æ¥çš„ã€‚<br>ä½†æ˜¯A çš„æœ‹å‹B å´å¾ˆäº†è§£Aï¼Œæ‰€ä»¥å°æ˜åªç®¡æŠŠèŠ±äº¤ç»™Bï¼ŒB ä¼šç›‘å¬A çš„å¿ƒæƒ…å˜åŒ–ï¼Œç„¶åé€‰æ‹©A å¿ƒæƒ…å¥½çš„æ—¶å€™æŠŠèŠ±è½¬äº¤ç»™Aï¼Œä»£ç å¦‚ä¸‹ï¼š</p></blockquote><pre><code class="js">let Flower = function(){}let xiaoming = {  sendFlower: function(target){    let flower = new Flower()    target.receviceFlower()  }}let B = {  receviceFlower:function(flower){    A.listenGoodMood(function(){      A.receviceFlower(flower)    })  }}let A = {  receviceFlower:function(flower){    console.log(&#39;æ”¶åˆ°èŠ±&#39;+ flower)  }  listenGoodMood:function(fn){    setTimeout(function(){      fn()    },1000)  }}xiaoming.sendFlower(B)</code></pre><h3 id="åœºæ™¯ä¾‹å­-2"><a href="#åœºæ™¯ä¾‹å­-2" class="headerlink" title="åœºæ™¯ä¾‹å­"></a>åœºæ™¯ä¾‹å­</h3><ul><li>HTMLå…ƒ ç´ äº‹ä»¶ä»£ç†</li></ul><pre><code class="html">&lt;ul id=&quot;ul&quot;&gt;  &lt;li&gt;1&lt;/li&gt;  &lt;li&gt;2&lt;/li&gt;  &lt;li&gt;3&lt;/li&gt;&lt;/ul&gt;&lt;script&gt;  let ul = document.querySelector(&#39;#ul&#39;);  ul.addEventListener(&#39;click&#39;, event =&gt; {    console.log(event.target);  });&lt;/script&gt;</code></pre><ul><li>ES6 çš„ proxy é˜®ä¸€å³°Proxy</li><li>jQuery.proxy()æ–¹æ³•</li></ul><h3 id="ä¼˜ç‚¹-4"><a href="#ä¼˜ç‚¹-4" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><ul><li>ä»£ç†æ¨¡å¼èƒ½å°†ä»£ç†å¯¹è±¡ä¸è¢«è°ƒç”¨å¯¹è±¡åˆ†ç¦»ï¼Œé™ä½äº†ç³»ç»Ÿçš„è€¦åˆåº¦ã€‚ä»£ç†æ¨¡å¼åœ¨å®¢æˆ·ç«¯å’Œç›®æ ‡å¯¹è±¡ä¹‹é—´èµ·åˆ°ä¸€ä¸ªä¸­ä»‹ä½œç”¨ï¼Œè¿™æ ·å¯ä»¥èµ·åˆ°ä¿æŠ¤ç›®æ ‡å¯¹è±¡çš„ä½œç”¨</li><li>ä»£ç†å¯¹è±¡å¯ä»¥æ‰©å±•ç›®æ ‡å¯¹è±¡çš„åŠŸèƒ½ï¼›é€šè¿‡ä¿®æ”¹ä»£ç†å¯¹è±¡å°±å¯ä»¥äº†ï¼Œç¬¦åˆå¼€é—­åŸåˆ™ï¼›</li></ul><h3 id="ç¼ºç‚¹-4"><a href="#ç¼ºç‚¹-4" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h3><ul><li>å¤„ç†è¯·æ±‚é€Ÿåº¦å¯èƒ½æœ‰å·®åˆ«ï¼Œéç›´æ¥è®¿é—®å­˜åœ¨å¼€é”€</li></ul><h3 id="ä¸åŒç‚¹-1"><a href="#ä¸åŒç‚¹-1" class="headerlink" title="ä¸åŒç‚¹"></a>ä¸åŒç‚¹</h3><blockquote><p>è£…é¥°è€…æ¨¡å¼å®ç°ä¸Šå’Œä»£ç†æ¨¡å¼ç±»ä¼¼<br>è£…é¥°è€…æ¨¡å¼ï¼š æ‰©å±•åŠŸèƒ½ï¼ŒåŸæœ‰åŠŸèƒ½ä¸å˜ä¸”å¯ç›´æ¥ä½¿ç”¨<br>ä»£ç†æ¨¡å¼ï¼š æ˜¾ç¤ºåŸæœ‰åŠŸèƒ½ï¼Œä½†æ˜¯ç»è¿‡é™åˆ¶ä¹‹åçš„</p></blockquote><h2 id="å¤–è§‚æ¨¡å¼"><a href="#å¤–è§‚æ¨¡å¼" class="headerlink" title="å¤–è§‚æ¨¡å¼"></a>å¤–è§‚æ¨¡å¼</h2><h3 id="å®šä¹‰-5"><a href="#å®šä¹‰-5" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>ä¸ºå­ç³»ç»Ÿçš„ä¸€ç»„æ¥å£æä¾›ä¸€ä¸ªä¸€è‡´çš„ç•Œé¢ï¼Œå®šä¹‰äº†ä¸€ä¸ªé«˜å±‚æ¥å£ï¼Œè¿™ä¸ªæ¥å£ä½¿å­ç³»ç»Ÿæ›´åŠ å®¹æ˜“ä½¿ç”¨</p><h3 id="code-4"><a href="#code-4" class="headerlink" title="code"></a>code</h3><ol><li>å…¼å®¹æµè§ˆå™¨äº‹ä»¶ç»‘å®š</li></ol><pre><code class="js">let addMyEvent = function (el, ev, fn) {    if (el.addEventListener) {        el.addEventListener(ev, fn, false)    } else if (el.attachEvent) {        el.attachEvent(&#39;on&#39; + ev, fn)    } else {        el[&#39;on&#39; + ev] = fn    }}; </code></pre><ol start="2"><li>å°è£…æ¥å£</li></ol><pre><code class="js">let myEvent = {    // ...    stop: e =&gt; {        e.stopPropagation();        e.preventDefault();    }};</code></pre><p>æ–œæŒå•è‚©åŒ…ï¼Œé€æ°”è·‘é‹ï¼Œè¿åŠ¨è¢œï¼ŒTæ¤ï¼Œè¿åŠ¨çŸ­è£¤</p><h3 id="åœºæ™¯-1"><a href="#åœºæ™¯-1" class="headerlink" title="åœºæ™¯"></a>åœºæ™¯</h3><ul><li>è®¾è®¡åˆæœŸï¼Œåº”è¯¥è¦æœ‰æ„è¯†åœ°å°†ä¸åŒçš„ä¸¤ä¸ªå±‚åˆ†ç¦»ï¼Œæ¯”å¦‚ç»å…¸çš„ä¸‰å±‚ç»“æ„ï¼Œåœ¨æ•°æ®è®¿é—®å±‚å’Œä¸šåŠ¡é€»è¾‘å±‚ã€ä¸šåŠ¡é€»è¾‘å±‚å’Œè¡¨ç¤ºå±‚ä¹‹é—´å»ºç«‹å¤–è§‚Facade</li><li>åœ¨å¼€å‘é˜¶æ®µï¼Œå­ç³»ç»Ÿå¾€å¾€å› ä¸ºä¸æ–­çš„é‡æ„æ¼”åŒ–è€Œå˜å¾—è¶Šæ¥è¶Šå¤æ‚ï¼Œå¢åŠ å¤–è§‚Facadeå¯ä»¥æä¾›ä¸€ä¸ªç®€å•çš„æ¥å£ï¼Œå‡å°‘ä»–ä»¬ä¹‹é—´çš„ä¾èµ–ã€‚</li><li>åœ¨ç»´æŠ¤ä¸€ä¸ªé—ç•™çš„å¤§å‹ç³»ç»Ÿæ—¶ï¼Œå¯èƒ½è¿™ä¸ªç³»ç»Ÿå·²ç»å¾ˆéš¾ç»´æŠ¤äº†ï¼Œè¿™æ—¶å€™ä½¿ç”¨å¤–è§‚Facadeä¹Ÿæ˜¯éå¸¸åˆé€‚çš„ï¼Œä¸ºç³»ç»Ÿå¼€å‘ä¸€ä¸ªå¤–è§‚Facadeç±»ï¼Œä¸ºè®¾è®¡ç²—ç³™å’Œé«˜åº¦å¤æ‚çš„é—ç•™ä»£ç æä¾›æ¯”è¾ƒæ¸…æ™°çš„æ¥å£ï¼Œè®©æ–°ç³»ç»Ÿå’ŒFacadeå¯¹è±¡äº¤äº’ï¼ŒFacadeä¸é—ç•™ä»£ç äº¤äº’æ‰€æœ‰çš„å¤æ‚å·¥ä½œã€‚</li></ul><h3 id="ä¼˜ç‚¹-5"><a href="#ä¼˜ç‚¹-5" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><ul><li>å‡å°‘ç³»ç»Ÿçš„ç›¸äº’ä¾èµ–</li><li>æé«˜äº†çµæ´»æ€§</li><li>æé«˜äº†å®‰å…¨æ€§</li></ul><h3 id="ç¼ºç‚¹-5"><a href="#ç¼ºç‚¹-5" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h3><p>ä¸ç¬¦åˆå¼€é—­åŸåˆ™ï¼Œå¦‚æœè¦æ”¹ä¸œè¥¿å¾ˆéº»çƒ¦ï¼Œç»§æ‰¿é‡å†™éƒ½ä¸åˆé€‚ã€‚</p><h2 id="è§‚å¯Ÿè€…æ¨¡å¼"><a href="#è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="è§‚å¯Ÿè€…æ¨¡å¼"></a>è§‚å¯Ÿè€…æ¨¡å¼</h2><h3 id="å®šä¹‰-6"><a href="#å®šä¹‰-6" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>ä¸€ç§ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œè®©å¤šä¸ªè§‚å¯Ÿè€…å¯¹è±¡åŒæ—¶ç›‘å¬æŸä¸€ä¸ªä¸»é¢˜å¯¹è±¡ï¼Œè¿™ä¸ªä¸»é¢˜å¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶å°±ä¼šé€šçŸ¥æ‰€æœ‰çš„è§‚å¯Ÿè€…å¯¹è±¡ï¼Œä½¿å®ƒä»¬èƒ½å¤Ÿè‡ªåŠ¨æ›´æ–°è‡ªå·±ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„æ”¹å˜éœ€è¦åŒæ—¶æ”¹å˜å…¶å®ƒå¯¹è±¡ï¼Œå¹¶ä¸”å®ƒä¸çŸ¥é“å…·ä½“æœ‰å¤šå°‘å¯¹è±¡éœ€è¦æ”¹å˜çš„æ—¶å€™ï¼Œå°±åº”è¯¥è€ƒè™‘ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼ã€‚</p><ul><li>å‘å¸ƒ &amp; è®¢é˜…</li><li>ä¸€å¯¹å¤š</li></ul><h3 id="code-5"><a href="#code-5" class="headerlink" title="code"></a>code</h3><pre><code class="js">// ä¸»é¢˜ ä¿å­˜çŠ¶æ€ï¼ŒçŠ¶æ€å˜åŒ–ä¹‹åè§¦å‘æ‰€æœ‰è§‚å¯Ÿè€…å¯¹è±¡class Subject {  constructor() {    this.state = 0    this.observers = []  }  getState() {    return this.state  }  setState(state) {    this.state = state    this.notifyAllObservers()  }  notifyAllObservers() {    this.observers.forEach(observer =&gt; {      observer.update()    })  }  attach(observer) {    this.observers.push(observer)  }}// è§‚å¯Ÿè€…class Observer {  constructor(name, subject) {    this.name = name    this.subject = subject    this.subject.attach(this)  }  update() {    console.log(`${this.name} update, state: ${this.subject.getState()}`)  }}// æµ‹è¯•let s = new Subject()let o1 = new Observer(&#39;o1&#39;, s)let o2 = new Observer(&#39;02&#39;, s)s.setState(12)</code></pre><h3 id="åœºæ™¯-2"><a href="#åœºæ™¯-2" class="headerlink" title="åœºæ™¯"></a>åœºæ™¯</h3><ul><li>DOMäº‹ä»¶</li></ul><pre><code class="js">document.body.addEventListener(&#39;click&#39;, function() {    console.log(&#39;hello world!&#39;);});document.body.click()</code></pre><ul><li>Vueå“åº”å¼</li></ul><h3 id="ä¼˜ç‚¹-6"><a href="#ä¼˜ç‚¹-6" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><ul><li>æ”¯æŒç®€å•çš„å¹¿æ’­é€šä¿¡ï¼Œè‡ªåŠ¨é€šçŸ¥æ‰€æœ‰å·²ç»è®¢é˜…è¿‡çš„å¯¹è±¡</li><li>ç›®æ ‡å¯¹è±¡ä¸è§‚å¯Ÿè€…ä¹‹é—´çš„æŠ½è±¡è€¦åˆå…³ç³»èƒ½å•ç‹¬æ‰©å±•ä»¥åŠé‡ç”¨</li><li>å¢åŠ äº†çµæ´»æ€§</li><li>è§‚å¯Ÿè€…æ¨¡å¼æ‰€åšçš„å·¥ä½œå°±æ˜¯åœ¨è§£è€¦ï¼Œè®©è€¦åˆçš„åŒæ–¹éƒ½ä¾èµ–äºæŠ½è±¡ï¼Œè€Œä¸æ˜¯ä¾èµ–äºå…·ä½“ã€‚ä»è€Œä½¿å¾—å„è‡ªçš„å˜åŒ–éƒ½ä¸ä¼šå½±å“åˆ°å¦ä¸€è¾¹çš„å˜åŒ–ã€‚</li></ul><h3 id="ç¼ºç‚¹-6"><a href="#ç¼ºç‚¹-6" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h3><p>è¿‡åº¦ä½¿ç”¨ä¼šå¯¼è‡´å¯¹è±¡ä¸å¯¹è±¡ä¹‹é—´çš„è”ç³»å¼±åŒ–ï¼Œä¼šå¯¼è‡´ç¨‹åºéš¾ä»¥è·Ÿè¸ªç»´æŠ¤å’Œç†è§£</p><h2 id="çŠ¶æ€æ¨¡å¼"><a href="#çŠ¶æ€æ¨¡å¼" class="headerlink" title="çŠ¶æ€æ¨¡å¼"></a>çŠ¶æ€æ¨¡å¼</h2><h3 id="å®šä¹‰-7"><a href="#å®šä¹‰-7" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>å…è®¸ä¸€ä¸ªå¯¹è±¡åœ¨å…¶å†…éƒ¨çŠ¶æ€æ”¹å˜çš„æ—¶å€™æ”¹å˜å®ƒçš„è¡Œä¸ºï¼Œå¯¹è±¡çœ‹èµ·æ¥ä¼¼ä¹ä¿®æ”¹äº†å®ƒçš„ç±»</p><h3 id="code-6"><a href="#code-6" class="headerlink" title="code"></a>code</h3><pre><code class="js">class State {  constructor(state){    this.state = state  }  handle(context){    console.log(`this is ${context} light`)  }}class Context{  constructor(){    this.state = null  }  getState(){    return this.state  }  setState(state){    this.state = state  }}let context = new Context()let weak = new State(&#39;Weak&#39;)let strong = new State(&#39;Strong&#39;)let off = new State(&#39;off&#39;)// å¼±å…‰weak.handle(context)console.log(context.getState())// å¼ºå…‰strong.handle(context)console.log(context.getState())// å…³é—­off.handle(context)console.log(context.getState())</code></pre><h3 id="åœºæ™¯-3"><a href="#åœºæ™¯-3" class="headerlink" title="åœºæ™¯"></a>åœºæ™¯</h3><ul><li>ä¸€ä¸ªå¯¹è±¡çš„è¡Œä¸ºå–å†³äºå®ƒçš„çŠ¶æ€ï¼Œå¹¶ä¸”å®ƒå¿…é¡»åœ¨è¿è¡Œæ—¶åˆ»æ ¹æ®çŠ¶æ€æ”¹å˜å®ƒçš„è¡Œä¸º</li><li>ä¸€ä¸ªæ“ä½œä¸­å«æœ‰å¤§é‡çš„åˆ†æ”¯è¯­å¥ï¼Œè€Œä¸”è¿™äº›åˆ†æ”¯è¯­å¥ä¾èµ–äºè¯¥å¯¹è±¡çš„çŠ¶æ€</li></ul><h3 id="ä¼˜ç‚¹-7"><a href="#ä¼˜ç‚¹-7" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><ul><li>å®šä¹‰äº†çŠ¶æ€ä¸è¡Œä¸ºä¹‹é—´çš„å…³ç³»ï¼Œå°è£…åœ¨ä¸€ä¸ªç±»é‡Œï¼Œæ›´ç›´è§‚æ¸…æ™°ï¼Œå¢æ”¹æ–¹ä¾¿</li><li>çŠ¶æ€ä¸çŠ¶æ€é—´ï¼Œè¡Œä¸ºä¸è¡Œä¸ºé—´å½¼æ­¤ç‹¬ç«‹äº’ä¸å¹²æ‰°</li><li>ç”¨å¯¹è±¡ä»£æ›¿å­—ç¬¦ä¸²æ¥è®°å½•å½“å‰çŠ¶æ€ï¼Œä½¿å¾—çŠ¶æ€çš„åˆ‡æ¢æ›´åŠ ä¸€ç›®äº†ç„¶</li></ul><h3 id="ç¼ºç‚¹-7"><a href="#ç¼ºç‚¹-7" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h3><ul><li>ä¼šåœ¨ç³»ç»Ÿä¸­å®šä¹‰è®¸å¤šçŠ¶æ€ç±»</li><li>é€»è¾‘åˆ†æ•£</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://juejin.im/post/5e021eb96fb9a01628014095&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;åŸæ–‡åœ°å€&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;è®¾è®¡æ¨¡å¼ç®€ä»‹&quot;&gt;&lt;a href=&quot;#è®¾è®¡æ¨¡å¼ç®€ä»‹&quot; c
      
    
    </summary>
    
      <category term="Js" scheme="https://zhanghao-web.github.io/categories/Js/"/>
    
    
      <category term="ES6" scheme="https://zhanghao-web.github.io/tags/ES6/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="https://zhanghao-web.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>Vueå¼€å‘å®è·µ(ä¸‹)</title>
    <link href="https://zhanghao-web.github.io/2020/05/10/Vue/%E5%90%83%E9%80%8FVue%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5-%E4%B8%8B/"/>
    <id>https://zhanghao-web.github.io/2020/05/10/Vue/åƒé€Vueé¡¹ç›®å¼€å‘å®è·µ-ä¸‹/</id>
    <published>2020-05-10T09:30:23.000Z</published>
    <updated>2020-05-11T06:16:01.028Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://juejin.im/post/5e1eb1dff265da3e354ea2d0" target="_blank" rel="noopener">åŸæ–‡åœ°å€</a>   </p><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>å‰é¢ä¸¤ç¯‡æ–‡ç« æ€»ç»“äº† Vue å¼€å‘çš„å¤§éƒ¨åˆ†æŠ€å·§å’Œå†…å®¹ï¼Œæœ€åä¸€ç¯‡æ–‡ç« æ¥å¯¹å®ƒè¿›è¡Œä¸€ä¸ªæ”¶å°¾<br>è¿™ç¯‡æ–‡ç« æˆ‘ä»¬æ¥è°ˆè°ˆä¸€äº› Vue ç†è§£å’Œå®è·µè¦æ±‚é«˜ä¸€ç‚¹çš„é—®é¢˜</p><p>é¦–å…ˆæ˜¯ç”Ÿå‘½å‘¨æœŸè¿™ä¸€å—å†…å®¹ï¼Œéšç€å®è·µè¶Šå¤šå®ƒçš„æ„ä¹‰è¶Šå¤§ï¼Œç†è§£ä¹Ÿè¶Šæ·±åˆ»</p><p>mixin åŠŸèƒ½å¼ºå¤§ï¼Œå¯¹ä»£ç å¤ç”¨ç»„ç»‡éƒ½æœ‰å¾ˆé«˜çš„è¦æ±‚ï¼Œç®—æ˜¯ Vue åæœŸå‘åŠ›çš„é«˜çº§æŠ€å·§</p><p>æœåŠ¡ç«¯æ¸²æŸ“å¯èƒ½æ˜¯å­¦ä¹  Vue æœ€åä¸€å—é˜µåœ°äº†ï¼Œå¯¹äº SPA æ¡†æ¶çš„ä¸€ä¸ªé‡Œç¨‹ç¢‘</p><p>æœ€åï¼Œæ€»ç»“ä¸€ä¸‹æˆ‘åœ¨ä½¿ç”¨ Vue ä¸­ä½¿ç”¨çš„æŠ€å·§å’Œç»éªŒ</p><h1 id="æ¦‚è§ˆ"><a href="#æ¦‚è§ˆ" class="headerlink" title="æ¦‚è§ˆ"></a>æ¦‚è§ˆ</h1><p><img src="https://user-gold-cdn.xitu.io/2020/3/11/170c9c19f1dd22b7?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="æ¦‚è§ˆ"></p><h1 id="Vue-ç”Ÿå‘½å‘¨æœŸ"><a href="#Vue-ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="Vue ç”Ÿå‘½å‘¨æœŸ"></a>Vue ç”Ÿå‘½å‘¨æœŸ</h1><h2 id="ä»€ä¹ˆæ˜¯-Vue-ç”Ÿå‘½å‘¨æœŸï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-Vue-ç”Ÿå‘½å‘¨æœŸï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ Vue ç”Ÿå‘½å‘¨æœŸï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ Vue ç”Ÿå‘½å‘¨æœŸï¼Ÿ</h2><p>Vue ç”Ÿå‘½å‘¨æœŸå¤§æ¦‚å°±æ˜¯ï¼šä¸€ä¸ªä» Vue å®ä¾‹çš„åˆ›å»ºåˆ°ç»„ä»¶é”€æ¯çš„ä¸€ä¸ªçš„è¿‡ç¨‹ã€‚</p><p>å…·ä½“æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åˆ†ä¸ºå‡ ä¸ªæ ¸å¿ƒçš„é˜¶æ®µï¼Œå¹¶ä¸”æ¯ä¸ªé˜¶æ®µéƒ½æœ‰ä¸€å¥—é’©å­å‡½æ•°æ¥æ‰§è¡Œæˆ‘ä»¬éœ€è¦çš„ä»£ç ã€‚</p><h3 id="ç”Ÿå‘½å‘¨æœŸé˜¶æ®µä¸é’©å­"><a href="#ç”Ÿå‘½å‘¨æœŸé˜¶æ®µä¸é’©å­" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸé˜¶æ®µä¸é’©å­"></a>ç”Ÿå‘½å‘¨æœŸé˜¶æ®µä¸é’©å­</h3><p>æˆ‘ä»¬æ•´ç†åˆ†ç±»ä¸€ä¸‹è¿™äº›ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œä¸ºäº†è®°å¿†æ–¹ä¾¿åˆ†ä¸º 4 å¤§æ ¸å¿ƒé˜¶æ®µï¼š</p><p>æ–¹ä¾¿è¯»è€…è®°å¿†ï¼Œè¿™é‡Œå°½é‡ä½¿ç”¨å›¾ç¤ºï¼š<br><img src="https://user-gold-cdn.xitu.io/2020/3/11/170c9c27264b6562?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="å›¾ç¤º"></p><p>å¯ä»¥çœ‹åˆ°æ¯ä¸€ä¸ªé˜¶æ®µä¸­çš„é’©å­å‘½åéƒ½å¾ˆå¥½è®°å¿†ï¼Œé˜¶æ®µå¼€å§‹å‰ä½¿ç”¨ <code>beforeXxx</code>ï¼Œé˜¶æ®µåç»“æŸåä½¿ç”¨<code>xxxed</code></p><p>é™¤è¿™ 8 ä¸ªæ ¸å¿ƒé’©å­ï¼Œå¦å¤–è¿˜æœ‰ 3 ä¸ªæ–°å¢åŠŸèƒ½å‹é’©å­ï¼Œç›®å‰æ€»å…±æ˜¯ 11 ä¸ªé’©å­ é¡ºå¸¦æä¸€ä¸‹è¿™ 3 ä¸ªé’©å­çš„åŠŸèƒ½</p><ol><li>ç»„ä»¶ç¼“å­˜ï¼Œ<code>activated</code> ä¸ <code>deactivated</code>ï¼Œè¿™ä¸¤ä¸ªé’©å­ä¹Ÿæ˜¯ä¸€å¯¹çš„ï¼Œåˆ†åˆ«è¡¨ç¤ºè¢« keep-alive ç¼“å­˜çš„ç»„ä»¶æ¿€æ´»å’Œåœç”¨æ—¶è°ƒç”¨ã€‚</li><li>ç»„ä»¶é”™è¯¯æ•è·ï¼Œ<code>errorCaptured</code>ï¼Œå¯¹ç»„ä»¶ä¸­å‡ºç°å¯¹å¼‚å¸¸é”™è¯¯è¿›è¡Œå¤„ç†ï¼Œä½¿ç”¨è¾ƒå°‘ã€‚</li></ol><h3 id="Vue-æºç åŸºæœ¬æµç¨‹"><a href="#Vue-æºç åŸºæœ¬æµç¨‹" class="headerlink" title="Vue æºç åŸºæœ¬æµç¨‹"></a>Vue æºç åŸºæœ¬æµç¨‹</h3><p>å¯¹äºä¸Šé¢é‚£å¼ å›¾çš„ç†è§£ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ Vue æºç è¿›è¡Œæ¢³ç†ï¼Œæ‰èƒ½çœŸæ­£çš„ç†è§£ã€‚å¤§æ¦‚æ ¹æ®ç°æœ‰çš„æºç ï¼Œæˆ‘æ¢³ç†äº†ä¸€ä¸‹å¤§è‡´çš„æµç¨‹ï¼š</p><p><img src="https://user-gold-cdn.xitu.io/2020/3/11/170c9c2cc22b99c2?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="æºç "></p><p>æˆ‘ä»¬å¯ä»¥æ¸…æ¥šçš„çœ‹åˆ°ï¼Œä» Vue å®ä¾‹åˆ›å»ºã€ç»„ä»¶æŒ‚è½½ã€æ¸²æŸ“çš„ä¸€äº›è¿‡ç¨‹ä¸­ï¼Œæœ‰ç€æ˜æ˜¾çš„å‘¨æœŸèŠ‚ç‚¹ã€‚</p><h3 id="ç®€åŒ–æ–‡å­—å›¾è§£"><a href="#ç®€åŒ–æ–‡å­—å›¾è§£" class="headerlink" title="ç®€åŒ–æ–‡å­—å›¾è§£"></a>ç®€åŒ–æ–‡å­—å›¾è§£</h3><p>å¯¹äºä¸Šé¢é‚£å¼ å›¾çš„ç†è§£ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ Vue æºç è¿›è¡Œæ¢³ç†ï¼Œæ‰èƒ½çœŸæ­£çš„ç†è§£ã€‚å¤§æ¦‚æ ¹æ®ç°æœ‰çš„æºç ï¼Œæˆ‘æ¢³ç†äº†ä¸€ä¸‹å¤§è‡´çš„æµç¨‹ï¼š</p><p><img src="https://user-gold-cdn.xitu.io/2020/3/11/170c9c2cc22b99c2?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="å›¾è§£"></p><h2 id="å®è·µéªŒè¯ä¸€ä¸‹ç”Ÿå‘½å‘¨æœŸ"><a href="#å®è·µéªŒè¯ä¸€ä¸‹ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="å®è·µéªŒè¯ä¸€ä¸‹ç”Ÿå‘½å‘¨æœŸ"></a>å®è·µéªŒè¯ä¸€ä¸‹ç”Ÿå‘½å‘¨æœŸ</h2><h3 id="æå‡ºé—®é¢˜"><a href="#æå‡ºé—®é¢˜" class="headerlink" title="æå‡ºé—®é¢˜"></a>æå‡ºé—®é¢˜</h3><p>ä¸‹é¢æˆ‘ä»¬æå‡ºä¸€äº›é—®é¢˜ï¼š</p><ol><li>ä»€ä¹ˆæ—¶æœŸåˆ›å»º el ï¼Ÿ</li><li>ä»€ä¹ˆæ—¶æœŸæŒ‚è½½ data ï¼Ÿ</li><li>ä»€ä¹ˆæ—¶æœŸå¯ä»¥è®¿é—® dom ï¼Ÿ</li><li>ä»€ä¹ˆæƒ…å†µä¸‹ç»„ä»¶ä¼šæ›´æ–°ï¼Ÿæ›´æ–°æ˜¯åŒæ­¥æ›´æ–°è¿˜æ˜¯å¼‚æ­¥æ›´æ–°ï¼Ÿ</li><li>ä»€ä¹ˆæƒ…å†µä¸‹ç»„ä»¶ä¼šè¢«é”€æ¯ï¼Ÿ</li><li>é”€æ¯ç»„ä»¶åï¼Œè¿˜å¯ä»¥è®¿é—®å“ªäº›å†…å®¹ï¼Ÿ</li></ol><h3 id="ç¼–å†™ä»£ç "><a href="#ç¼–å†™ä»£ç " class="headerlink" title="ç¼–å†™ä»£ç "></a>ç¼–å†™ä»£ç </h3><ol><li>é¦–å…ˆå†™ä¸€ä¸ªå° demoï¼Œæ‰“å°å…³é”®ç»„ä»¶ä¿¡æ¯</li></ol><pre><code class="html">&lt;template&gt;  &lt;div&gt;    &lt;div class=&quot;message&quot;&gt;      {{message}}    &lt;/div&gt;  &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default {      data() {            return {                  message: &#39;1&#39;            }    },      methods: {            printComponentInfo(lifeName) {                  console.log(lifeName)                  console.log(&#39;el&#39;, this.$el)                  console.log(&#39;data&#39;, this.$data)                  console.log(&#39;watch&#39;, this.$watch)            }      }}&lt;/script&gt;</code></pre><ol start="2"><li>å¢åŠ æ ¸å¿ƒçš„ 8 ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œåˆ†åˆ«è°ƒç”¨æ‰“å°æ–¹æ³•</li></ol><pre><code class="js">  // ...    beforeCreate() {    this.printComponentInfo(&#39;beforeCreate&#39;)  },    created() {    this.printComponentInfo(&#39;created&#39;)  },    beforeMount() {    this.printComponentInfo(&#39;beforeMount&#39;)  },    mounted() {    this.printComponentInfo(&#39;mounted&#39;)  },    beforeUpdate() {    this.printComponentInfo(&#39;beforeUpdate&#39;)  },    updated() {    this.printComponentInfo(&#39;updated&#39;)  },    beforeDestroy() {    this.printComponentInfo(&#39;beforeDestroy&#39;)  },    destroyed() {    this.printComponentInfo(&#39;destroyed&#39;)  },    // ...</code></pre><h3 id="åˆ›å»ºé˜¶æ®µ"><a href="#åˆ›å»ºé˜¶æ®µ" class="headerlink" title="åˆ›å»ºé˜¶æ®µ"></a>åˆ›å»ºé˜¶æ®µ</h3><p><img src="https://user-gold-cdn.xitu.io/2020/3/10/170c25e769e9f94e?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="åˆ›å»º"></p><p>beforeCreate ä¸­methodsä¸­æ–¹æ³•ç›´æ¥æŠ¥é”™æ— æ³•è®¿é—®ï¼Œç›´æ¥è®¿é—® el å’Œ data å</p><p><img src="https://user-gold-cdn.xitu.io/2020/3/10/170c26347c3622f5?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="åˆ›å»º"></p><p>å‘ç°åªèƒ½è®¿é—®åˆ° watchï¼Œ el å’Œ data å‡ä¸èƒ½è®¿é—®åˆ°</p><p>created æ—¶æœŸ el æ— æ³•è®¿é—®åˆ°ï¼Œä½†æ˜¯å¯ä»¥è®¿é—®åˆ° data äº†</p><h3 id="æŒ‚è½½é˜¶æ®µ"><a href="#æŒ‚è½½é˜¶æ®µ" class="headerlink" title="æŒ‚è½½é˜¶æ®µ"></a>æŒ‚è½½é˜¶æ®µ</h3><p><img src="https://user-gold-cdn.xitu.io/2020/3/10/170c2679f7e956d2?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="æŒ‚è½½"></p><p><code>beforeMount</code> ä¸­å¯ä»¥è®¿é—® data ä½†æ˜¯ä»ç„¶è®¿é—®ä¸åˆ° el</p><p><code>mounted</code> ä¸­å¯ä»¥è®¿é—®åˆ° el äº†</p><blockquote><p>é¦–æ¬¡åŠ è½½é¡µé¢ï¼Œæ›´æ–°é˜¶æ®µå’Œé”€æ¯é˜¶æ®µåˆ°é’©å­éƒ½æœªè§¦å‘</p></blockquote><h3 id="æ›´æ–°é˜¶æ®µ"><a href="#æ›´æ–°é˜¶æ®µ" class="headerlink" title="æ›´æ–°é˜¶æ®µ"></a>æ›´æ–°é˜¶æ®µ</h3><pre><code class="js">this.message = this.message + 1</code></pre><p>å¦‚æœå¢åŠ åœ¨ created é˜¶æ®µï¼Œå‘ç° updateé’©å­ä»ç„¶æœªè§¦å‘ï¼Œä½†æ˜¯ el å’Œ data çš„å€¼éƒ½å˜æˆäº† 2</p><p>å¦‚æœå¢åŠ åœ¨ mounted é˜¶æ®µï¼Œå‘ç° updateé’©å­æ­¤æ—¶è§¦å‘äº†</p><p><img src="https://user-gold-cdn.xitu.io/2020/3/10/170c2727250a6c8c?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="æ›´æ–°"></p><h3 id="é”€æ¯é˜¶æ®µ"><a href="#é”€æ¯é˜¶æ®µ" class="headerlink" title="é”€æ¯é˜¶æ®µ"></a>é”€æ¯é˜¶æ®µ</h3><p>æ€æ ·è§¦å‘é”€æ¯çš„é’©å­å‘¢ï¼Ÿ å¤§æ¦‚æœ‰è¿™å‡ ç§æ–¹æ³•</p><ul><li>æ‰‹åŠ¨è°ƒç”¨ $destory</li><li>v-if ä¸ v-for æŒ‡ä»¤ï¼Œï¼ˆv-show ä¸è¡Œï¼‰</li><li>è·¯ç”±åˆ‡æ¢å’Œå…³é—­æˆ–åˆ·æ–°æµè§ˆå™¨</li></ul><p><img src="https://user-gold-cdn.xitu.io/2020/3/10/170c2ef6a6785ddc?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="è·¯ç”±åˆ‡æ¢"></p><h2 id="ç”Ÿå‘½å‘¨æœŸé’©å­å¸¸è§ä½¿ç”¨çš„åœºæ™¯"><a href="#ç”Ÿå‘½å‘¨æœŸé’©å­å¸¸è§ä½¿ç”¨çš„åœºæ™¯" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸé’©å­å¸¸è§ä½¿ç”¨çš„åœºæ™¯"></a>ç”Ÿå‘½å‘¨æœŸé’©å­å¸¸è§ä½¿ç”¨çš„åœºæ™¯</h2><h3 id="beforeCreate-è°¨æ…æ“ä½œ-this"><a href="#beforeCreate-è°¨æ…æ“ä½œ-this" class="headerlink" title="beforeCreate è°¨æ…æ“ä½œ this"></a>beforeCreate è°¨æ…æ“ä½œ this</h3><p><code>beforeCreate</code> æ— æ³•è®¿é—®åˆ° this ä¸­çš„ <code>dataã€method</code></p><h3 id="è¯·æ±‚åº”æ”¾åœ¨-created-é’©å­ä¸­"><a href="#è¯·æ±‚åº”æ”¾åœ¨-created-é’©å­ä¸­" class="headerlink" title="è¯·æ±‚åº”æ”¾åœ¨ created é’©å­ä¸­"></a>è¯·æ±‚åº”æ”¾åœ¨ created é’©å­ä¸­</h3><p>created å¯ä»¥è®¿é—® thisï¼Œä½†æ— æ³•è®¿é—® domï¼Œdom æœªæŒ‚è½½</p><h3 id="æ“ä½œ-DOM-ä»£ç åº”æ”¾åœ¨-mounted-é’©å­ä¸­"><a href="#æ“ä½œ-DOM-ä»£ç åº”æ”¾åœ¨-mounted-é’©å­ä¸­" class="headerlink" title="æ“ä½œ DOM ä»£ç åº”æ”¾åœ¨ mounted é’©å­ä¸­"></a>æ“ä½œ DOM ä»£ç åº”æ”¾åœ¨ mounted é’©å­ä¸­</h3><p>mounted å·²ç»æŒ‚è½½ domï¼Œå¯ä»¥è®¿é—® this</p><blockquote><p>ç”Ÿå‘½å‘¨æœŸç›¸å…³demo ä»£ç è§<a href="ç”Ÿå‘½å‘¨æœŸç›¸å…³demo ä»£ç è§github-lifecycle-demo">github-lifecycle-demo</a></p></blockquote><h1 id="ç†è§£å¹¶åˆç†ä½¿ç”¨-mixin"><a href="#ç†è§£å¹¶åˆç†ä½¿ç”¨-mixin" class="headerlink" title="ç†è§£å¹¶åˆç†ä½¿ç”¨ mixin"></a>ç†è§£å¹¶åˆç†ä½¿ç”¨ mixin</h1><h2 id="ä»€ä¹ˆæ˜¯-mixinï¼ˆæ··å…¥ï¼‰"><a href="#ä»€ä¹ˆæ˜¯-mixinï¼ˆæ··å…¥ï¼‰" class="headerlink" title="ä»€ä¹ˆæ˜¯ mixinï¼ˆæ··å…¥ï¼‰"></a>ä»€ä¹ˆæ˜¯ mixinï¼ˆæ··å…¥ï¼‰</h2><blockquote><p>å½“ç»„ä»¶ä½¿ç”¨æ··å…¥å¯¹è±¡æ—¶ï¼Œæ‰€æœ‰æ··å…¥å¯¹è±¡çš„é€‰é¡¹å°†è¢«â€œæ··åˆâ€è¿›å…¥è¯¥ç»„ä»¶æœ¬èº«çš„é€‰é¡¹ å¤§è‡´åŸç†å°±æ˜¯å°†å¤–æ¥çš„ç»„ä»¶ã€æ–¹æ³•ä»¥æŸç§æ–¹å¼è¿›è¡Œåˆå¹¶ã€‚åˆå¹¶çš„è§„åˆ™æœ‰ç‚¹åƒç»§æ‰¿å’Œæ‰©å±•ã€‚</p></blockquote><p>å½“ç»„ä»¶å’Œæ··å…¥å¯¹è±¡å«æœ‰<strong>åŒåé€‰é¡¹</strong>æ—¶ï¼Œè¿™äº›é€‰é¡¹å°†ä»¥æ°å½“çš„æ–¹å¼è¿›è¡Œâ€œåˆå¹¶â€</p><p>æˆ‘ä»¬çœ‹ä¸€ä¸‹ä¸€ä¸ªç»„ä»¶é‡Œé¢æœ‰å“ªäº›ä¸œè¥¿æ˜¯å¯ä»¥åˆå¹¶çš„</p><p><code>dataã€methodsã€computedã€directivesã€components</code> ç”Ÿå‘½å‘¨æœŸé’©å­</p><p>æ²¡é”™è¿™äº›éƒ½å¯ä»¥æ··å…¥</p><pre><code class="js">import demoMixin form &#39;@/mixins/demo&#39;export default {        mixins: [demoMixin]}</code></pre><p>è¿™æ ·çœ‹æ¥ï¼Œå¾ˆå¤šé¡µé¢é‡å¤çš„ä»£ç æˆ‘ä»¬éƒ½å¯ä»¥ç›´æ¥æŠ½å–å‡ºæ¥<br>æˆ–è€…æ˜¯å°è£…æˆä¸€ä¸ªå…¬å…±çš„ <code>mixin</code><br>æ¯”å¦‚æˆ‘ä»¬åš H5 é¡µé¢ï¼Œé‡Œé¢å¾ˆå¤šçŸ­ä¿¡éªŒè¯çš„é€»è¾‘å›ºæœ‰é€»è¾‘ï¼Œä½†æ˜¯éœ€è¦è®¿é—®åˆ° thisã€‚ä½¿ç”¨å·¥å…·å‡½æ•°è‚¯å®šä¸è¡Œã€‚<br>è¿™æ—¶å€™å°±å¯ä»¥è€ƒè™‘ä½¿ç”¨ <code>mixin</code>ï¼Œå°è£…æˆä¸€ä¸ªå…·æœ‰å“åº”å¼çš„æ¨¡å—ã€‚ä¾›éœ€è¦çš„åœ°æ–¹è¿›è¡Œå¼•å…¥ã€‚</p><h2 id="mixin-è§„åˆ™"><a href="#mixin-è§„åˆ™" class="headerlink" title="mixin è§„åˆ™"></a>mixin è§„åˆ™</h2><p>é¦–å…ˆæ˜¯<strong>ä¼˜å…ˆçº§</strong>çš„é—®é¢˜ï¼Œå½“é‡åé€‰é¡¹æ—¶é€‰æ‹©å“ªä¸€ä¸ªä¸ºæœ€åçš„ç»“æœ</p><p>é»˜è®¤è§„åˆ™æˆ‘è¿™é‡Œåˆ†ä¸º 3 ç±»</p><ul><li><ol><li>data æ··å…¥: ä»¥å½“å‰ç»„ä»¶å€¼ä¸ºæœ€åçš„å€¼</li></ol></li><li><ol start="2"><li>ç”Ÿå‘½å‘¨æœŸé’©å­: ä¿ç•™æ‰€æœ‰é’©å­ï¼Œå…ˆæ‰§è¡Œ mixins çš„ï¼Œåæ‰§è¡Œå½“å‰ç»„ä»¶çš„</li></ol></li><li><ol start="3"><li>methodsã€computedã€directivesã€components è¿™ç§å¥å€¼å¯¹å½¢å¼ï¼ŒåŒåkeyï¼Œç»Ÿç»Ÿä»¥å½“å‰ç»„ä»¶ä¸ºå‡†</li></ol></li></ul><p>å½“ç„¶å¦‚æœæƒ³æ”¹å˜è§„åˆ™ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é…ç½®æ¥æ”¹å˜è§„åˆ™</p><pre><code class="js">Vue.config.optionMergeStrategies.myOption = function (toVal, fromVal) {    // è¿”å›åˆå¹¶åçš„å€¼}</code></pre><h2 id="mixin-çš„å¥½å¤„"><a href="#mixin-çš„å¥½å¤„" class="headerlink" title="mixin çš„å¥½å¤„"></a>mixin çš„å¥½å¤„</h2><p>æˆ‘ä»¬çŸ¥é“ <code>Vue</code> æœ€èƒ½å¤ç”¨ä»£ç çš„å°±æ˜¯ç»„ä»¶ã€‚ä¸€èˆ¬æƒ…å†µï¼Œæˆ‘ä»¬é€šè¿‡ <code>props</code> æ¥æ§åˆ¶ç»„ä»¶çš„ï¼Œå°†åŸæœ‰ç»„ä»¶å°è£…æˆ <code>HOC</code> é«˜é˜¶ç»„ä»¶ã€‚è€Œæ§åˆ¶ <code>props</code> çš„ç”Ÿæˆä¸ä¸€æ ·çš„åŠŸèƒ½çš„ä»£ç è¿˜æ˜¯å†™åœ¨åŸºç¡€ç»„ä»¶é‡Œã€‚</p><pre><code class="html">&lt;template lang=&quot;pug&quot;&gt;  div.dib    van-button.btn(          @click=&quot;$emit(&#39;click&#39;)&quot;          :class=&quot;getClass&quot; v-bind=&quot;$attrs&quot;          :style=&quot;{&#39;width&#39;: size === &#39;large&#39; ? &#39;345px&#39;: &#39;&#39;,     &#39;backgroundColor&#39;: getBgColor,     borderColor: getBgColor, color: getBgColor}&quot;)      slot&lt;/template&gt;&lt;script&gt;import { Button } from &#39;vant&#39;import Vue from &#39;vue&#39;import { getColor } from &#39;@/utils&#39;Vue.use(Button)export default {      name: &#39;app-button&#39;,      props: {            type: {                  type: String,                  default: &#39;primary&#39;            },            theme: {                  type: String,                  default: &#39;blue&#39;            },            size: {                  type: String,                  default: &#39;&#39;           }      }}</code></pre><p>ä»¥è¿™ä¸ªç»„ä»¶ä¸ºä¾‹ï¼Œæˆ‘ä»¬è¿˜æ˜¯<strong>é€šè¿‡å…¬å…±ç»„ä»¶å†…éƒ¨çš„é€»è¾‘ï¼Œæ¥æ”¹å˜ç»„ä»¶çš„è¡Œä¸º</strong>ã€‚</p><p>ä½†æ˜¯ï¼Œä½¿ç”¨ mixin æä¾›äº†å¦ä¸€ä¸ªæ€è·¯ã€‚æˆ‘ä»¬å†™å¥½å…¬å…±çš„ mixinï¼Œæ¯ä¸€ä¸ªéœ€è¦ä½¿ç”¨ mixin çš„åœ°æ–¹ã€‚æˆ‘ä»¬è¿›è¡Œæ‰©å±•åˆå¹¶ï¼Œä¸åŒä¸å…¬å…± mixin çš„é€‰é¡¹æˆ‘ä»¬åœ¨å½“å‰ç»„ä»¶ä¸­è¿›è¡Œè‡ªå®šä¹‰ï¼Œä¹Ÿå°±æ˜¯æ‰©å±•ã€‚<strong>æˆ‘ä»¬æ–°çš„é€»è¾‘æ˜¯å†™åœ¨å½“å‰ç»„ä»¶é‡Œé¢çš„ï¼Œè€Œéå…¬å…± mixins é‡Œ</strong>ã€‚</p><p>ç”»ä¸ªå›¾ç†è§£ä¸€ä¸‹ï¼š</p><p><img src="https://user-gold-cdn.xitu.io/2020/3/10/170c3937144fd11f?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="ç”»ä¸ªå›¾"></p><h2 id="æœ€åæ€»ç»“ä¸€ä¸‹-mixin-çš„ä¼˜ç‚¹åŠç¼ºç‚¹"><a href="#æœ€åæ€»ç»“ä¸€ä¸‹-mixin-çš„ä¼˜ç‚¹åŠç¼ºç‚¹" class="headerlink" title="æœ€åæ€»ç»“ä¸€ä¸‹ mixin çš„ä¼˜ç‚¹åŠç¼ºç‚¹"></a>æœ€åæ€»ç»“ä¸€ä¸‹ mixin çš„ä¼˜ç‚¹åŠç¼ºç‚¹</h2><p><strong>ä¼˜ç‚¹</strong></p><ul><li>å¤ç”¨ä»£ç ï¼Œå…¬å…±é€»è¾‘æŠ½ç¦»</li><li>å¯ä»¥è®¿é—® this, å¯ä»¥æ“ä½œå“åº”å¼ä»£ç </li><li>mixins ç›¸å¯¹ä¸ç»„ä»¶æ¥è¯´ï¼Œæ›´åƒæ‰©å±•</li></ul><p><strong>ç¼ºç‚¹</strong></p><ul><li>åƒä¸‡ä¸èƒ½æ»¥ç”¨å…¨å±€ mixins å› ä¸ºä¼šå½±å“æ‰€æœ‰å¤šå­ç»„ä»¶</li><li>ç”±äº mixins çš„åˆå¹¶ç­–ç•¥å›ºæœ‰å½±å“ï¼Œå¯èƒ½åœ¨ä¸€äº›æç«¯æƒ…å†µè¾¾ä¸åˆ°ä½ æƒ³è¦çš„æ•ˆæœã€‚</li></ul><p>æ¯”å¦‚ï¼šæˆ‘å·²ç»å­˜åœ¨ä¸€ä¸ª <code>mixins</code>ï¼Œæˆ‘çš„é¡µé¢é‡Œé¢ä¹Ÿæœ‰ä¸€äº›æ–¹æ³•ï¼Œæˆ‘è¦å¼•å…¥<code>mixins</code> å°±è¦åšå¾ˆå¤šæ”¹åŠ¨ï¼Œæ¥ä¿è¯æˆ‘çš„ä»£ç æŒ‰æˆ‘çš„éœ€è¦è¿è¡Œã€‚</p><p>é¡µé¢ data æœ‰ä¸€ä¸ª <code>message</code> å€¼ï¼Œ<code>mixins</code> é‡Œé¢åŒæ ·æœ‰ä¸€ä¸ªã€‚</p><p>æŒ‰ç…§é»˜è®¤è§„åˆ™ï¼Œ<code>mixins</code> é‡Œé¢çš„ <code>message</code> ä¼šè¢«é¡µé¢é‡Œé¢ <code>message</code> è¦†ç›–ã€‚ä½†æ˜¯è¿™ä¸¤ä¸ª <code>message</code> å¯èƒ½ä»£è¡¨çš„æ„ä¹‰ä¸ä¸€æ ·ï¼Œéƒ½éœ€è¦å­˜åœ¨ã€‚é‚£ä¹ˆæˆ‘å°±éœ€è¦æ”¹æ‰å…¶ä¸­çš„ä¸€ä¸ªï¼Œå¦‚æœä¸šåŠ¡å¤ªæ·±çš„è¯ï¼Œå¯èƒ½è¿™ä¸ª <code>message</code> æ²¡é‚£ä¹ˆå¥½æ”¹ã€‚</p><p>æœ‰æ—¶å€™éœ€è¦è€ƒè™‘è¿™äº›é—®é¢˜ï¼Œå¯¼è‡´ä½¿ç”¨ <code>mixins</code> éƒ½ä¼šå¢åŠ ä¸€äº›å¼€å‘è´Ÿæ‹…ã€‚å½“ç„¶ä¹Ÿæ˜¯è¿™äº›é—®é¢˜å¯ä»¥ä½¿ç”¨è§„èŒƒæ¥è§„é¿ã€‚</p><h1 id="ç†è§£å¹¶ä½¿ç”¨-SSR"><a href="#ç†è§£å¹¶ä½¿ç”¨-SSR" class="headerlink" title="ç†è§£å¹¶ä½¿ç”¨ SSR"></a>ç†è§£å¹¶ä½¿ç”¨ SSR</h1><blockquote><p>SSR æ˜¯ Serve Side Render çš„ç¼©å†™ï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„æœåŠ¡ç«¯æ¸²æŸ“</p></blockquote><h2 id="ç®€å•å½’çº³-SSR-å­˜åœ¨çš„åŸå› "><a href="#ç®€å•å½’çº³-SSR-å­˜åœ¨çš„åŸå› " class="headerlink" title="ç®€å•å½’çº³ SSR å­˜åœ¨çš„åŸå› "></a>ç®€å•å½’çº³ SSR å­˜åœ¨çš„åŸå› </h2><ol><li>SPA æ¡†æ¶ SEO çš„è§£å†³æ–¹æ¡ˆ</li><li>æå‡é¦–å±åŠ è½½é€Ÿåº¦</li></ol><p>ä½†æ˜¯å®ƒè¿˜å­˜åœ¨ä»¥ä¸‹é—®é¢˜</p><ul><li>æœ‰äº›ç”Ÿå‘½å‘¨æœŸé’©å­æ— æ³•ä½¿ç”¨ï¼ˆä¹‹å‰æåˆ°çš„ activated å’Œ deactivated ç­‰ç­‰ï¼‰</li><li>é¢å¤–å¾ˆå¤šçš„é…ç½®</li><li>æœåŠ¡å™¨èµ„æºçš„éœ€æ±‚</li></ul><p>æ€»å¾—æ¥è¯´ï¼ŒSSR æ˜¯å¿…è¦çš„ä½†ä¸æ˜¯å……åˆ†çš„ï¼ŒSPA çš„ SEO ç°åœ¨æ²¡æœ‰æ›´å¥½çš„æ–¹æ¡ˆï¼Œæœ‰è¿™æ–¹é¢å¼ºçƒˆéœ€æ±‚çš„ç½‘ç«™æ¥è¯´ï¼ŒSSR ç¡®å®å¾ˆæœ‰å¿…è¦</p><h2 id="SSR-åŸç†"><a href="#SSR-åŸç†" class="headerlink" title="SSR åŸç†"></a>SSR åŸç†</h2><p><img src="https://user-gold-cdn.xitu.io/2020/3/10/170c3ed6607a605c?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="SSR åŸç†"></p><p>é€šè¿‡ä¸Šé¢å›¾æˆ‘ä»¬å¯ä»¥å¾—å¤§è‡´å‡ ç‚¹å†…å®¹</p><ul><li>é€šç”¨ä¸šåŠ¡ä»£ç åªå†™ä¸€å¥—ã€‚</li><li>é€šè¿‡æš´éœ²å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¸¤ä¸ªå…¥å£ï¼Œå¯¹ Vue å®ä¾‹è¿›è¡Œè®¿é—®ã€‚</li><li>é€šè¿‡æ„å»ºå·¥å…·æ‰“æˆä¸¤ä¸ªåŒ…ï¼ŒæœåŠ¡ç«¯åŒ…é€šè¿‡ node æœåŠ¡å™¨æ¸²æŸ“ç»™æµè§ˆå™¨è®¿é—®ã€‚å®¢æˆ·ç«¯å’ŒåŸæ¥ä¸€æ ·é€šè¿‡è®¿é—®èµ„æºè·å–ã€‚</li></ul><h2 id="å®ç°SSR-æœ‰-3-ç§æ–¹å¼"><a href="#å®ç°SSR-æœ‰-3-ç§æ–¹å¼" class="headerlink" title="å®ç°SSR æœ‰ 3 ç§æ–¹å¼"></a>å®ç°SSR æœ‰ 3 ç§æ–¹å¼</h2><ol><li>æ ¹æ®å®˜ç½‘æ•™ç¨‹æ­å»ºï¼Œä¸€æ­¥ä¸€æ­¥æ­å»ºSSRï¼Œ è¿™é‡Œæœ‰å…·ä½“æ•™ç¨‹ï¼Œç•¥å¾®æœ‰ç‚¹éº»çƒ¦ï¼Œä½†æ˜¯èƒ½å¤Ÿä½“éªŒæ­å»ºçš„è¿‡ç¨‹ï¼Œæ›´åŠ æ·±å…¥ç»†èŠ‚ã€‚ä½¿ç”¨äºç»ƒä¹ ï¼Œå’Œç°æœ‰é¡¹ç›®çš„æ”¹é€ </li><li>ä½¿ç”¨demoæ”¹é€ ï¼Œå¼€æº demoï¼Œæ–¹ä¾¿çœæ—¶ï¼Œé€‚ç”¨ä»£ç å‚è€ƒå­¦ä¹  <a href="https://github.com/vuejs/vue-hackernews-2.0" target="_blank" rel="noopener">vue-ssr-demo</a></li><li>ä½¿ç”¨nuxtï¼Œé¢„è®¾äº† SSR å’Œé¢„æ¸²æŸ“ï¼Œé€‚ç”¨äºéœ€è¦ SSR çš„æ–°é¡¹ç›®ã€‚</li></ol><p><strong>åˆ†åˆ«å°è¯•ç”¨è¿™ 3 ç§æ–¹å¼æ­å»º SSR</strong></p><h2 id="äº”æ­¥ç®€å•ç†è§£SSRï¼ˆæ ¹æ®å®˜ç½‘æ•™ç¨‹ï¼Œå…·ä½“å®Œæ“ä½œæŸ¥çœ‹æ•´æ•™ç¨‹å’Œdemoï¼‰"><a href="#äº”æ­¥ç®€å•ç†è§£SSRï¼ˆæ ¹æ®å®˜ç½‘æ•™ç¨‹ï¼Œå…·ä½“å®Œæ“ä½œæŸ¥çœ‹æ•´æ•™ç¨‹å’Œdemoï¼‰" class="headerlink" title="äº”æ­¥ç®€å•ç†è§£SSRï¼ˆæ ¹æ®å®˜ç½‘æ•™ç¨‹ï¼Œå…·ä½“å®Œæ“ä½œæŸ¥çœ‹æ•´æ•™ç¨‹å’Œdemoï¼‰"></a>äº”æ­¥ç®€å•ç†è§£SSRï¼ˆæ ¹æ®å®˜ç½‘æ•™ç¨‹ï¼Œå…·ä½“å®Œæ“ä½œæŸ¥çœ‹æ•´æ•™ç¨‹å’Œdemoï¼‰</h2><p><em>è¿™é‡Œä¸»è¦åŠ æ·±ç†è§£ï¼Œvue-cli3+ å®ç°åŸºæœ¬ SSR</em></p><h3 id="ç¬¬ä¸€æ­¥ï¼šå®‰è£…ä¾èµ–"><a href="#ç¬¬ä¸€æ­¥ï¼šå®‰è£…ä¾èµ–" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šå®‰è£…ä¾èµ–"></a>ç¬¬ä¸€æ­¥ï¼šå®‰è£…ä¾èµ–</h3><ul><li>vue-server-renderer ï¼ˆæ ¸å¿ƒä¾èµ–ï¼Œç‰ˆæœ¬å¿…é¡»ä¸ vue ç‰ˆæœ¬ä¸€è‡´ï¼‰</li><li>webpack-mergeï¼ˆç”¨äºwebpacké…ç½®åˆå¹¶ï¼‰</li><li>webpack-node-externals ï¼ˆç”¨äºwebpacké…ç½®æ›´æ”¹ï¼‰</li><li>express (ç”¨äºæœåŠ¡ç«¯æ¸²æŸ“)</li></ul><h3 id="ç¬¬äºŒæ­¥ï¼šå»ºç«‹å…¥å£ï¼Œå¹¶æ”¹é€ æ”¹é€ "><a href="#ç¬¬äºŒæ­¥ï¼šå»ºç«‹å…¥å£ï¼Œå¹¶æ”¹é€ æ”¹é€ " class="headerlink" title="ç¬¬äºŒæ­¥ï¼šå»ºç«‹å…¥å£ï¼Œå¹¶æ”¹é€ æ”¹é€ "></a>ç¬¬äºŒæ­¥ï¼šå»ºç«‹å…¥å£ï¼Œå¹¶æ”¹é€ æ”¹é€ </h3><p>åˆ†ä¸º 2 ä¸ªå…¥å£ï¼Œå°† <code>main.js</code> å®šä¸ºé€šç”¨å…¥å£ï¼Œ å¹¶é¢å¤–å¢åŠ <code>entry-client.js</code> å’Œ <code>entry-serve.js</code> ä¸¤ä¸ª</p><p>1.æ”¹é€ ä¸»è¦å…¥å£ï¼Œåˆ›å»ºå·¥å‚å‡½æ•°</p><pre><code class="js">// main.jsimport Vue from &#39;vue&#39;import App from &#39;./App.vue&#39;import { createRouter } from &quot;./router&quot;// appã€routerexport function createApp () {      const router = createRouter()      const app = new Vue({            router,            render: h =&gt; h(App)      })      return {         app, router     }}</code></pre><p>2.å®¢æˆ·ç«¯å…¥å£</p><pre><code class="js">// client.jsimport { createApp } from &#39;./main&#39;// å®¢æˆ·ç«¯ç‰¹å®šå¼•å¯¼é€»è¾‘const { app } = createApp()app.$mount(&#39;#app&#39;)</code></pre><p>3.æœåŠ¡ç«¯å…¥å£</p><pre><code class="js">// serve.jsimport { createApp } from &quot;./main&quot;;export default context =&gt; {      // å› ä¸ºæœ‰å¯èƒ½ä¼šæ˜¯å¼‚æ­¥è·¯ç”±é’©å­å‡½æ•°æˆ–ç»„ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†è¿”å›ä¸€ä¸ª Promise      return new Promise((resolve, reject) =&gt; {            const { app, router } = createApp();            // è®¾ç½®æœåŠ¡å™¨ç«¯ router çš„ä½ç½®            router.push(context.url);            // ç­‰åˆ° router å°†å¯èƒ½çš„å¼‚æ­¥ç»„ä»¶å’Œé’©å­å‡½æ•°è§£æå®Œ            router.onReady(() =&gt; {                  const matchedComponents = router.getMatchedComponents();                  // åŒ¹é…ä¸åˆ°çš„è·¯ç”±ï¼Œæ‰§è¡Œ reject å‡½æ•°                  if (!matchedComponents.length) {                        return reject({                              code: 404                        });                  }                  // Promise åº”è¯¥ resolve åº”ç”¨ç¨‹åºå®ä¾‹ï¼Œä»¥ä¾¿å®ƒå¯ä»¥æ¸²æŸ“                  resolve(app);           }, reject);      });};</code></pre><h3 id="ç¬¬ä¸‰æ­¥ï¼šæ”¹é€ -vue-config-é…ç½®"><a href="#ç¬¬ä¸‰æ­¥ï¼šæ”¹é€ -vue-config-é…ç½®" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šæ”¹é€  vue.config é…ç½®"></a>ç¬¬ä¸‰æ­¥ï¼šæ”¹é€  vue.config é…ç½®</h3><pre><code class="js">const VueSSRServerPlugin = require(&quot;vue-server-renderer/server-plugin&quot;);const VueSSRClientPlugin = require(&quot;vue-server-renderer/client-plugin&quot;);const nodeExternals = require(&quot;webpack-node-externals&quot;);const merge = require(&quot;webpack-merge&quot;);const TARGET_NODE = process.env.WEBPACK_TARGET === &quot;node&quot;;const target = TARGET_NODE ? &quot;server&quot; : &quot;client&quot;;module.exports = {      configureWebpack: () =&gt; ({            entry: `./src/entry-${target}.js`,            devtool: &#39;source-map&#39;,            target: TARGET_NODE ? &quot;node&quot; : &quot;web&quot;,            node: TARGET_NODE ? undefined : false,            output: {                  libraryTarget: TARGET_NODE ? &quot;commonjs2&quot; : undefined            },            externals: TARGET_NODE              ? nodeExternals({                      whitelist: [/\.css$/]                }): undefined,            optimization: {                      splitChunks: undefined            },            plugins: [            TARGET_NODE ? new VueSSRServerPlugin() : new VueSSRClientPlugin()]          }),         //...};</code></pre><h3 id="ç¬¬å››æ­¥ï¼šå¯¹è·¯ç”±-router-æ”¹é€ "><a href="#ç¬¬å››æ­¥ï¼šå¯¹è·¯ç”±-router-æ”¹é€ " class="headerlink" title="ç¬¬å››æ­¥ï¼šå¯¹è·¯ç”± router æ”¹é€ "></a>ç¬¬å››æ­¥ï¼šå¯¹è·¯ç”± router æ”¹é€ </h3><pre><code class="js">export function createRouter(){      return new Router({            mode: &#39;history&#39;,            routes: [                //...            ]      })}</code></pre><h3 id="ç¬¬äº”æ­¥ï¼šä½¿ç”¨-express-è¿è¡ŒæœåŠ¡ç«¯ä»£ç "><a href="#ç¬¬äº”æ­¥ï¼šä½¿ç”¨-express-è¿è¡ŒæœåŠ¡ç«¯ä»£ç " class="headerlink" title="ç¬¬äº”æ­¥ï¼šä½¿ç”¨ express è¿è¡ŒæœåŠ¡ç«¯ä»£ç "></a>ç¬¬äº”æ­¥ï¼šä½¿ç”¨ express è¿è¡ŒæœåŠ¡ç«¯ä»£ç </h3><p>è¿™ä¸€æ­¥ä¸»è¦æ˜¯è®© node æœåŠ¡ç«¯å“åº” HTML ç»™æµè§ˆå™¨è®¿é—®</p><pre><code class="js">const Vue = require(&#39;vue&#39;)const server = require(&#39;express&#39;)()const renderer = require(&#39;vue-server-renderer&#39;).createRenderer()server.get(&#39;*&#39;, (req, res) =&gt; {      const app = new Vue({            data: {                  url: req.url            },            template: `&lt;div&gt;è®¿é—®çš„ URL æ˜¯ï¼š {{ url }}&lt;/div&gt;`      })      renderer.renderToString(app, (err, html) =&gt; {            if (err) {                  res.status(500).end(&#39;Internal Server Error&#39;)                  return            }            res.end(`                  &lt;!DOCTYPE html&gt;                  &lt;html lang=&quot;en&quot;&gt;                   &lt;head&gt;&lt;title&gt;Hello&lt;/title&gt;&lt;/head&gt;                    &lt;body&gt;${html}&lt;/body&gt;                  &lt;/html&gt;`)      })})server.listen(8080)</code></pre><h2 id="nuxt-ä½“éªŒ"><a href="#nuxt-ä½“éªŒ" class="headerlink" title="nuxt ä½“éªŒ"></a>nuxt ä½“éªŒ</h2><p>ç®€å•å‡ æ­¥ä½“éªŒä¸‹ nuxt</p><p>å®‰è£…å</p><p><img src="https://user-gold-cdn.xitu.io/2020/3/11/170c7cbe963be44c?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="nuxt"></p><p>ç®€å•çœ‹äº†ä¸€ä¸‹æºç ï¼Œnuxt æŠŠæˆ‘ä»¬ä¹‹å‰æåˆ°çš„é‡è¦çš„æ”¹é€ ï¼Œå…¨éƒ¨å°è£…åˆ° .nuxt æ–‡ä»¶å¤¹é‡Œé¢äº†\</p><p><img src="https://user-gold-cdn.xitu.io/2020/3/11/170c7cc50e09b590?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="å¯åŠ¨"></p><p>è·‘ä¸€ä¸‹ dev å‘ç°æœ‰ä¸¤ä¸ªç«¯ï¼Œä¸€ä¸ª clinet ç«¯ï¼Œä¸€ä¸ª server ç«¯</p><p><img src="https://user-gold-cdn.xitu.io/2020/3/11/170c7cc93fe6230b?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="demo"></p><p>æœ€åæŸ¥çœ‹ä¸€ä¸‹æ•ˆæœï¼Œæ•´ä¸ªè¿‡ç¨‹æŒºä¸æ»‘çš„ã€‚ç›®å½•ç»“æ„ä¹Ÿæ¯”è¾ƒç¬¦åˆæˆ‘çš„é£æ ¼ï¼Œæ–°é¡¹ç›®éœ€è¦ SSR ä¼šè€ƒè™‘ä½¿ç”¨ nuxt</p><h2 id="ä½¿ç”¨-webpack-æ’ä»¶é¢„æ¸²æŸ“"><a href="#ä½¿ç”¨-webpack-æ’ä»¶é¢„æ¸²æŸ“" class="headerlink" title="ä½¿ç”¨ webpack æ’ä»¶é¢„æ¸²æŸ“"></a>ä½¿ç”¨ webpack æ’ä»¶é¢„æ¸²æŸ“</h2><p>è§£å†³ SEO é—®é¢˜æ˜¯ä¸æ˜¯åªæœ‰ SSR å‘¢ï¼Ÿå…¶å®é¢„æ¸²æŸ“ä¹Ÿèƒ½åšåˆ°ï¼Œé¦–å…ˆ</p><h3 id="åŒºåˆ«ä½¿ç”¨-SSR-å’Œé¢„æ¸²æŸ“"><a href="#åŒºåˆ«ä½¿ç”¨-SSR-å’Œé¢„æ¸²æŸ“" class="headerlink" title="åŒºåˆ«ä½¿ç”¨ SSR å’Œé¢„æ¸²æŸ“"></a>åŒºåˆ«ä½¿ç”¨ SSR å’Œé¢„æ¸²æŸ“</h3><ul><li>æœåŠ¡ç«¯æ¸²æŸ“è§£å†³çš„é—®é¢˜ï¼Œä¸ä»…åªæ˜¯æŠŠ HTML é¡µé¢ç»™æµè§ˆå™¨ï¼Œæ›´é‡è¦çš„æ˜¯å¤„ç†åŠ¨æ€é€»è¾‘å’Œ JS ä»£ç åï¼Œå°†æ¸²æŸ“åå®Œæ•´çš„ HTML ç»™æµè§ˆå™¨ï¼Œæ¸²æŸ“çš„è¿‡ç¨‹åœ¨æœåŠ¡ç«¯ã€‚</li><li>é¢„æ¸²æŸ“ï¼Œæ˜¯åˆ©ç”¨æ„å»ºå·¥å…·åœ¨ webpack ä¸­ç”Ÿæˆé™æ€çš„ HTMLï¼Œç›´æ¥ç»™æµè§ˆå™¨ï¼Œæ¸²æŸ“çš„è¿‡ç¨‹åœ¨æœ¬åœ°ã€‚</li><li>é¢„æ¸²æŸ“æ’ä»¶é‡Œé¢æåˆ°ä¸¤ç§ä¸èƒ½ä½¿ç”¨ï¼šå¤§é‡è·¯ç”±ã€åŠ¨æ€å†…å®¹</li></ul><h3 id="ä½¿ç”¨-prerender-spa-plugin-æ’ä»¶è¿›è¡Œç®€å•é¢„æ¸²æŸ“"><a href="#ä½¿ç”¨-prerender-spa-plugin-æ’ä»¶è¿›è¡Œç®€å•é¢„æ¸²æŸ“" class="headerlink" title="ä½¿ç”¨ prerender-spa-plugin æ’ä»¶è¿›è¡Œç®€å•é¢„æ¸²æŸ“"></a>ä½¿ç”¨ prerender-spa-plugin æ’ä»¶è¿›è¡Œç®€å•é¢„æ¸²æŸ“</h3><ol><li>å®‰è£… prerender-spa-plugin</li></ol><pre><code class="js">yarn prerender-spa-plugin</code></pre><ol start="2"><li>ä¿®æ”¹ webpack é…ç½®ï¼Œæ¯”è¾ƒç®€å•å°±èƒ½å®Œæˆé…ç½®</li></ol><pre><code class="js">const path = require(&#39;path&#39;)const PrerenderSPAPlugin = require(&#39;prerender-spa-plugin&#39;)const Renderer = PrerenderSPAPlugin.PuppeteerRenderermodule.exports = {      plugins: [            //...            new PrerenderSPAPlugin({                  staticDir: path.join(__dirname, &#39;dist&#39;),                  outputDir: path.join(__dirname, &#39;prerendered&#39;),                  indexPath: path.join(__dirname, &#39;dist&#39;, &#39;index.html&#39;),                  routes: [ &#39;/&#39;, &#39;/about&#39;, &#39;/some/deep/nested/route&#39; ],                  postProcess (renderedRoute) {                        renderedRoute.route = renderedRoute.originalPath                        renderedRoute.html = renderedRoute.html.split(/&gt;[\s]+&lt;/gmi).join(&#39;&gt;&lt;&#39;)                        if (renderedRoute.route.endsWith(&#39;.html&#39;)) {                              renderedRoute.outputPath = path.join(__dirname, &#39;dist&#39;, renderedRoute.route)                        }                        return renderedRoute                  },                  minify: {                        collapseBooleanAttributes: true,                        collapseWhitespace: true,                        decodeEntities: true,                        keepClosingSlash: true,                        sortAttributes: true                  },                  renderer: new Renderer({                        inject: {                              foo: &#39;bar&#39;                        },                    maxConcurrentRoutes: 4          ]}</code></pre><h1 id="Vue-å¼€å‘æŠ€å·§æ€»ç»“"><a href="#Vue-å¼€å‘æŠ€å·§æ€»ç»“" class="headerlink" title="Vue å¼€å‘æŠ€å·§æ€»ç»“"></a>Vue å¼€å‘æŠ€å·§æ€»ç»“</h1><blockquote><p>ä» 5 ä¸ªå¤§çš„è§’åº¦æ¥æå‡å¼€å‘æ•ˆç‡å’Œä½“éªŒï¼Œä»£ç ç¾è§‚å’Œä»£ç è´¨é‡ï¼Œç”¨æˆ·ä½“éªŒ</p></blockquote><p><img src="https://user-gold-cdn.xitu.io/2020/3/11/170c9c3a14c4cf39?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="æŠ€å·§"></p><h2 id="5-å¤§è§’åº¦æå‡"><a href="#5-å¤§è§’åº¦æå‡" class="headerlink" title="5 å¤§è§’åº¦æå‡"></a>5 å¤§è§’åº¦æå‡</h2><h3 id="ä»£ç å¤ç”¨"><a href="#ä»£ç å¤ç”¨" class="headerlink" title="ä»£ç å¤ç”¨"></a>ä»£ç å¤ç”¨</h3><ul><li>ç»„ä»¶åŒ–å¼€å‘ï¼Œä»£ç æ•ˆç‡ * n</li><li>ä½¿ç”¨ mixins æŠ½ç¦»å…¬å…±é€»è¾‘ï¼Œä»£ç æ•ˆç‡ * n</li><li>å·¥å…·åŒ–å‡½æ•°ã€ä½¿ç”¨ filter ç¼–ç æ•ˆç‡+</li><li>sass å¤ç”¨ cssï¼Œç¼–ç ä½“éªŒã€æ•ˆç‡+</li></ul><h3 id="ä»£ç è´¨é‡"><a href="#ä»£ç è´¨é‡" class="headerlink" title="ä»£ç è´¨é‡"></a>ä»£ç è´¨é‡</h3><ul><li>ä»£ç é™æ€æ£€æŸ¥ eslint + prettierï¼Œä»£ç é£æ ¼+ã€åŸºç¡€è¯­æ³•é”™è¯¯-</li><li>æ•°æ®ç±»å‹æ§åˆ¶ typescriptï¼Œä»£ç è´¨é‡+</li><li>å‰ç«¯æµ‹è¯• testï¼Œä»£ç è´¨é‡+</li></ul><h3 id="ä»£ç ä¼˜åŒ–"><a href="#ä»£ç ä¼˜åŒ–" class="headerlink" title="ä»£ç ä¼˜åŒ–"></a>ä»£ç ä¼˜åŒ–</h3><ul><li>åˆç†ä½¿ç”¨ vueï¼Œæ¸²æŸ“æ€§èƒ½+</li><li>åˆç†ä½¿ç”¨ vuex å‡å°‘è¯·æ±‚ï¼Œä½¿ç”¨å›¾ç‰‡æ‡’åŠ è½½ï¼ŒåŠ è½½æ€§èƒ½+</li><li>åˆç†ä½¿ç”¨å‡½æ•°ç»„ä»¶ï¼Œç»„ä»¶æ€§èƒ½+</li><li>åˆç†éª¨æ¶å±ã€è·¯ç”±è¿‡æ¸¡ï¼Œç”¨æˆ·ä½“éªŒ+</li></ul><h3 id="å¼€å‘æ•ˆç‡"><a href="#å¼€å‘æ•ˆç‡" class="headerlink" title="å¼€å‘æ•ˆç‡"></a>å¼€å‘æ•ˆç‡</h3><ul><li>ä½¿ç”¨æ›´æ–°çš„è„šæ‰‹æ¶ vue-cli4ï¼Œwebpack é…ç½®æ•ˆç‡+</li><li>ä½¿ç”¨é…ç½®å¥½çš„è„šæ‰‹æ¶æ¨¡ç‰ˆ vue-h5-templateï¼Œvue é…ç½®æ•ˆç‡+</li><li>ä½¿ç”¨æ›´ç®€æ´çš„æ¨¡ç‰ˆ pugï¼ŒHTML ç¼–å†™æ•ˆç‡+</li><li>ä½¿ç”¨æ›´å¼ºå¤§çš„ css ç¼–å†™ sassï¼ŒCSS ç¼–å†™æ•ˆç‡+</li><li>ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ® mockï¼Œè„±ç¦»åç«¯å¼€å‘æ•ˆç‡+</li><li>å¼€æºç»„ä»¶å°è£… HOCï¼Œç»„ä»¶å¼€å‘ï¼Œé¡µé¢ç¼–å†™æ•ˆç‡+</li></ul><h3 id="ç“¶é¢ˆè§£å†³"><a href="#ç“¶é¢ˆè§£å†³" class="headerlink" title="ç“¶é¢ˆè§£å†³"></a>ç“¶é¢ˆè§£å†³</h3><ul><li>è·¯ç”±historyä½¿ç”¨ï¼ŒæœåŠ¡ç«¯é…ç½®ç›¸å…³ï¼ŒURLç¾è§‚+</li><li>è§£å†³SEOä¸é¦–å±åŠ è½½ã€æœåŠ¡ç«¯æ¸²æŸ“ SSR åŸºæœ¬è§£å†³</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://juejin.im/post/5e1eb1dff265da3e354ea2d0&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;åŸæ–‡åœ°å€&lt;/a&gt;   &lt;/p&gt;
&lt;h1 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=
      
    
    </summary>
    
      <category term="Vue" scheme="https://zhanghao-web.github.io/categories/Vue/"/>
    
    
      <category term="Vue" scheme="https://zhanghao-web.github.io/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>åƒé€Vueé¡¹ç›®å¼€å‘å®è·µ(ä¸­)</title>
    <link href="https://zhanghao-web.github.io/2020/05/09/Vue/%E5%90%83%E9%80%8FVue%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5-%E4%B8%AD/"/>
    <id>https://zhanghao-web.github.io/2020/05/09/Vue/åƒé€Vueé¡¹ç›®å¼€å‘å®è·µ-ä¸­/</id>
    <published>2020-05-09T02:03:02.000Z</published>
    <updated>2020-05-09T03:12:13.755Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://juejin.im/post/5e15932ee51d4540f02fae27" target="_blank" rel="noopener">åŸæ–‡åœ°å€</a></p><h1 id="æ¦‚è§ˆ"><a href="#æ¦‚è§ˆ" class="headerlink" title="æ¦‚è§ˆ"></a>æ¦‚è§ˆ</h1><p><img src="https://user-gold-cdn.xitu.io/2019/12/30/16f5676f7940d72a?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="æ¦‚è§ˆ"></p><h1 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h1><blockquote><p>æœ¬èŠ‚å†…å®¹ä¸»è¦å›´ç»•ä¸‹åˆ—é—®é¢˜å±•å¼€ï¼š</p></blockquote><ul><li>å¦‚ä½•ç¼–å†™åŸç”Ÿç»„ä»¶ï¼Œä»¥åŠç»„ä»¶ç¼–å†™çš„æ€è€ƒä¸åŸåˆ™ï¼Ÿ</li><li>ç»„ä»¶æ€ä¹ˆé€šä¿¡ï¼Ÿæœ‰å“ªäº›æ–¹å¼ï¼Ÿ</li><li>å¦‚ä½•ä½¿ç”¨vuex ä»¥åŠå®ƒçš„åº”ç”¨åœºæ™¯å’ŒåŸç†</li><li>å¦‚ä½•ä½¿ç”¨è¿‡æ»¤å™¨ï¼Œç¼–å†™è‡ªå·±çš„è¿‡æ»¤å™¨</li><li>å¦‚ä½•ä½¿ç”¨ Jest æµ‹è¯•ä½ çš„ä»£ç ï¼ŸTDD ä¸ BDD çš„æ¯”è¾ƒ</li></ul><h2 id="å¦‚ä½•ç¼–å†™åŸç”Ÿç»„ä»¶"><a href="#å¦‚ä½•ç¼–å†™åŸç”Ÿç»„ä»¶" class="headerlink" title="å¦‚ä½•ç¼–å†™åŸç”Ÿç»„ä»¶"></a>å¦‚ä½•ç¼–å†™åŸç”Ÿç»„ä»¶</h2><h3 id="ç»„ä»¶ç¼–å†™åŸç†"><a href="#ç»„ä»¶ç¼–å†™åŸç†" class="headerlink" title="ç»„ä»¶ç¼–å†™åŸç†"></a>ç»„ä»¶ç¼–å†™åŸç†</h3><p>vue ç¼–å†™ç»„ä»¶æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯å•æ–‡ä»¶ç»„ä»¶ï¼Œå¦å¤–ä¸€ç§å‡½æ•°ç»„ä»¶ã€‚æ ¹æ®ç»„ä»¶å¼•å…¥å’Œåˆ›å»ºè¿˜å¯ä»¥åˆ†ä¸ºåŠ¨æ€ç»„ä»¶å’Œå¼‚æ­¥ç»„ä»¶ã€‚</p><p>åŠ¨æ€ç»„ä»¶<code>keep-alive</code>ä½¿ä¹‹ç¼“å­˜ã€‚å¼‚æ­¥ç»„ä»¶åŸç†å’Œå¼‚æ­¥è·¯ç”±ä¸€æ ·ï¼Œä½¿ç”¨<code>import()</code>å®ç°å¼‚æ­¥åŠ è½½ä¹Ÿå°±æ˜¯æŒ‰éœ€åŠ è½½ã€‚</p><p>æ‰€è°“ vue å•æ–‡ä»¶ç»„ä»¶ï¼Œå°±æ˜¯æˆ‘ä»¬æœ€å¸¸è§çš„è¿™ç§å½¢å¼ï¼š</p><pre><code class="js">&lt;template lang=&quot;pug&quot;&gt;    .demo      h1 hello&lt;/template&gt;&lt;script&gt;export default {  name: &#39;demo&#39;,  data() {    return {}  }}&lt;/script&gt;&lt;style lang=&quot;scss&quot; scoped&gt;.demo {  h1 {    color: #f00;  }}&lt;/style&gt;</code></pre><p>è¿™é‡Œçš„template ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>render</code> å‡½æ•°æ¥ç¼–å†™</p><pre><code class="js">Vue.component(&#39;demo&#39;, {    render: function (createElement) {      return createElement(        &#39;h1&#39;,      &#39;hello&#39;,         // ...          )      }})</code></pre><p>æˆ‘ä»¬å¯ä»¥å‘ç°<code>render</code>å‡½æ•°å†™æ¨¡ç‰ˆè®©æˆ‘ä»¬æ›´æœ‰ç¼–ç¨‹çš„æ„Ÿè§‰ã€‚<br>å¯¹æ¨¡ç‰ˆä¹Ÿå¯ä»¥ç¼–ç¨‹ï¼Œåœ¨vue é‡Œé¢æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“è”æƒ³åˆ°ï¼Œå¾ˆå¤šåœ°æ–¹éƒ½æœ‰ä¸¤ç§å†™æ³•ï¼Œä¸€ç§æ˜¯ <code>template</code> ï¼Œ ä¸€ç§æ˜¯<code>js</code>ã€‚<br>æ¯”å¦‚ï¼šå¯¹äºè·¯ç”±ï¼Œæˆ‘ä»¬æ—¢å¯ä»¥ä½¿ç”¨<code>:to=&quot;&quot;</code>ï¼Œåˆå¯ä»¥ä½¿ç”¨<code>$router.push</code>ï¼Œè¿™ä¹Ÿè®¸æ˜¯ vue ç”¨èµ·æ¥æ¯”è¾ƒçˆ½çš„åŸå› ã€‚</p><h4 id="å‡½æ•°å¼ç»„ä»¶æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ"><a href="#å‡½æ•°å¼ç»„ä»¶æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ" class="headerlink" title="å‡½æ•°å¼ç»„ä»¶æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ"></a>å‡½æ•°å¼ç»„ä»¶æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</h4><p><code>functional</code>ï¼Œè¿™æ„å‘³å®ƒ<strong>æ— çŠ¶æ€ (æ²¡æœ‰å“åº”å¼æ•°æ®)</strong>ï¼Œä¹Ÿæ²¡æœ‰<strong>å®ä¾‹</strong> (æ²¡æœ‰ this ä¸Šä¸‹æ–‡)</p><ul><li>å•æ–‡ä»¶å½¢å¼ 2.5.0+</li></ul><pre><code class="html">&lt;template functional&gt;&lt;/template&gt;</code></pre><ul><li>Render å‡½æ•°å½¢å¼</li></ul><pre><code class="js">Vue.component(&#39;my-component&#39;, {  functional: true,  render function (createElement, context) {    return createElement(&#39;div&#39;)      }}</code></pre><h4 id="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å‡½æ•°ç»„ä»¶å‘¢ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å‡½æ•°ç»„ä»¶å‘¢ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å‡½æ•°ç»„ä»¶å‘¢ï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å‡½æ•°ç»„ä»¶å‘¢ï¼Ÿ</h4><p>æœ€é‡è¦çš„åŸå› å°±æ˜¯<strong>å‡½æ•°ç»„ä»¶å¼€é”€ä½</strong>ï¼Œä¹Ÿå°±æ˜¯å¯¹æ€§èƒ½æœ‰å¥½å¤„ï¼Œåœ¨ä¸éœ€è¦å“åº”å¼å’Œthisçš„æƒ…å†µä¸‹ï¼Œå†™æˆå‡½æ•°å¼ç»„ä»¶ç®—æ˜¯ä¸€ç§ä¼˜åŒ–æ–¹æ¡ˆã€‚</p><p>ç»„ä»¶å†™å¥½äº†ï¼Œéœ€è¦å°†ç»„ä»¶æ³¨å†Œæ‰èƒ½ä½¿ç”¨</p><h3 id="ç»„ä»¶æ³¨å†Œçš„ä¸¤ç§æ–¹å¼"><a href="#ç»„ä»¶æ³¨å†Œçš„ä¸¤ç§æ–¹å¼" class="headerlink" title="ç»„ä»¶æ³¨å†Œçš„ä¸¤ç§æ–¹å¼"></a>ç»„ä»¶æ³¨å†Œçš„ä¸¤ç§æ–¹å¼</h3><p>ç»„ä»¶æ³¨å†Œåˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§æ˜¯å…¨å±€æ³¨å†Œï¼Œä¸€ç§æ˜¯å±€éƒ¨æ³¨å†Œ</p><p><code>å±€éƒ¨æ³¨å†Œ</code>å°±æ˜¯æˆ‘ä»¬å¸¸ç”¨çš„ <code>Vue.component(&#39;s-button&#39;, { /* ... */ })</code>ï¼Œæ¯”è¾ƒç®€å•ä¸è¯¦ç»†è®ºè¿°</p><p><code>å…¨å±€æ³¨å†Œ</code>ä¸ŠèŠ‚å·²ç»æåˆ°ï¼Œåœ¨<code>new Vue</code> ä¹‹å‰åœ¨ <code>mian.js</code>æ³¨å†Œï¼Œè¿™é‡Œè¿˜æåˆ°ä¸€ç§è‡ªåŠ¨å…¨å±€æ³¨å†Œçš„æ–¹æ³• <code>**require.text**</code></p><pre><code class="js">import Vue from &#39;vue&#39;import upperFirst from &#39;lodash/upperFirst&#39;import camelCase from &#39;lodash/camelCase&#39;const requireComponent = require.context(  &#39;./components&#39;,  // æ˜¯å¦æŸ¥è¯¢å…¶å­ç›®å½•  false,  /Base[A-Z]\w+\.(vue|js)$/)requireComponent.keys().forEach(fileName =&gt; {    // è·å–ç»„ä»¶é…ç½®     const componentConfig = requireComponent(fileName)    const componentName = upperFirst(          camelCase(                 // è·å–å’Œç›®å½•æ·±åº¦æ— å…³çš„æ–‡ä»¶å            fileName.split(&#39;/&#39;).pop().replace(/\.\w+$/, &#39;&#39;)          )    )      // å…¨å±€æ³¨å†Œç»„ä»¶    Vue.component(      componentName,      componentConfig.default || componentConfig      )})</code></pre><p>åŸºæœ¬åŸç†å’Œå…¨å±€æ³¨å†Œä¸€æ ·ï¼Œå°±æ˜¯å°† <code>components</code> ä¸­çš„ç»„ä»¶æ–‡ä»¶åï¼Œ<code>appButton</code>å˜æˆ <code>AppButton</code> ä½œä¸ºæ³¨å†Œçš„ç»„ä»¶åã€‚<br>æŠŠåŸæ¥éœ€è¦æ‰‹åŠ¨å¤åˆ¶çš„ï¼Œå˜æˆä¹‹é—´ä½¿ç”¨ <code>keys</code> æ–¹æ³•æ‰¹é‡æ³¨å†Œã€‚</p><h3 id="å®è·µå¼€å‘ä¸€ä¸ª-button-ç»„ä»¶"><a href="#å®è·µå¼€å‘ä¸€ä¸ª-button-ç»„ä»¶" class="headerlink" title="å®è·µå¼€å‘ä¸€ä¸ª button ç»„ä»¶"></a>å®è·µå¼€å‘ä¸€ä¸ª button ç»„ä»¶</h3><p>ç°åœ¨ï¼Œæˆ‘ä»¬ä»¥å†™ä¸€ä¸ªç®€å•çš„åŸç”Ÿ <code>button</code>ç»„ä»¶ä¸ºä¾‹ï¼Œæ¢è®¨ä¸€ä¸‹ç»„ä»¶å¼€å‘çš„ä¸€äº›å…³é”®ç‚¹ã€‚ å†™ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦æŠ“ä½ 4 ä¸ªæ ¸å¿ƒçš„è¦ç‚¹ï¼š</p><ul><li><strong>ç”¨å“ªä¸ªæ ‡ç­¾ä½œä¸ºç»„ä»¶ä¸»ä½“ï¼Œ <code>button</code> è¿˜æ˜¯ <code>div</code> æ ‡ç­¾</strong></li><li><strong>å¦‚ä½•æ ¹æ®å±æ€§æ§åˆ¶ <code>button</code> ç»„ä»¶çš„é¢œè‰² <code>color</code> ã€å½¢çŠ¶ <code>type</code> ã€å¤§å° <code>size</code></strong></li><li><strong>å¦‚ä½•å¤„ç† <code>button</code> ç»„ä»¶çš„ç‚¹å‡»äº‹ä»¶</strong></li><li>*<em>å¦‚ä½•å»æ‰©å±• <code>button</code> ç»„ä»¶çš„å†…å®¹</em></li></ul><blockquote><p>è¿™äº›æ€è€ƒç‚¹åœ¨å…¶ä»–åŸç”Ÿç»„ä»¶å¼€å‘å’Œé«˜é˜¶ç»„ä»¶å°è£…é‡Œé¢ä¹Ÿéœ€è¦è€ƒè™‘åˆ°</p></blockquote><p>é¦–å…ˆçœ‹ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œå¤§éƒ¨åˆ†åŸç”Ÿç»„ä»¶ç¬¬ä¸€è€ƒè™‘çš„åœ°æ–¹ï¼Œå°±æ˜¯ä¸»è¦æ ‡ç­¾ç”¨åŸç”Ÿ <code>&lt;button&gt;&lt;/button&gt;</code>æ ‡ç­¾è¿˜æ˜¯ç”¨ å»æ¨¡æ‹Ÿã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆä¸è€ƒè™‘ <code>&lt;input&gt;</code>å‘¢ï¼Œå› ä¸º <code>&lt;button&gt;&lt;/button&gt;</code> å…ƒç´ æ¯” <code>&lt;input&gt;</code> å…ƒç´ æ›´å®¹æ˜“æ·»åŠ å†…éƒ¨å…ƒç´ ã€‚ä½ å¯ä»¥åœ¨å…ƒç´ å†…æ·»åŠ HTMLå†…å®¹ï¼ˆåƒ ã€ ç”šè‡³ <code>&lt;img&gt;</code>ï¼‰ï¼Œä»¥åŠ <code>::after</code> å’Œ <code>::before</code> ä¼ªå…ƒç´ æ¥å®ç°å¤æ‚çš„æ•ˆæœï¼Œè€Œ <code>&lt;input&gt;</code> åªæ”¯æŒæ–‡æœ¬å†…å®¹ã€‚</p></blockquote><p>ä¸‹é¢åˆ†æè¿™ä¸¤ç§å†™æ³•çš„ä¼˜åŠ£</p><p><strong>ä½¿ç”¨åŸç”Ÿ <code>button</code> æ ‡ç­¾çš„ä¼˜åŠ¿ï¼š</strong></p><ol><li>æ›´å¥½çš„æ ‡ç­¾è¯­ä¹‰åŒ–</li><li>åŸç”Ÿæ ‡ç­¾è‡ªå¸¦çš„ <code>buff</code> ï¼Œä¸€äº›è‡ªå¸¦çš„é”®ç›˜äº‹ä»¶è¡Œä¸ºç­‰</li></ol><blockquote><p>ä¸ºä»€ä¹ˆè¯´æ›´å¥½çš„è¯­ä¹‰åŒ–å‘¢ï¼Ÿæœ‰äººå¯èƒ½ä¼šè¯´ï¼Œå¯ä»¥ä½¿ç”¨ <code>role</code> æ¥å¢å¼º <code>div</code> çš„è¯­ä¹‰åŒ–ã€‚ç¡®å®å¯ä»¥ï¼Œä½†æ˜¯å¯èƒ½å­˜åœ¨é—®é¢˜â€”â€”æœ‰äº›çˆ¬è™«å¹¶ä¸ä¼šæ ¹æ® <code>role</code> æ¥ç¡®å®šè¿™ä¸ªæ ‡ç­¾çš„å«ä¹‰ã€‚</p></blockquote><blockquote><p>å¦å¤–ä¸€ç‚¹ï¼Œå¯¹å¼€å‘è€…æ¥è¯´ï¼Œ <code>&lt;button&gt;&lt;/button&gt;</code> æ¯” é˜…è¯»èµ·æ¥æ›´å¥½ã€‚</p></blockquote><p><strong>ä½¿ç”¨ <code>div</code> æ¨¡æ‹Ÿçš„ä¼˜åŠ¿ï¼š</strong></p><ol><li>ä¸éœ€è¦å…³å¿ƒ <code>button</code> åŸç”Ÿæ ·å¼å¸¦æ¥çš„ä¸€äº›å¹²æ‰°ï¼Œå°‘å†™ä¸€äº›è¦†ç›–åŸç”Ÿ <code>css</code> çš„ä»£ç ï¼Œæ›´å¹²å‡€çº¯ç²¹ã€‚</li><li>å…¨éƒ¨ç”¨ <code>div</code> ï¼Œä¸éœ€è¦å†å»æ‰¾åŸç”Ÿæ ‡ç­¾ã€æ·±å…¥äº†è§£åŸç”Ÿæ ‡ç­¾çš„ä¸€äº›å…¼å®¹ç›¸å…³çš„è¯¡å¼‚é—®é¢˜ã€‚</li><li>å¯å¡‘æ€§æ›´å¼ºï¼Œä¹Ÿå°±æ˜¯æ‹“å±•æ€§å’Œå…¼å®¹æ€§æ›´å¥½ã€‚è¿™ä¹Ÿæ˜¯å¤§å¤šæ•°ç»„ä»¶éƒ½ä¼šé€‰æ‹©ä½¿ç”¨ <code>div</code> ä½œä¸ºç»„ä»¶ä¸»ä½“çš„åŸå› ã€‚</li></ol><blockquote><p>è²Œä¼¼ div é™¤äº†è¯­ä¹‰ä¸æ˜¯å¾ˆå¥½ä»¥å¤–ï¼Œå…¶ä»–æ–¹é¢éƒ½è¿˜è¡Œï¼Œä½†æ˜¯å…·ä½“ç”¨å“ªä¸€ç§å…¶å®éƒ½å¯ä»¥ï¼Œåªè¦ä»£ç å†™çš„å¥å£®é€‚é…æ€§å¼ºï¼ŒåŸºæœ¬éƒ½æ²¡å•¥å¤§é—®é¢˜ã€‚</p></blockquote><p>æˆ‘ä»¬è¿™é‡Œä½¿ç”¨åŸç”Ÿ <code>&lt;button&gt;&lt;/button&gt;</code>ä½œä¸ºä¸»è¦æ ‡ç­¾ï¼Œä½¿ç”¨ <code>s-xx</code>ä½œä¸º <code>class</code>å‰ç¼€</p><blockquote><p>ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨å‰ç¼€ï¼Œå› ä¸ºåœ¨æœ‰äº›æ—¶å€™ï¼Œæ¯”å¦‚ä½¿ç”¨ç¬¬ä¸‰æ–¹ç»„ä»¶ï¼Œå¤šä¸ªç»„ä»¶ä¹‹é—´çš„ class å¯èƒ½ä¼šäº§ç”Ÿå†²çªï¼Œå‰ç¼€ç”¨æ¥å……å½“ç»„ä»¶ css çš„ä¸€ä¸ªå‘½åç©ºé—´ï¼Œä¸åŒç»„ä»¶ä¹‹é—´ä¸ä¼šå¹²æ‰°ã€‚</p></blockquote><pre><code class="html">&lt;template lang=&quot;pug&quot;&gt;   button.s-button(:class=&quot;xxx&quot; :style=&quot;xxx&quot; )     slot&lt;/template&gt;</code></pre><p>ç„¶åï¼Œæˆ‘ä»¬çœ‹ç¬¬äºŒä¸ªé—®é¢˜ï¼š</p><p><strong>å¦‚ä½•æ ¹æ®å±æ€§æ¥æ§åˆ¶ <code>button</code> çš„æ ·å¼</strong> å…¶å®è¿™ä¸ªå¾ˆç®€å•ï¼ŒåŸºæœ¬åŸç†å°±æ˜¯ï¼š</p><ol><li>ä½¿ç”¨ <code>props</code> è·å–çˆ¶ç»„ä»¶ä¼ è¿‡æ¥çš„å±æ€§ã€‚</li><li>æ ¹æ®ç›¸å…³å±æ€§ï¼Œç”Ÿæˆä¸åŒçš„ <code>class</code>ï¼Œä½¿ç”¨ <code>:class=&quot;{xxx: true, xxx: &#39;s-button--&#39; + size}&quot;</code> è¿™ç§å½¢å¼ï¼Œåœ¨ <code>style</code> é‡Œé¢å¯¹ä¸åŒçš„ <code>s-button--xxx</code> åšå‡ºä¸åŒçš„å¤„ç†ã€‚</li></ol><pre><code class="html">&lt;template lang=&quot;pug&quot;&gt;  button.s-button(:class=&quot;&quot; :style=&quot;&quot; )    slot&lt;/template&gt;&lt;script&gt;export default {    name: &#39;s-button&#39;    data: return {}    props: {        theme: {},        size: {},        type: {}    }}&lt;/script&gt;  </code></pre><p><strong>å¦‚ä½•ä½¿ç”¨äº‹ä»¶ä»¥åŠå¦‚ä½•æ‰©å±•ç»„ä»¶</strong></p><p>æ‰©å±•ç»„ä»¶çš„åŸç†ï¼Œä¸»è¦å°±æ˜¯ä½¿ç”¨ <code>props</code> æ§åˆ¶ç»„ä»¶å±æ€§ï¼Œæ¨¡ç‰ˆä¸­ä½¿ç”¨ <code>v-if/v-show</code> å¢åŠ ç»„ä»¶åŠŸï¼Œæ¯”å¦‚å¢åŠ å†…éƒ¨ ICONï¼Œä½¿ç”¨ <code>:style class</code>æ§åˆ¶ç»„ä»¶æ ·å¼ã€‚</p><p><img src="https://user-gold-cdn.xitu.io/2020/1/13/16f9d9414f682625?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="type"> </p><p>è¿˜è¦æ³¨æ„çš„æ˜¯æˆ‘ä»¬è¿˜è¦æ§åˆ¶åŸç”Ÿ <code>type</code> ç±»å‹ï¼ŒåŸç”Ÿé»˜è®¤æ˜¯ <code>submit</code>ï¼Œè¿™é‡Œæˆ‘ä»¬é»˜è®¤è®¾ç½®ä¸º <code>button</code></p><pre><code class="html">&lt;template lang=&quot;pug&quot;&gt; button.s-button(:class=&quot;&quot; :style=&quot;&quot; :type=&quot;nativeType&quot;)   slot   s-icon(v-if=&quot;icon &amp;&amp; $slots.icon&quot; name=&quot;loading&quot;)&lt;/template&gt;&lt;script&gt;export default {    name: &#39;s-button&#39;    data: return {}    props: {        nativeType: {            type: String,            default: &#39;button&#39;        },        theme: {},        size: {},        type: {}    }}&lt;/script&gt;</code></pre><p>æ§åˆ¶äº‹ä»¶ï¼Œç›´æ¥ä½¿ç”¨ <code>@click=&quot;&quot;</code> + <code>emit</code></p><pre><code class="html">&lt;template lang=&quot;pug&quot;&gt;  button.s-button(@click=&quot;handleClick&quot;)&lt;/template&gt;&lt;script&gt;export default {    methods: {        handleClick (evt) {            this.$emit(&#39;click&#39;, evt)          }      }}&lt;/script&gt;</code></pre><h4 id="æœ€åæ€»ç»“ä¸‹ï¼š"><a href="#æœ€åæ€»ç»“ä¸‹ï¼š" class="headerlink" title="æœ€åæ€»ç»“ä¸‹ï¼š"></a>æœ€åæ€»ç»“ä¸‹ï¼š</h4><blockquote><p>ä¸€èˆ¬å°±ç›´æ¥ä½¿ç”¨ <code>template</code>å•æ–‡ä»¶ç¼–å†™ç»„ä»¶ï¼Œéœ€è¦å¢å¼º jsç¼–å†™èƒ½åŠ›å¯ä»¥ä½¿ç”¨ <code>render()</code><br>å¸¸è§„ç¼–å†™ç»„ä»¶éœ€è¦è€ƒè™‘ï¼š1. ä½¿ç”¨ä»€ä¹ˆæ ‡ç­¾ 2. å¦‚ä½•æ§åˆ¶å„ç§å±æ€§çš„è¡¨ç° 3. å¦‚ä½•å¢å¼ºç»„ä»¶æ‰©å±•æ€§ 4. å¦‚ä½•å¤„ç†ç»„ä»¶äº‹ä»¶</p></blockquote><blockquote><p>å¯¹å“åº”å¼ <code>this</code>è¦æ±‚ä¸é«˜ï¼Œä½¿ç”¨å‡½æ•° <code>functional</code>ç»„ä»¶ä¼˜åŒ–æ€§èƒ½ã€‚</p></blockquote><blockquote><p>åŸºç¡€ç»„ä»¶é€šå¸¸å…¨å±€æ³¨å†Œï¼Œä¸šåŠ¡ç»„ä»¶é€šå¸¸å±€éƒ¨æ³¨å†Œ</p></blockquote><blockquote><p>ä½¿ç”¨ <code>keys()</code>éå†æ–‡ä»¶æ¥å®ç°è‡ªåŠ¨æ‰¹é‡å…¨å±€æ³¨å†Œ</p></blockquote><blockquote><p>ä½¿ç”¨ <code>import()</code> å¼‚æ­¥åŠ è½½ç»„ä»¶æå‡å‡å°‘é¦–æ¬¡åŠ è½½å¼€é”€ï¼Œä½¿ç”¨ <code>keep-alive + is</code>ç¼“å­˜ç»„ä»¶å‡å°‘äºŒæ¬¡åŠ è½½å¼€é”€</p></blockquote><h2 id="å¦‚ä½•ä½¿ç”¨-vuex-ä»¥åŠå®ƒçš„åº”ç”¨"><a href="#å¦‚ä½•ä½¿ç”¨-vuex-ä»¥åŠå®ƒçš„åº”ç”¨" class="headerlink" title="å¦‚ä½•ä½¿ç”¨ vuex ä»¥åŠå®ƒçš„åº”ç”¨"></a>å¦‚ä½•ä½¿ç”¨ vuex ä»¥åŠå®ƒçš„åº”ç”¨</h2><h3 id="ç”±æ¥ä»¥åŠåŸç†"><a href="#ç”±æ¥ä»¥åŠåŸç†" class="headerlink" title="ç”±æ¥ä»¥åŠåŸç†"></a>ç”±æ¥ä»¥åŠåŸç†</h3><p>æˆ‘ä»¬çŸ¥é“ç»„ä»¶ä¸­é€šä¿¡æœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼š</p><h4 id="1-çˆ¶ç»„ä»¶é€šè¿‡-props-ä¼ é€’ç»™å­ç»„ä»¶ï¼Œä¸è¯¦ç»†è®ºè¿°"><a href="#1-çˆ¶ç»„ä»¶é€šè¿‡-props-ä¼ é€’ç»™å­ç»„ä»¶ï¼Œä¸è¯¦ç»†è®ºè¿°" class="headerlink" title="1. çˆ¶ç»„ä»¶é€šè¿‡ props ä¼ é€’ç»™å­ç»„ä»¶ï¼Œä¸è¯¦ç»†è®ºè¿°"></a>1. çˆ¶ç»„ä»¶é€šè¿‡ <code>props</code> ä¼ é€’ç»™å­ç»„ä»¶ï¼Œä¸è¯¦ç»†è®ºè¿°</h4><h4 id="2-å­ç»„ä»¶é€šè¿‡-emit-äº‹ä»¶ä¼ é€’æ•°æ®ç»™çˆ¶ç»„ä»¶-çˆ¶ç»„ä»¶é€šè¿‡-on-ç›‘å¬ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå…¸å‹çš„-è®¢é˜…-å‘å¸ƒæ¨¡å‹"><a href="#2-å­ç»„ä»¶é€šè¿‡-emit-äº‹ä»¶ä¼ é€’æ•°æ®ç»™çˆ¶ç»„ä»¶-çˆ¶ç»„ä»¶é€šè¿‡-on-ç›‘å¬ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå…¸å‹çš„-è®¢é˜…-å‘å¸ƒæ¨¡å‹" class="headerlink" title="2. å­ç»„ä»¶é€šè¿‡ emit äº‹ä»¶ä¼ é€’æ•°æ®ç»™çˆ¶ç»„ä»¶,çˆ¶ç»„ä»¶é€šè¿‡ on ç›‘å¬ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå…¸å‹çš„ è®¢é˜…-å‘å¸ƒæ¨¡å‹"></a>2. å­ç»„ä»¶é€šè¿‡ <code>emit</code> äº‹ä»¶ä¼ é€’æ•°æ®ç»™çˆ¶ç»„ä»¶,çˆ¶ç»„ä»¶é€šè¿‡ <code>on</code> ç›‘å¬ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå…¸å‹çš„ <strong>è®¢é˜…-å‘å¸ƒ</strong>æ¨¡å‹</h4><blockquote><p><code>@</code> ä¸º <code>v-on:</code> çš„ç®€å†™</p></blockquote><pre><code class="html">&lt;template lang=&quot;pug&quot;&gt;&lt;!--å­ç»„ä»¶--&gt;    div.component-1&lt;template&gt;&lt;script&gt;export default {    mounted() {        this.$emit(&#39;eventName&#39;, params)      }}&lt;/script&gt;</code></pre><pre><code class="html">&lt;!-- çˆ¶ç»„ä»¶--&gt;&lt;template lang=&quot;pug&quot;&gt;    Component-1(@eventName=&quot;handleEventName&quot;)&lt;template&gt;&lt;script&gt;export default {    methods: {        handleEventName (params) {            console.log(params)        }  }&lt;/script&gt;</code></pre><h4 id="3-é›†ä¸­å¼é€šä¿¡äº‹ä»¶ï¼Œä¸»è¦ç”¨äºç®€å•çš„éçˆ¶å­ç»„ä»¶é€šä¿¡"><a href="#3-é›†ä¸­å¼é€šä¿¡äº‹ä»¶ï¼Œä¸»è¦ç”¨äºç®€å•çš„éçˆ¶å­ç»„ä»¶é€šä¿¡" class="headerlink" title="3. é›†ä¸­å¼é€šä¿¡äº‹ä»¶ï¼Œä¸»è¦ç”¨äºç®€å•çš„éçˆ¶å­ç»„ä»¶é€šä¿¡"></a>3. é›†ä¸­å¼é€šä¿¡äº‹ä»¶ï¼Œä¸»è¦ç”¨äºç®€å•çš„éçˆ¶å­ç»„ä»¶é€šä¿¡</h4><p>åŸç†å¾ˆç®€å•å…¶å®å°±æ˜¯åœ¨ <code>emit</code> ä¸ <code>on</code> çš„åŸºç¡€ä¸ŠåŠ äº†ä¸€ä¸ªäº‹ä»¶ä¸­è½¬ç«™ â€œbusâ€ã€‚æˆ‘è§‰å¾—æ›´åƒæ˜¯ç°å®ç”Ÿæ´»ä¸­çš„é›†çº¿å™¨ã€‚</p><p>æ™®éçš„å®ç°åŸç†å¤§æ¦‚æ˜¯è¿™æ ·çš„ â€œbusâ€ ä¸º <code>vue</code> çš„ä¸€ä¸ªå®ä¾‹ï¼Œå®ä¾‹é‡Œé¢å¯ä»¥è°ƒç”¨ <code>emit</code>, <code>off</code>, <code>on</code> è¿™äº›æ–¹æ³•ã€‚</p><pre><code class="js">var eventHub = new Vue()// å‘å¸ƒeventHub.$emit(&#39;add&#39;, params)// è®¢é˜…/å“åº”eventHub.$on(&#39;add&#39;, params)// é”€æ¯eventHub.$off(&#39;add&#39;, params)</code></pre><p>ä½†æ˜¯ç¨å¾®å¤æ‚ç‚¹çš„æƒ…å†µï¼Œä½¿ç”¨è¿™ç§æ–¹å¼å°±å¤ªç¹é”äº†ã€‚è¿˜æ˜¯ä½¿ç”¨ vuex æ¯”è¾ƒå¥½ã€‚</p><p>ä»æŸç§æ„ä¹‰è€Œè¨€ï¼Œæˆ‘è§‰å¾— vuex ä¸ä»…ä»…æ˜¯å®ƒçš„ä¸€ç§è¿›åŒ–ç‰ˆã€‚</p><ol><li>ä½¿ç”¨ <code>store</code> ä½œä¸º <strong>çŠ¶æ€ç®¡ç†</strong> çš„ä»“åº“ï¼Œå¹¶ä¸”å¼•å…¥äº† <strong>çŠ¶æ€</strong> è¿™ä¸ªæ¦‚å¿µ</li><li>å®ƒçš„æ¨¡å‹å®Œå…¨ä¸ä¸€æ ·äº†ï¼Œ <code>bus</code> æ¨¡å‹æ„Ÿè§‰åƒä¸€ä¸ªç”µè¯ä¸­è½¬ç«™<br><img src="https://user-gold-cdn.xitu.io/2020/1/13/16f9ddf76fc5b0fa?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="ä¸­è½¬ç«™"></li></ol><p>è€Œ vuex çš„æ¨¡å‹æ›´åƒæ˜¯é›†ä¸­å¼çš„ä»£ç ä»“åº“ã€‚</p><blockquote><p>ä¸ <code>git</code> ç±»ä¼¼ï¼Œå®ƒä¸èƒ½ç›´æ¥ä¿®æ”¹ä»£ç ï¼Œéœ€è¦å‚ä¸è€…æäº¤ <code>commit</code>ï¼Œæäº¤å®Œçš„ <code>commit</code>ä¿®æ”¹ä»“åº“ï¼Œä»“åº“æ›´æ–°ï¼Œå‚ä¸è€… <code>fetch</code> ä»£ç æ›´æ–°è‡ªå·±çš„ä»£ç ã€‚ä¸åŒçš„æ˜¯ä»£ç ä»“åº“éœ€è¦åˆå¹¶ï¼Œè€Œ <code>vuex</code> æ˜¯ç›´æ¥è¦†ç›–ä¹‹å‰çš„çŠ¶æ€ã€‚</p></blockquote><p><img src="https://user-gold-cdn.xitu.io/2020/1/10/16f8ede3d74ab245?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="state"></p><h3 id="ç®¡ç†-vuex"><a href="#ç®¡ç†-vuex" class="headerlink" title="ç®¡ç† vuex"></a>ç®¡ç† vuex</h3><h4 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h4><blockquote><p>â€œstoreâ€åŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå®ƒåŒ…å«ç€ä½ çš„åº”ç”¨ä¸­å¤§éƒ¨åˆ†çš„çŠ¶æ€ (<code>state</code>)ã€‚Vuex å’Œå•çº¯çš„å…¨å±€å¯¹è±¡æœ‰ä»¥ä¸‹ä¸¤ç‚¹ä¸åŒ</p></blockquote><ul><li><strong>å“åº”å¼</strong> ï¼ˆæ”¹å˜å±æ€§åï¼Œè§¦å‘ç»„ä»¶ä¸­çš„çŠ¶æ€æ”¹å˜ï¼Œè§¦å‘ <code>dom</code> ï¼‰</li><li><strong>ä¸èƒ½ç›´æ¥æ”¹å˜çŠ¶æ€</strong> ï¼ˆå”¯ä¸€é€”å¾„æ˜¯æäº¤ <code>mutation</code> )</li></ul><p><img src="https://user-gold-cdn.xitu.io/2020/1/13/16f9deb7be3845f5?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="store"></p><p><strong>åŸºæœ¬ç”¨æ³•</strong>ï¼šå°±æ˜¯åœ¨ <code>state</code> é‡Œé¢å®šä¹‰å„ç§å±æ€§ï¼Œé¡µé¢æˆ–ç»„ä»¶ç»„ä»¶ä¸­ï¼Œç›´æ¥ä½¿ç”¨ <code>$store.state</code>æˆ–è€… <code>$store.getters</code>æ¥ä½¿ç”¨ã€‚å¦‚æœæƒ³è¦æ”¹å˜çŠ¶æ€ <code>state</code>å‘¢ï¼Œå°± <code>commit</code> ä¸€ä¸ª <code>mutation</code></p><p>ä½†æ˜¯å‡å¦‚æˆ‘æƒ³æäº¤ä¸€è¿ä¸²åŠ¨ä½œå‘¢ï¼Ÿå¯ä»¥å®šä¹‰ä¸€ä¸ª <code>action</code>ï¼Œç„¶åä½¿ç”¨ <code>$store.dispatch</code> æ‰§è¡Œè¿™ä¸ª <code>action</code></p><p>ä½¿ç”¨ <code>action</code> ä¸ä»…èƒ½çœç•¥ä¸å°‘ä»£ç ï¼Œè€Œä¸”å…³é”®æ˜¯ <code>action</code> ä¸­å¯ä»¥ä½¿ç”¨å¼‚æ­¥ç›¸å…³å‡½æ•°ï¼Œè¿˜å¯ä»¥ç›´æ¥è¿”å›ä¸€ä¸ª <code>promise</code></p><p>è€Œä¸ºä»€ä¹ˆä¸ç›´æ¥åˆ° <code>mutation</code>ä¸­å†™å¼‚æ­¥å‘¢ï¼Ÿ å› ä¸º <code>mutation</code> ä¸€å®šæ˜¯ä¸ªåŒæ­¥ï¼Œå®ƒæ˜¯å”¯ä¸€èƒ½æ”¹å˜ state çš„ï¼Œä¸€æ—¦æäº¤äº† <code>mutation</code>ï¼Œ <code>mutation</code> å¿…é¡»ç»™å®šä¸€ä¸ªæ˜ç¡®ç»“æœã€‚å¦åˆ™ä¼šé˜»å¡çŠ¶æ€çš„å˜åŒ–ã€‚</p><p>ä¸‹é¢ç»™å‡ºå¸¸ç”¨ vuex çš„ä½¿ç”¨æ–¹å¼</p><h4 id="æ–°å»º-Store"><a href="#æ–°å»º-Store" class="headerlink" title="æ–°å»º Store"></a>æ–°å»º Store</h4><p>æ–°å»ºä¸€ä¸ª <code>store</code>å¹¶å°†å…¶ä»–å„ä¸ªåŠŸèƒ½åŒ–åˆ†æ–‡ä»¶ç®¡ç†</p><pre><code class="js">import Vue from &#39;vue&#39;import Vuex from &#39;vuex&#39;import state from &#39;./states&#39;import getters from &#39;./getters&#39;import mutations from &#39;./mutations&#39;import actions from &#39;./actions&#39;import user from &#39;./modules/user&#39;Vue.use(Vuex)export default new Vuex.Store({      //åœ¨éç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œä½¿ç”¨ä¸¥æ ¼æ¨¡å¼      strict: process.env.NODE_ENV !== &#39;production&#39;,       state,      getters,      mutations,      actions,      modules: {            user      }})</code></pre><p><strong>æ“ä½œçŠ¶æ€ä¸¤ç§æ–¹å¼</strong></p><ol><li>è·å–çŠ¶æ€</li></ol><pre><code class="js">console.log(store.state.count)</code></pre><ol start="2"><li>æ”¹å˜çŠ¶æ€</li></ol><pre><code class="js">store.commit(&#39;xxx&#39;)</code></pre><h4 id="ç®¡ç†çŠ¶æ€-states"><a href="#ç®¡ç†çŠ¶æ€-states" class="headerlink" title="ç®¡ç†çŠ¶æ€ states"></a>ç®¡ç†çŠ¶æ€ states</h4><blockquote><p>å•ä¸€çŠ¶æ€æ ‘, è¿™ä¹Ÿæ„å‘³ç€ï¼Œæ¯ä¸ªåº”ç”¨å°†ä»…ä»…åŒ…å«ä¸€ä¸ª store å®ä¾‹ã€‚å•ä¸€çŠ¶æ€æ ‘è®©æˆ‘ä»¬èƒ½å¤Ÿç›´æ¥åœ°å®šä½ä»»ä¸€ç‰¹å®šçš„çŠ¶æ€ç‰‡æ®µï¼Œåœ¨è°ƒè¯•çš„è¿‡ç¨‹ä¸­ä¹Ÿèƒ½è½»æ˜“åœ°å–å¾—æ•´ä¸ªå½“å‰åº”ç”¨çŠ¶æ€çš„å¿«ç…§ã€‚</p></blockquote><pre><code class="js">// states æ–‡ä»¶export default {      count: 0}</code></pre><p>è®¡ç®—å±æ€§ä¸­è¿”å›ï¼Œæ¯å½“ <code>state</code> ä¸­å±æ€§å˜åŒ–çš„æ—¶å€™, å…¶ä»–ç»„ä»¶éƒ½ä¼šé‡æ–°æ±‚å–è®¡ç®—å±æ€§ï¼Œå¹¶ä¸”è§¦å‘æ›´æ–°ç›¸å…³è”çš„ DOM</p><pre><code class="js">const Counter = {      template: &#39;&lt;div&gt;{{count}}&lt;div&gt;&#39;,      computed: {            count() {                  return store.state.count            }      }}</code></pre><h4 id="ç®¡ç†å–å€¼å™¨-getters"><a href="#ç®¡ç†å–å€¼å™¨-getters" class="headerlink" title="ç®¡ç†å–å€¼å™¨ getters"></a>ç®¡ç†å–å€¼å™¨ getters</h4><blockquote><p><code>getters</code> ç›¸å½“äº <code>store</code> çš„è®¡ç®—å±æ€§ã€‚ä¸éœ€è¦æ¯æ¬¡éƒ½è¦åœ¨è®¡ç®—å±æ€§ä¸­è¿‡æ»¤ä¸€ä¸‹ï¼Œä¹Ÿæ˜¯ä¸€ç§ä»£ç å¤ç”¨ã€‚ æˆ‘ä»¬åœ¨ <code>getters</code>æ–‡ä»¶ä¸­ç®¡ç†</p></blockquote><pre><code class="js">export default {      count: (state) =&gt; Math.floor(state.count)}</code></pre><h4 id="ç®¡ç†-mutations"><a href="#ç®¡ç†-mutations" class="headerlink" title="ç®¡ç† mutations"></a>ç®¡ç† mutations</h4><blockquote><p>æ›´æ”¹ Vuex çš„ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€æ–¹æ³•æ˜¯æäº¤ mutationã€‚Vuex ä¸­çš„ mutation éå¸¸ç±»ä¼¼äºäº‹ä»¶ï¼šæ¯ä¸ª mutation éƒ½æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²çš„ äº‹ä»¶ç±»å‹ (type) å’Œ ä¸€ä¸ª å›è°ƒå‡½æ•° (handler)ã€‚è¿™ä¸ªå›è°ƒå‡½æ•°å°±æ˜¯æˆ‘ä»¬å®é™…è¿›è¡ŒçŠ¶æ€æ›´æ”¹çš„åœ°æ–¹</p></blockquote><p>ä½¿ç”¨ types å¤§å†™ç”¨äºè°ƒè¯•ï¼Œåœ¨ <code>mutationTypes</code> æ–‡ä»¶ä¸­ <code>export const ROUTE_ADD = &#39;ROUTE_ADD&#39;</code></p><p>ç„¶ååœ¨ <code>mutations</code> æ–‡ä»¶ä¸­ç®¡ç†</p><pre><code class="js">import * as MutationTypes from &#39;./mutationTypes&#39;export default {      [MutationTypes.ADDONE]: function(state) {    state.count = state.count + 1      },      //...}</code></pre><pre><code class="js">this.$store.commit(MutationTypes.ADDONE)</code></pre><h4 id="ç®¡ç†-actions"><a href="#ç®¡ç†-actions" class="headerlink" title="ç®¡ç† actions"></a>ç®¡ç† actions</h4><p>å’Œ <code>mutations</code> ç±»ä¼¼ï¼Œ <code>actions</code> å¯¹åº”çš„æ˜¯ <code>dispatch</code>ï¼Œä¸åŒçš„æ˜¯ <code>action</code>å¯ä»¥ä½¿ç”¨å¼‚æ­¥å‡½æ•°ï¼Œæœ‰ç§æ›´é«˜ä¸€çº§çš„å°è£…ã€‚</p><pre><code class="js">// ç®€åŒ–actions: {    increment ({ commit }) {        setTimeout(() =&gt; {              commit(MutationTypes.ADDONE)    }    , 1000)    }}// è§¦å‘store.dispatch(&#39;increment&#39;)</code></pre><blockquote><p>ä¸Šè¿°ç”¨æ³•éƒ½å¯ä»¥ä½¿ç”¨ <strong>è½½è·</strong>çš„å½¢å¼ï¼Œå¼•å…¥ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>mapXxxx</code> è¿›è¡Œæ‰¹é‡å¼•å…¥ï¼Œè¿™é‡Œä¸è¯¦ç»†è®ºè¿°ï¼Œæœ‰å…´è¶£å¯ä»¥æŸ¥çœ‹å®˜ç½‘ã€‚</p></blockquote><h4 id="åˆ†æ¨¡å—ç®¡ç†çŠ¶æ€"><a href="#åˆ†æ¨¡å—ç®¡ç†çŠ¶æ€" class="headerlink" title="åˆ†æ¨¡å—ç®¡ç†çŠ¶æ€"></a>åˆ†æ¨¡å—ç®¡ç†çŠ¶æ€</h4><p>çŠ¶æ€å¤ªå¤šå¤ªæ‚ï¼Œåˆ†æ¨¡å—ç®¡ç†æ˜¯ä¸€ä¸ªè‰¯å¥½çš„ä»£ç ç»„ç»‡æ–¹å¼ã€‚</p><pre><code class="js">import count from &#39;./modules/count&#39;export default new Vuex.Store({      modules: {            count      }})</code></pre><p>æ¯ä¸€ä¸ªæ¨¡å—éƒ½å¯ä»¥æœ‰ç‹¬ç«‹çš„ç›¸å…³å±æ€§</p><pre><code class="js">import * as ActionTypes from &#39;./../actionTypes&#39;export default {      state: {            count: 0      },      mutations: {            ADD_ONE: function(state) {                   state.count = state.count + 1              }      },      actions: {            [ActionTypes.INIT_INTENT_ORDER]: function({ commit }) {                  commit(&#39;ADD_ONE&#39;)            }      },      getters: {            pageBackToLoan: (state) =&gt; Math.floor(state.count)      }}</code></pre><p><img src="https://user-gold-cdn.xitu.io/2020/1/13/16f9e11d627d9b4d?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="å¦‚å›¾æ‰€ç¤º"></p><h3 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h3><p><code>vuex</code> ä¸»è¦æœ‰å‡ ä¸ªåº”ç”¨åœºæ™¯ï¼Œä¸€ä¸ªæ˜¯ç”¨äº <strong>ç»„ä»¶é€šä¿¡</strong>å’Œ <strong>çŠ¶æ€å…±äº«</strong>ï¼Œä¸€ä¸ªæ˜¯ç”¨äº <strong>æ•°æ®ç¼“å­˜</strong>ï¼Œè¿˜æœ‰å°±æ˜¯ç”¨äº <strong>å‡å°‘è¯·æ±‚</strong>ã€‚è¿™äº›åœºæ™¯å½’æ ¹èŠ‚ç‚¹éƒ½æ˜¯å¯¹äº <strong>ç¼“å­˜</strong>å’Œ <strong>å…±äº«</strong>æ¥è¯´çš„ã€‚</p><h4 id="ç»„ä»¶é€šä¿¡"><a href="#ç»„ä»¶é€šä¿¡" class="headerlink" title="ç»„ä»¶é€šä¿¡"></a>ç»„ä»¶é€šä¿¡</h4><p>é¦–å…ˆï¼ŒçŠ¶æ€ç»Ÿä¸€ç®¡ç†åœ¨ä»“åº“ï¼Œå°±å®ç°äº†ç»„ä»¶é€šä¿¡çš„å¯èƒ½æ€§ã€‚</p><p>å½“ä¸€ä¸ªç»„ä»¶é€šè¿‡ <code>commit</code> æäº¤ <code>mutation</code> å°±æ”¹äº† <code>state</code>ï¼Œå…¶ä»–ç»„ä»¶å°±å¯ä»¥é€šè¿‡ <code>store.state</code>è·å–æœ€æ–°çš„ <code>state</code>ï¼Œè¿™æ ·ä¸€æ¥å°±ç›¸å½“äº <strong>æ›´æ–°çš„å€¼é€šè¿‡ <code>store</code> ä¼ é€’ç»™äº†å…¶ä»–ç»„ä»¶</strong>ï¼Œä¸ä»…å®ç°äº†ä¸€å¯¹ä¸€çš„é€šä¿¡ï¼Œè¿˜å®ç°äº†ä¸€å¯¹å¤šçš„é€šä¿¡ã€‚</p><h4 id="çŠ¶æ€å…±äº«"><a href="#çŠ¶æ€å…±äº«" class="headerlink" title="çŠ¶æ€å…±äº«"></a>çŠ¶æ€å…±äº«</h4><p>æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„ä¸€ä¸ªåœºæ™¯å°±æ˜¯ <strong>æƒé™ç®¡ç†</strong>ã€‚</p><p>å†™æƒé™ç®¡ç†æ—¶å€™ï¼Œé¦–æ¬¡è¿›å…¥é¡µé¢å°±è¦å°†æƒé™å…¨éƒ¨æ‹¿åˆ°ï¼Œç„¶åéœ€è¦åˆ†å‘ç»™å„ä¸ªé¡µé¢ä½¿ç”¨ï¼Œæ¥æ§åˆ¶å„ä¸ªè·¯ç”±ã€æŒ‰é’®çš„æƒé™ã€‚</p><pre><code class="js">/** *  * åˆ¤æ–­ç”¨æˆ·æœ‰æ²¡æœ‰æƒé™è®¿é—®é¡µé¢  */function hasPermission(routeItem, menus) {    return menus.some(menuItem =&gt; {        return menuItem.name === routeItem.name    })}/** *  * é€’å½’è¿‡æ»¤å¼‚æ­¥è·¯ç”±è¡¨ï¼Œè¿”å›ç¬¦åˆç”¨æˆ·è§’è‰²æƒé™çš„è·¯ç”±è¡¨ *  * @param {*} routes è·¯ç”±è¡¨ *  * @param {*} menus èœå•ä¿¡æ¯  * */function filterRoutes(routes, menus) {    return routes.filter(routeItem =&gt; {        if (routeItem.hidden) {            return true        } else if (hasPermission(routeItem, menus)) {            const menuItem = menus.find(item =&gt; item.name === routeItem.name)            if (menuItem &amp;&amp; menuItem.children &amp;&amp; menuItem.children.length &gt; 0) {                routeItem.children = filterRoutes(routeItem.children, menuItem.children)                if (!routeItem.children.length) return false              }              return true            } else {                return false              }        })  }  const permission = {      state: {          routers: constantRouterMap,          addRouters: [],          roles: [],          user_name: &#39;&#39;,          avatar_url: &#39;&#39;,          onlyEditor: false,          menus: null,          personal: true,          teamList: []      },      mutations: {}  }  export default permission</code></pre><p>è€Œä¸”æƒé™è¿˜å¯ä»¥è¢«æ›´æ”¹ï¼Œæ›´æ”¹åçš„æƒé™ç›´æ¥åˆ†å‘åˆ°å…¶ä»–é¡µé¢ç»„ä»¶ä¸­ã€‚è¿™ä¸ªåœºæ™¯è¦æ˜¯ä¸ä½¿ç”¨ <code>vuex</code> ï¼Œä»£ç å°†ä¼šæ¯”è¾ƒå¤æ‚ã€‚</p><h4 id="æ•°æ®ç¼“å­˜"><a href="#æ•°æ®ç¼“å­˜" class="headerlink" title="æ•°æ®ç¼“å­˜"></a>æ•°æ®ç¼“å­˜</h4><p><code>store</code> æ˜¯ä¸€ä¸ªä»“åº“ï¼Œå®ƒä»åˆ›å»ºå¼€å§‹å°±ä¸€ç›´å­˜åœ¨ï¼Œåªæœ‰é¡µé¢ <code>Vuex.store</code> å®ä¾‹è¢«é”€æ¯ï¼Œstate æ‰ä¼šè¢«æ¸…ç©ºã€‚å…·ä½“è¡¨ç°å°±æ˜¯åˆ·æ–°é¡µé¢ã€‚</p><p>è¿™ä¸ªæ•°æ®ç¼“å­˜é€‚ç”¨äºï¼šé¡µé¢åŠ è½½åç¼“å­˜æ•°æ®ï¼Œåˆ·æ–°é¡µé¢è¯·æ±‚æ•°æ®çš„åœºæ™¯ã€‚åœ¨ä¸€èˆ¬ <code>Hybrid</code>ä¸­ï¼Œä¸€èˆ¬ä¸å­˜åœ¨åˆ·æ–°é¡µé¢è¿™ä¸ªæŒ‰é’®ï¼Œæ‰€ä»¥ä½¿ç”¨ vuex ç¼“å­˜æ•°æ®å¯ä»¥åº”å¯¹å¤§å¤šæ•°åœºæ™¯ã€‚</p><pre><code class="js">export default {      state: {            // ç¼“å­˜ä¿®æ”¹æ‰‹æœºå·éœ€è¦çš„ä¿¡æ¯            changePhoneInfo: {                  nameUser: &#39;&#39;,                  email: &#39;&#39;,                  phone: &#39;&#39;            },      }}</code></pre><p>å¦‚æœéœ€è¦æŒä¹…åŒ–ç¼“å­˜ï¼Œç»“åˆæµè§ˆå™¨æˆ– APP ç¼“å­˜æ›´ä½³ã€‚</p><pre><code class="js">export default {      // ç™»é™†æˆåŠŸåï¼Œvuex å†™å…¥tokenï¼Œå¹¶å†™å…¥appç¼“å­˜ï¼Œå­˜å‚¨æŒä¹…åŒ–      [ActionTypes.LOGIN_SUCCESS]: function(store, token) {            store.commit(MutationTypes.SET_TOKEN, token)            setStorage(&#39;token&#39;, token)            router.replace({ name: &#39;Home&#39;, params: { source: &#39;login&#39; } })      }}</code></pre><h4 id="å‡å°‘è¯·æ±‚-æ•°æ®ç¼“å­˜çš„å˜ç§"><a href="#å‡å°‘è¯·æ±‚-æ•°æ®ç¼“å­˜çš„å˜ç§" class="headerlink" title="å‡å°‘è¯·æ±‚(æ•°æ®ç¼“å­˜çš„å˜ç§)"></a>å‡å°‘è¯·æ±‚(æ•°æ®ç¼“å­˜çš„å˜ç§)</h4><p>åœ¨å†™åå°ç®¡ç†å¹³å°æ—¶å€™ï¼Œç»å¸¸ä¼šæœ‰ <code>list</code> é€‰å‹ç»„ä»¶ï¼Œé‡Œé¢æ•°æ®ä»æœåŠ¡ç«¯æ‹¿çš„æ•°æ®ã€‚å¦‚æœæˆ‘ä»¬æŠŠè¿™ä¸ª <code>list</code> æ•°æ®å­˜å‚¨èµ·æ¥ï¼Œä¸‹æ¬¡å†æ¬¡ä½¿ç”¨ï¼Œç›´æ¥ä» <code>store</code> é‡Œé¢æ‹¿ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸ç”¨å†å»è¯·æ±‚æ•°æ®äº†ã€‚ç›¸å½“äºå‡å°‘äº†ä¸€æ¬¡è¯·æ±‚ã€‚</p><h2 id="å¦‚ä½•ä½¿ç”¨è¿‡æ»¤å™¨ï¼Œç¼–å†™è‡ªå·±çš„è¿‡æ»¤å™¨"><a href="#å¦‚ä½•ä½¿ç”¨è¿‡æ»¤å™¨ï¼Œç¼–å†™è‡ªå·±çš„è¿‡æ»¤å™¨" class="headerlink" title="å¦‚ä½•ä½¿ç”¨è¿‡æ»¤å™¨ï¼Œç¼–å†™è‡ªå·±çš„è¿‡æ»¤å™¨"></a>å¦‚ä½•ä½¿ç”¨è¿‡æ»¤å™¨ï¼Œç¼–å†™è‡ªå·±çš„è¿‡æ»¤å™¨</h2><h3 id="åŸç†-1"><a href="#åŸç†-1" class="headerlink" title="åŸç†"></a>åŸç†</h3><p>å‡è®¾æˆ‘ç°åœ¨æœ‰ä¸ªéœ€æ±‚ï¼Œéœ€è¦å°†æ€§åˆ«0ã€1ã€2ï¼Œåˆ†åˆ«è½¬æ¢æˆç”·ã€å¥³ã€ä¸ç¡®å®šè¿™ä¸‰ä¸ªæ±‰å­—å±•ç¤ºã€‚é¡µé¢ä¸­å¤šå¤„åœ°æ–¹éœ€è¦ä½¿ç”¨ã€‚</p><pre><code class="html">&lt;template lang=&quot;pug&quot;&gt;  .user-info    .gender        label(for=&quot;æ€§åˆ«&quot;) æ€§åˆ«        span {{gender}}&lt;/template&gt;</code></pre><p>å®Œæˆè¿™ä¸ªéœ€æ±‚ï¼Œæˆ‘ä»¬çŸ¥é“æœ‰ <strong>4</strong> ç§æ–¹å¼ï¼š</p><ol><li>ä½¿ç”¨ computed æ–¹æ³•</li><li>ä½¿ç”¨ methods æ–¹æ³•</li><li>ä½¿ç”¨ utils å·¥å…·ç±»</li><li>ä½¿ç”¨ filters</li></ol><p><strong>åº”è¯¥é€‰æ‹©å“ªç§æ–¹å¼å‘¢ï¼Ÿ</strong></p><p>æˆ‘ä»ä¸‹é¢ä¸‰ä¸ªæ–¹é¢æ¥è®ºè¿°è¿™ä¸ªé—®é¢˜</p><p><strong>1. å¯å®ç°æ€§</strong></p><ul><li>ä½¿ç”¨ <code>computed</code> å®ç°æˆåŠŸï¼Œæˆ‘ä»¬çŸ¥é“ <code>computed</code> ä¸æ˜¯ä¸€ä¸ªå‡½æ•°æ˜¯æ— æ³•ä¼ å‚çš„ï¼Œè¿™é‡Œæœ‰ä¸ªæŠ€å·§ï¼Œ <code>return</code> ä¸€ä¸ªå‡½æ•°æ¥å—ä¼ è¿‡æ¥çš„å‚æ•°</li></ul><pre><code class="js">    // ...      computed: {          convertIdToName() {              return function(value) {                  const item = list.find(function(item) {                        return item.id === value                    })                    return item.name                }            }      }</code></pre><p><img src="https://user-gold-cdn.xitu.io/2020/1/13/16f9eb7a20ecdcdf?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="å¦‚å›¾æ‰€ç¤º"></p><ul><li>ä½¿ç”¨ <code>methods</code> å®ç°æˆåŠŸï¼Œè¿™é‡Œç›´æ¥å¯ä»¥ä¼ å‚æ•°ï¼Œä¸€ç§å¸¸è§„çš„å†™æ³•ã€‚</li></ul><blockquote><p>æ³¨æ„ <code>methods</code>ã€ <code>computed</code>å’Œ <code>data</code> ç›¸äº’ä¹‹å‰æ˜¯ä¸èƒ½åŒåçš„</p></blockquote><pre><code class="js">  // ...    methods: {        convertIdToName(value) {            const item = list.find(function(item) {                return item.id === value            })            return item.name        }    }</code></pre><ul><li>ä½¿ç”¨ <code>utils</code> å’Œ <code>methods</code> å·®ä¸å¤šåŸºæœ¬ä¸Šä¹Ÿå¯ä»¥å®ç°</li><li>ä½¿ç”¨ <code>filter</code> ä¹Ÿæ˜¯å®ç°çš„ï¼Œæœ‰ä¸ªå¯ä»¥å’Œ <code>methods</code> ã€ <code>computed</code> åŒåå“¦</li></ul><pre><code class="js">    filters: {          console.log(this.render)          convertIdToName(value) {              const item = list.find(function(item) {                  return item.id === value              })              return item.name          }      },</code></pre><p><strong>æ€»çš„æ¥è¯´ä»–ä»¬å…¨éƒ¨éƒ½å¯ä»¥å®ç°è¿™ä¸ªéœ€æ±‚</strong></p><p><strong>2. å±€é™æ€§</strong></p><ul><li><code>computed</code> ã€ <code>methods</code> å’Œ <code>data</code> ä¸‰è€…äº’ä¸åŒåï¼Œä»–ä»¬æ²¡åŠæ³•è¢«å…¶ä»–ç»„ä»¶ä½¿ç”¨ï¼Œé™¤éé€šè¿‡ <code>mixins</code></li><li><code>filters</code> ä¸ <code>utils</code> æ— æ³•è®¿é—® <code>this</code> ï¼Œä¹Ÿå°±æ˜¯äºå“åº”å¼ç»ç¼˜ã€‚ä½†æ˜¯é€šè¿‡å®šä¹‰å…¨å±€ <code>filters</code> ï¼Œå¯ä»¥å…¶ä»–åœ°æ–¹ä½¿ç”¨ï¼Œå¦å¤–è¿˜å¯ä»¥ç›´æ¥åŠ è½½ç¬¬ä¸‰æ–¹ <code>filter</code> å’Œ <code>utils</code></li></ul><p><strong>3. æ€»ç»“æ¯”è¾ƒ</strong></p><p><code>filters</code> ä¸ <code>utils</code> å½’å±ä¸€å¯¹ï¼Œä»–ä»¬æ—¢æ˜¯è„±ç¦»äº† <code>this</code>ï¼Œè·å¾—äº†è‡ªç”±ï¼Œåˆæ˜¯è¢« <code>this</code> å¼ƒä¹‹é—¨å¤–ã€‚ç›¸å <code>methods</code> ä¸ <code>computed</code> ä¸ <code>this</code> ç´§ç´§ç«™åœ¨ä¸€èµ·ï¼Œä½†åˆæ˜¯æ— æ³•è·å¾—è‡ªç”±ã€‚</p><h3 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h3><h4 id="ç¼–å†™ä¸€ä¸ªç®€å•çš„åƒåˆ†ä½è¿‡æ»¤å™¨"><a href="#ç¼–å†™ä¸€ä¸ªç®€å•çš„åƒåˆ†ä½è¿‡æ»¤å™¨" class="headerlink" title="ç¼–å†™ä¸€ä¸ªç®€å•çš„åƒåˆ†ä½è¿‡æ»¤å™¨"></a>ç¼–å†™ä¸€ä¸ªç®€å•çš„åƒåˆ†ä½è¿‡æ»¤å™¨</h4><pre><code class="js">export const thousandBitSeparator = (value) =&gt; {    return   value &amp;&amp; (value.toString().indexOf(&#39;.&#39;) !== -1 ? value.toString().replace(/(\d)(?=(\d{3})+\.)/g, function($0, $1) {          return $1 + &#39;,&#39;;      }) :   value.toString().replace(/(\d)(?=(\d{3})+$)/g, function($0, $1) {          return $1 + &#39;,&#39;;      })  );}</code></pre><h4 id="ä½¿ç”¨-vue-filter-æ’ä»¶"><a href="#ä½¿ç”¨-vue-filter-æ’ä»¶" class="headerlink" title="ä½¿ç”¨ vue-filter æ’ä»¶"></a>ä½¿ç”¨ vue-filter æ’ä»¶</h4><p>ä¸¤æ¬¾æ’ä»¶</p><p><a href="https://www.npmjs.com/package/vue-filter" target="_blank" rel="noopener">vue-filter</a> ä½¿ç”¨ <code>use</code> å¼•å…¥</p><p><a href="https://www.npmjs.com/package/vue-filters" target="_blank" rel="noopener">vue2-filters</a> ä½¿ç”¨ <code>mixins</code> å¼•å…¥</p><blockquote><p>æœ‰éœ€è¦çš„è¯ï¼Œæˆ‘ä¸€èˆ¬å°±ç”¨ç¬¬äºŒä¸ªäº†ï¼Œå¤§å¤šæ•°éƒ½æ˜¯è‡ªå·±å†™ä¸€ä¸‹å°è¿‡æ»¤å™¨</p></blockquote><p>è‡ªå®šä¹‰è¿‡æ»¤å™¨ä¹‹åï¼Œç›´æ¥å…¨å±€è‡ªåŠ¨æ³¨å†Œï¼Œå…¶ä»–åœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨</p><h4 id="æ³¨å†Œå…¨å±€è¿‡æ»¤å™¨"><a href="#æ³¨å†Œå…¨å±€è¿‡æ»¤å™¨" class="headerlink" title="æ³¨å†Œå…¨å±€è¿‡æ»¤å™¨"></a>æ³¨å†Œå…¨å±€è¿‡æ»¤å™¨</h4><p>éå†è¿‡æ»¤å±æ€§å€¼ï¼Œä¸€æ¬¡æ€§å…¨éƒ¨æ³¨å†Œ</p><pre><code class="js">for (const key in filters) {      Vue.filter(key, filters[key])}</code></pre><h2 id="å¦‚ä½•ä½¿ç”¨-Jest-æµ‹è¯•ä½ çš„ä»£ç "><a href="#å¦‚ä½•ä½¿ç”¨-Jest-æµ‹è¯•ä½ çš„ä»£ç " class="headerlink" title="å¦‚ä½•ä½¿ç”¨ Jest æµ‹è¯•ä½ çš„ä»£ç "></a>å¦‚ä½•ä½¿ç”¨ Jest æµ‹è¯•ä½ çš„ä»£ç </h2><h3 id="åŸç†-2"><a href="#åŸç†-2" class="headerlink" title="åŸç†"></a>åŸç†</h3><p>æˆ‘ä»¬æ€è€ƒä¸€ä¸‹æµ‹è¯• js ä»£ç éœ€è¦å“ªäº›ä¸œè¥¿</p><ol><li>æµè§ˆå™¨è¿è¡Œç¯å¢ƒ</li><li>æ–­è¨€åº“</li></ol><p>å¦‚æœæ˜¯æµ‹è¯• vue ä»£ç å‘¢ï¼Ÿ é‚£å¾—å†åŠ ä¸€ä¸ª vue æµ‹è¯•å®¹å™¨</p><h3 id="Jest-Vue"><a href="#Jest-Vue" class="headerlink" title="Jest + Vue"></a>Jest + Vue</h3><h4 id="å®‰è£…ä¾èµ–"><a href="#å®‰è£…ä¾èµ–" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h4><pre><code class="json">{      &quot;@vue/cli-plugin-unit-jest&quot;: &quot;^4.0.5&quot;,      &quot;@vue/test-utils&quot;: &quot;1.0.0-beta.29&quot;,      &quot;jest&quot;: &quot;^24.9.0&quot;,      // ...}</code></pre><h3 id="é¡¹ç›®é…ç½®"><a href="#é¡¹ç›®é…ç½®" class="headerlink" title="é¡¹ç›®é…ç½®"></a>é¡¹ç›®é…ç½®</h3><pre><code class="js">// For a detailed explanation regarding each configuration property, visit:// https://jestjs.io/docs/en/configuration.htmlmodule.exports = {    preset: &#39;@vue/cli-plugin-unit-jest&#39;,    automock: false, &quot;/private/var/folders/10/bb2hb93j34999j9cqr587ts80000gn/T/jest_dx&quot;,    clearMocks: true,    // collectCoverageFrom: null,    coverageDirectory: &#39;tests/coverage&#39;    //...}</code></pre><h3 id="å•å…ƒæµ‹è¯•"><a href="#å•å…ƒæµ‹è¯•" class="headerlink" title="å•å…ƒæµ‹è¯•"></a>å•å…ƒæµ‹è¯•</h3><h4 id="æµ‹è¯•-utils-å·¥å…·ç±»"><a href="#æµ‹è¯•-utils-å·¥å…·ç±»" class="headerlink" title="æµ‹è¯• utils å·¥å…·ç±»"></a>æµ‹è¯• utils å·¥å…·ç±»</h4><blockquote><p>å¯¹æˆ‘ä»¬ä¹‹å‰å†™çš„ä¸€ä¸ªæ€§åˆ«åç§°è½¬æ¢å·¥å…·è¿›è¡Œæµ‹è¯•</p></blockquote><pre><code class="js">import { convertIdToName } from &#39;./convertIdToName&#39;describe(&#39;æµ‹è¯•convertIdToNameæ–¹æ³•&#39;, () =&gt; {    const list = [        { id: 0, name: &#39;ç”·&#39; },        { id: 1, name: &#39;å¥³&#39; },        { id: 2, name: &#39;æœªçŸ¥&#39; }    ]    it(&#39;æµ‹è¯•æ­£å¸¸è¾“å…¥&#39;, () =&gt; {        const usage = list        usage.forEach((item) =&gt; {            expect(convertIdToName(item.id, list)).toBe(item.name)        })  })    it(&#39;æµ‹è¯•éæ­£å¸¸è¾“å…¥&#39;, () =&gt; {        const usage = [&#39;a&#39;, null, undefined, NaN]        usage.forEach((item) =&gt; {            expect(convertIdToName(item, list)).toBe(&#39;&#39;)        })    })})</code></pre><p><img src="https://user-gold-cdn.xitu.io/2020/1/13/16f9eda87016bfe2?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="å¦‚å›¾æ‰€ç¤º"><br>è¿™æ ·ä¸€æµ‹è¯•ï¼Œå‘ç°åŸæ¥æˆ‘ä»¬ä¹‹å‰å†™çš„å·¥å…·æœ‰è¿™ä¹ˆå¤šæ¼æ´ æµ‹è¯•æ­£å¸¸è¾“å…¥å…¨éƒ¨é€šè¿‡äº†ï¼Œéæ­£å¸¸è¾“å…¥å¤±è´¥äº†ï¼Œæ ¹æ®æµ‹è¯•ç”¨ä¾‹æ”¹è¿›æˆ‘ä»¬çš„ä»£ç </p><pre><code class="js">export const convertIdToName = (value, list) =&gt; {    if (value !== 0 &amp;&amp; value !== 1 &amp;&amp; value !== 2) return &#39;&#39;    const item = list.find(function(item) {        return item.id === value    })   return item.name}</code></pre><p>ç°åœ¨æµ‹è¯•éƒ½é€šè¿‡äº†å‘¢</p><h4 id="æµ‹è¯•-components-å•æ–‡ä»¶ç»„ä»¶"><a href="#æµ‹è¯•-components-å•æ–‡ä»¶ç»„ä»¶" class="headerlink" title="æµ‹è¯• components å•æ–‡ä»¶ç»„ä»¶"></a>æµ‹è¯• components å•æ–‡ä»¶ç»„ä»¶</h4><blockquote><p>å¯¹æˆ‘ä»¬æœ€ç®€å•çš„ <code>hello world</code> è¿›è¡Œæµ‹è¯•</p></blockquote><pre><code class="html">&lt;template lang=&quot;pug&quot;&gt;  .hello    h1 {{ msg }}&lt;/template&gt;&lt;script&gt;export default {    props: {        msg: String    }}&lt;/script&gt;</code></pre><pre><code class="js">import { shallowMount } from &#39;@vue/test-utils&#39;import HelloWorld from &#39;@/components/HelloWorld.vue&#39;describe(&#39;HelloWorld.vue&#39;, () =&gt; {    it(&#39;renders props.msg when passed&#39;, () =&gt; {        const msg = &#39;new message&#39;        const wrapper = shallowMount(HelloWorld, {            propsData: { msg }        })        expect(wrapper.text()).toMatch(msg)    })})</code></pre><h4 id="æµ‹è¯•-api-è¯·æ±‚"><a href="#æµ‹è¯•-api-è¯·æ±‚" class="headerlink" title="æµ‹è¯• api è¯·æ±‚"></a>æµ‹è¯• api è¯·æ±‚</h4><p>å¼‚æ­¥æµ‹è¯•æœ‰å‡ ç§å¸¸è§å†™æ³•</p><ul><li><code>async</code> ä¸ <code>await</code></li><li><code>done()</code></li></ul><blockquote><p>ç®€å•çš„å¼‚æ­¥æµ‹è¯•ï¼Œæµ‹è¯•ä¸€ä¸ªç®€å•çš„ç™»é™†è¯·æ±‚</p></blockquote><pre><code class="js">export const login = (data) =&gt; post(&#39;/user/login&#39;, data)</code></pre><p>æµ‹è¯•ä»£ç </p><pre><code class="js">import { login } from &#39;@/api/index&#39;describe(&#39;login api&#39;, () =&gt; {    const response = {        code: &#39;1000&#39;,        data: {}    }    const errorResponse = {        code: &#39;5000&#39;,        data: {},       message: &#39;ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯&#39;    }    it(&#39;æµ‹è¯•æ­£å¸¸ç™»é™†&#39;, async () =&gt; {        const params = {            user: &#39;admin&#39;,            password: &#39;123456&#39;        }        expect(await login(params)).toEqual(response)    })    it(&#39;æµ‹è¯•å¼‚å¸¸ç™»é™†&#39;, async () =&gt; {        const params = {            user: &#39;admin&#39;,           password: &#39;123123&#39;        }        expect(await login(params)).toEqual(errorResponse)    })})</code></pre><p><img src="https://user-gold-cdn.xitu.io/2020/1/13/16f9efc734a64747?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="å¦‚å›¾æ‰€ç¤º"></p><h3 id="åŠŸèƒ½æ¨¡å—æµ‹è¯•"><a href="#åŠŸèƒ½æ¨¡å—æµ‹è¯•" class="headerlink" title="åŠŸèƒ½æ¨¡å—æµ‹è¯•"></a>åŠŸèƒ½æ¨¡å—æµ‹è¯•</h3><p>ç»„ä»¶ï¼Œ <code>api</code>ï¼Œå·¥å…·è¿™äº›é›¶é›¶ç¢ç¢éƒ½æµ‹è¯•äº†ï¼Œè€Œä¸”è¿™äº›éƒ½æ˜¯æ¯”è¾ƒé€šç”¨ã€å’Œä¸šåŠ¡å…³ç³»ä¸å¤§çš„ä»£ç ï¼Œå®ƒä»¬æ”¹åŠ¨è¾ƒå°‘ï¼Œæµ‹è¯•åˆ°è¿™é‡Œå…¶å®å·²ç»è¶³å¤Ÿäº†ï¼Œå·²ç»è¾¾åˆ°äº† <code>20%</code> çš„æµ‹è¯•å·¥ä½œé‡äº†å¾ˆå¤§ä¸€éƒ¨åˆ†ä»£ç çš„ç›®çš„ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆæˆ‘è¯´åªæœ‰ 20% çš„å·¥ä½œé‡å‘¢ï¼Ÿå› ä¸ºè¿™äº›éƒ½æ˜¯ä¸æ€ä¹ˆå˜åŒ–çš„é€»è¾‘ï¼Œæ˜¯ä¸€åŠ³æ°¸é€¸çš„äº‹æƒ…ã€‚é•¿è¿œæ¥è¯´å ç”¨çš„å·¥ä½œé‡ç¡®å®å¾ˆå°‘ã€‚</p></blockquote><p>ä½†æ˜¯æœ‰äº›æƒ…å†µä¸šåŠ¡è¿˜æ˜¯å¿…é¡»å¾—æµ‹ï¼Œä¹Ÿå°±æ˜¯å¿…é¡»è¦åŠŸèƒ½æ¨¡å—é›†æˆæµ‹è¯•ã€‚</p><p>ç»å¸¸å¾—å›å½’çš„ä¸šåŠ¡ï¼Œé‚£ç§è¿­ä»£å¯¹åŸæœ‰çš„ç³»ç»Ÿæ¯”è¾ƒå¤§ï¼Œé¿å…æ”¹åŠ¨ä¹‹åä½¿æ—§çš„ä»£ç å„ç§æ–°çš„é—®é¢˜ã€‚è¿™ç§ç»å¸¸å›å½’æµ‹è¯•ï¼Œé‡‡ç”¨ <code>BDD</code> + é›†æˆæµ‹è¯•ï¼Œæ¯”ä¸åœæ”¹ <code>bug</code> è¦è½»æ¾çš„å¤šã€‚</p><h3 id="å¿«ç…§æµ‹è¯•"><a href="#å¿«ç…§æµ‹è¯•" class="headerlink" title="å¿«ç…§æµ‹è¯•"></a>å¿«ç…§æµ‹è¯•</h3><p>åƒç‰ˆæœ¬ä¸€æ ·ï¼Œæ¯æ¬¡æµ‹è¯•ä¹‹åç”Ÿæˆä¸€ä¸ªç‰ˆæœ¬ï¼Œæ¯”è¾ƒä¸ä¸Šä¸€ä¸ªç‰ˆæœ¬çš„åŒºåˆ«ã€‚ è¿™æ˜¯ä¸€ç§ç²’åº¦åŠå…¶å°çš„æµ‹è¯•ï¼Œå¯ä»¥æµ‹è¯•åˆ°æ¯ä¸€ä¸ªç¬¦å·ã€‚</p><h4 id="æ¯”å¦‚æˆ‘ç”¨å®ƒæ¥æµ‹è¯•ä¸€ä¸ªé…ç½®æ–‡ä»¶çš„å˜åŠ¨"><a href="#æ¯”å¦‚æˆ‘ç”¨å®ƒæ¥æµ‹è¯•ä¸€ä¸ªé…ç½®æ–‡ä»¶çš„å˜åŠ¨" class="headerlink" title="æ¯”å¦‚æˆ‘ç”¨å®ƒæ¥æµ‹è¯•ä¸€ä¸ªé…ç½®æ–‡ä»¶çš„å˜åŠ¨"></a>æ¯”å¦‚æˆ‘ç”¨å®ƒæ¥æµ‹è¯•ä¸€ä¸ªé…ç½®æ–‡ä»¶çš„å˜åŠ¨</h4><p>è¿™æ˜¯æˆ‘ä»¬ä¸€ä¸ªé…ç½®æ–‡ä»¶</p><pre><code class="js">export const api = {    develop: &#39;http://xxxx:8080&#39;,    mock: &#39;http://xxxx&#39;,    feature: &#39;http://xxxx&#39;,    test: &#39;http://xxxx&#39;,    production: &#39;http://xxxx&#39;}export default api[process.env.NODE_ENV || &#39;dev&#39;]</code></pre><p>ä½¿ç”¨å¿«ç…§æµ‹è¯•</p><pre><code class="js">import { api } from &#39;./config&#39;describe(&#39;é…ç½®æ–‡ä»¶æµ‹è¯•&#39;, () =&gt; {    it(&#39;æµ‹è¯•é…ç½®æ–‡ä»¶æ˜¯å¦å˜åŠ¨&#39;, () =&gt; {        expect(api).toMatchSnapshot({            develop: &#39;http://xxxx:8080&#39;,            mock: &#39;http://xxxx&#39;,             feature: &#39;http://xxxx&#39;,             test: &#39;http://xxxx&#39;,             production: &#39;http://xxxx&#39;          })    })})</code></pre><p>ä½¿ç”¨å¿«ç…§ç¬¬ä¸€æ¬¡æµ‹è¯•åï¼Œé€šè¿‡æµ‹è¯•ï¼Œä»£ç è¢«å†™å…¥å¿«ç…§<br><img src="https://user-gold-cdn.xitu.io/2020/1/13/16f9f1b5e3b2e64f?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="å¿«ç…§æµ‹è¯•1"><br><img src="https://user-gold-cdn.xitu.io/2020/1/13/16f9f1d9415200e8?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="å¿«ç…§æµ‹è¯•2"><br>æ”¹åŠ¨é…ç½®å†æ¬¡æµ‹è¯•ï¼Œæœªé€šè¿‡æµ‹è¯• è¿™æ—¶å¦‚æœè¦æ”¹å˜é…ç½®æ€ä¹ˆåŠå‘¢ï¼Ÿ åªéœ€åŒæ—¶æ”¹ä¸€ä¸‹ç”¨ä¾‹å°±å¥½äº†ã€‚å¿«ç…§å°†å†æ¬¡å†™å…¥å¿«ç…§ç”Ÿæˆç‰ˆæœ¬2ï¼Œè¿™æ ·é…ç½®æ”¹åŠ¨ä¹Ÿæœ‰æ ¹æ®äº†<br><img src="https://user-gold-cdn.xitu.io/2020/1/13/16f9f1eeb7396fdc?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="å¿«ç…§æµ‹è¯•3"></p><h3 id="TDD-ä¸-BDD"><a href="#TDD-ä¸-BDD" class="headerlink" title="TDD ä¸ BDD"></a>TDD ä¸ BDD</h3><p>æœ€è¿‘è®¨è®ºæ¯”è¾ƒå¤šçš„ç®—æ˜¯ <strong>æµ‹è¯•é©±åŠ¨å¼€å‘</strong>å’Œ <strong>è¡Œä¸ºé©±åŠ¨å¼€å‘</strong>ï¼Œå…¶å®æ€»å¾—æ¥è¯´æ˜¯ 4 ç§</p><ol><li>ä¸å†™æµ‹è¯•ã€‚å¥½å¤„æ˜¯çœæ—¶é—´ï¼Œåå¤„å½“ç„¶å°± <code>bug</code> å¤šï¼Œä»£ç è´¨é‡ä½ã€‚</li><li>å…ˆå†™æµ‹è¯•å’Œæµ‹è¯•ç”¨ä¾‹ï¼Œå†å†™ä»£ç ï¼Œä¹Ÿå°±æ˜¯æµ‹è¯•é©±åŠ¨å¼€å‘ã€‚è¿™æ ·å¥½å¤„æ˜¯ä»£ç æ¯”è¾ƒå¥å…¨ï¼Œè€ƒè™‘çš„å› ç´ æ¯”è¾ƒå¤šã€‚å›ºå®šæ¨¡å—å¥å£®æ€§é«˜ï¼Œbugå°‘ã€‚</li><li>å…ˆå†™ä»£ç ï¼Œå†é€šè¿‡æ¨¡æ‹Ÿç”¨æˆ·çš„è¡Œä¸ºå†™æµ‹è¯•ã€‚å¥½å¤„æ˜¯æ€è·¯æ¸…æ™°ï¼Œå¦‚æœæµ‹è¯•ç”¨ä¾‹å¤Ÿå…¨é¢ï¼ŒåŸºæœ¬ä¸Šçº¿åŸºæœ¬æ²¡å¤ªå¤§é—®é¢˜ï¼Œå›å½’æµ‹è¯•ä¹Ÿå¾ˆå¥½åšã€‚</li><li>å†™ä»£ç ä¹‹å‰å†™æµ‹è¯•å’Œç”¨ä¾‹ï¼Œå†™å®Œä»£ç ä¹‹åå†å†™ç”¨æˆ·è¡Œä¸ºæµ‹è¯•ã€‚è¿™ç§ä»£ç è´¨é‡å°±å¤ªé«˜äº†ï¼Œå½“ç„¶ç¼ºç‚¹å°±æ˜¯è´¹æ—¶é—´ã€‚</li></ol><blockquote><p>é‚£ä¹ˆä½ æ˜¯å“ªä¸€ç§ï¼Ÿ åæ­£æˆ‘æ¯”è¾ƒä½›ç³»å“ˆï¼Œæœ‰çš„ä¸å†™æµ‹è¯•ï¼Œä¹Ÿæœ‰çš„å†™æ»¡æµ‹è¯•ã€‚</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://juejin.im/post/5e15932ee51d4540f02fae27&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;åŸæ–‡åœ°å€&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;æ¦‚è§ˆ&quot;&gt;&lt;a href=&quot;#æ¦‚è§ˆ&quot; class=&quot;he
      
    
    </summary>
    
      <category term="Vue" scheme="https://zhanghao-web.github.io/categories/Vue/"/>
    
    
      <category term="Vue" scheme="https://zhanghao-web.github.io/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>åƒé€Vueé¡¹ç›®å¼€å‘å®è·µ(ä¸Š)</title>
    <link href="https://zhanghao-web.github.io/2020/05/06/Vue/%E5%90%83%E9%80%8FVue%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5-%E4%B8%8A/"/>
    <id>https://zhanghao-web.github.io/2020/05/06/Vue/åƒé€Vueé¡¹ç›®å¼€å‘å®è·µ-ä¸Š/</id>
    <published>2020-05-06T09:37:11.000Z</published>
    <updated>2020-05-09T02:09:20.169Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://juejin.im/post/5e0202fc6fb9a0165721e39a" target="_blank" rel="noopener">åŸæ–‡åœ°å€</a></p><h2 id="æ¦‚è§ˆ"><a href="#æ¦‚è§ˆ" class="headerlink" title="æ¦‚è§ˆ"></a>æ¦‚è§ˆ</h2><p><img src="https://user-gold-cdn.xitu.io/2019/12/30/16f5676f7940d72a?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="æ¦‚è§ˆ"></p><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><blockquote><p>æˆ‘å°†ä» 16 ä¸ªæ–¹é¢æ¥è®ºè¿° vue å¼€å‘è¿‡ç¨‹ä¸­çš„ä¸€äº›æŠ€å·§å’ŒåŸç†ã€‚å½“ç„¶ç”±äºç¯‡å¹…æœ‰é™ï¼Œå…ˆè®ºè¿°å‰ 8 ä¸ªé—®é¢˜ï¼Œä¸‹èŠ‚å°†å®Œæˆå…¨ç³»åˆ—å†…å®¹ã€‚</p></blockquote><p>æœ¬ç¯‡æ–‡ç« å°†å›´ç»•ä¸‹åˆ—é—®é¢˜è¿›è¡Œè®ºè¿°ï¼š</p><ul><li><strong>å¦‚ä½•è§„èŒƒä½ çš„ git æäº¤ï¼Œå¹¶è‡ªåŠ¨ç”Ÿæˆå¹¶æäº¤æ—¥å¿—ï¼Ÿ</strong></li><li><strong>å¦‚ä½•é…ç½®å’Œä½¿ç”¨ Sass å’Œ PUG æå‡ä½ çš„ç¼–ç æ•ˆç‡ï¼Ÿ</strong></li><li><strong>å¦‚ä½•å¤„ç†ä½ çš„ä»£ç é£æ ¼é—®é¢˜ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨ perttier ä¸ eslint è§£å†³æ•ˆç‡é£æ ¼ä¸¤éš¾é—®é¢˜ï¼Ÿ</strong></li><li><strong>å¦‚ä½•ç®¡ç†é¡µé¢çš„è·¯ç”±ï¼Œå¦‚ä½•ç¼–å†™å¼‚æ­¥è·¯ç”±ï¼Ÿ</strong></li><li><strong>å¦‚ä½•ç¼–å†™ç»„ä»¶ï¼Œå¼•å…¥ç»„ä»¶åº“ï¼Ÿ</strong></li><li><strong>å¦‚ä½•ç®¡ç†ä½ çš„èµ„æºï¼Œå¦‚ä½•å¼•å…¥å›¾æ ‡ï¼Œæ ·å¼ï¼Ÿ</strong></li><li><strong>å¦‚ä½•å°è£…ä½ çš„ axiosï¼Œç®¡ç†ä½ çš„apiï¼Ÿ</strong></li><li><strong>å¦‚ä½•ä½¿ç”¨ mock æ¨¡æ‹Ÿä½ çš„æ•°æ®ï¼Œå®ç°çœŸæ­£æ„ä¹‰çš„å‰åç«¯åˆ†ç¦»ï¼Ÿ</strong></li></ul><h2 id="å®è·µ"><a href="#å®è·µ" class="headerlink" title="å®è·µ"></a>å®è·µ</h2><blockquote><p>å®è·µä¹‹å‰ï¼šæˆ‘å¸Œæœ›ä½ æœ‰å¦‚ä¸‹å‡†å¤‡ï¼Œæˆ–è€…çŸ¥è¯†å‚¨å¤‡ã€‚</p><ul><li>äº†è§£ <code>npm/yarn/git/sass/pug/vue/vuex/vue-router/axios/mock/ssr/jest</code><br>çš„ä½¿ç”¨å’ŒåŸç†ã€‚</li><li>å½“ç„¶ä¸Šé¢çŸ¥è¯†ä¸äº†è§£ä¹Ÿæ²¡å…³ç³»å“ˆå“ˆå“ˆï¼Œæ–‡ç« ä¸­ä¼šæåˆ°å¤§è‡´ç”¨æ³•å’Œä½œç”¨ã€‚</li></ul></blockquote><h3 id="å¦‚ä½•è§„èŒƒ-git-æäº¤"><a href="#å¦‚ä½•è§„èŒƒ-git-æäº¤" class="headerlink" title="å¦‚ä½•è§„èŒƒ git æäº¤"></a>å¦‚ä½•è§„èŒƒ git æäº¤</h3><blockquote><p>ä»£ç æäº¤è®°å½•æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä»£ç ä¿®æ”¹æ—¥å¿—ã€‚è§„èŒƒçš„ä»£ç æäº¤è®°å½•ï¼Œä¸ç®¡åœ¨å¹³æ—¶ä»£ç å¼€å‘ç»´æŠ¤è¿‡ç¨‹ä¸­ï¼Œè¿˜æ˜¯åœ¨å®šä½ bug æˆ–è€…å›é€€ç‰ˆæœ¬æ¥è¯´éƒ½æ˜¯æä¸ºé‡è¦ã€‚</p></blockquote><h4 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h4><p>ä¸¤ç§åšæ³•ï¼š</p><ul><li>è‡ªå·±æ‰‹åŠ¨è§„èŒƒ git çš„æäº¤åŸåˆ™æˆ–è€…å›¢é˜Ÿç»Ÿä¸€åˆ¶å®šã€‚è¿™ä¸ªé è‡ªè§‰ï¼Œå¥½ä¹ æƒ¯å…»æˆä¹‹åå°±æ²¡é—®é¢˜æ¥</li><li>ä½¿ç”¨æ’ä»¶è§„èŒƒï¼Œæ¯”å¦‚ä¸‹é¢è¿™ç§</li></ul><p>ä¸ºäº†è§„èŒƒæäº¤ï¼Œæˆ‘ä½¿ç”¨äº†å¦‚ä¸‹æ’ä»¶ï¼š</p><ul><li>commitizen</li><li>conventional-changelog</li><li>cz-conventional-changelog</li><li>conventional-changelog-cli<h4 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h4><h5 id="å®‰è£…ç³»åˆ—æ’ä»¶ä¾èµ–"><a href="#å®‰è£…ç³»åˆ—æ’ä»¶ä¾èµ–" class="headerlink" title="å®‰è£…ç³»åˆ—æ’ä»¶ä¾èµ–"></a>å®‰è£…ç³»åˆ—æ’ä»¶ä¾èµ–</h5><pre><code class="sh">yarn add -D commitizen conventional-changelog cz-conventional-changelog</code></pre><blockquote><p>å®‰è£…ä¾èµ–æ—¶ï¼Œè¦æ³¨æ„æ˜¯å¦æ˜¯ç”Ÿäº§ç¯å¢ƒéœ€è¦çš„ã€‚æ˜¾ç„¶ <code>commitizen</code> åªåœ¨å¼€å‘ç¯å¢ƒä¸­ä½¿ç”¨ã€‚<code>-D</code> åªåœ¨ <code>dev</code> ç¯å¢ƒä½¿ç”¨</p></blockquote><h5 id="é…ç½®ä¾èµ–è·¯å¾„"><a href="#é…ç½®ä¾èµ–è·¯å¾„" class="headerlink" title="é…ç½®ä¾èµ–è·¯å¾„"></a>é…ç½®ä¾èµ–è·¯å¾„</h5>åœ¨ <code>package.json</code> ä¸­æ·»åŠ é…ç½®<pre><code class="js">{  //...  &quot;config&quot;: {      &quot;commitizen&quot;: {        &quot;path&quot;: &quot;./node_modules/cz-conventional-changelog&quot;      }  }}</code></pre>åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥<pre><code class="sh">git add -Agit-cz</code></pre>å‡ºç°äº†äº¤äº’è¾“å…¥æ–¹å¼ï¼Œè§„èŒƒä½ çš„ <code>commit</code> è¾“å…¥æ ¼å¼<br><img src="https://user-gold-cdn.xitu.io/2019/12/30/16f554235055e8f3?w=2194&amp;h=620&amp;f=jpeg&amp;s=226477" alt="commit"></li></ul><h5 id="ç”Ÿæˆ-CHANGELOG"><a href="#ç”Ÿæˆ-CHANGELOG" class="headerlink" title="ç”Ÿæˆ CHANGELOG"></a>ç”Ÿæˆ CHANGELOG</h5><pre><code class="sh">npm i -g conventional-changelog-cli</code></pre><p>å¢åŠ ä¸€ä¸ªnpm å‘½ä»¤ï¼Œå¿«é€Ÿç”Ÿæˆæ—¥å¿—</p><pre><code class="js">&quot;genlog&quot;: &quot;conventional-changelog -p angular -i .github/CHANGELOG.md -s&quot;</code></pre><p>ä½¿ç”¨<code>yarn</code>å‘½ä»¤ç”Ÿæˆæ—¥å¿—</p><pre><code class="sh">yarn genlog</code></pre><p>è‡ªåŠ¨ç”Ÿæˆçš„log</p><h5 id="Features"><a href="#Features" class="headerlink" title="Features"></a>Features</h5><ul><li><strong>git:</strong> å¢åŠ commitizenå·¥å…·è§„èŒƒæäº¤ (<a href="https://github.com/suoyuesmile/suo-design-pro/commit/58e39370aa838fd99312f73b37d092ffadc85990" target="_blank" rel="noopener">58e3937</a>)</li></ul><h3 id="å¦‚ä½•ç®¡ç†ä»£ç é£æ ¼"><a href="#å¦‚ä½•ç®¡ç†ä»£ç é£æ ¼" class="headerlink" title="å¦‚ä½•ç®¡ç†ä»£ç é£æ ¼"></a>å¦‚ä½•ç®¡ç†ä»£ç é£æ ¼</h3><blockquote><p>è¾ƒç»Ÿä¸€çš„ä»£ç é£æ ¼åˆ©äºé˜…è¯»ï¼Œä¹Ÿåˆ©äºåä½œã€‚</p></blockquote><h4 id="åŸç†ä¸è§£å†³æ–¹æ¡ˆ"><a href="#åŸç†ä¸è§£å†³æ–¹æ¡ˆ" class="headerlink" title="åŸç†ä¸è§£å†³æ–¹æ¡ˆ"></a>åŸç†ä¸è§£å†³æ–¹æ¡ˆ</h4><p>ä½¿ç”¨ eslint çº¦æŸåŸºæœ¬é£æ ¼å’Œè¯­æ³•ï¼Œä½¿ç”¨ prettier è‡ªåŠ¨æ ¼å¼åŒ–ä½ çš„ä»£ç ã€‚</p><h4 id="å®è·µ-1"><a href="#å®è·µ-1" class="headerlink" title="å®è·µ"></a>å®è·µ</h4><h5 id="å®‰è£…-eslint-ä¾èµ–"><a href="#å®‰è£…-eslint-ä¾èµ–" class="headerlink" title="å®‰è£… eslint ä¾èµ–"></a>å®‰è£… eslint ä¾èµ–</h5><pre><code class="json">{    &quot;eslint&quot;: &quot;^5.16.0&quot;,    &quot;eslint-config-standard&quot;: &quot;^6.2.1&quot;,    &quot;eslint-friendly-formatter&quot;: &quot;^2.0.7&quot;,    &quot;eslint-loader&quot;: &quot;^2.1.2&quot;,    &quot;eslint-plugin-html&quot;: &quot;^2.0.1&quot;,    &quot;eslint-plugin-promise&quot;: &quot;^3.5.0&quot;,    &quot;eslint-plugin-standard&quot;: &quot;^2.3.1&quot;,    &quot;eslint-plugin-vue&quot;: &quot;^5.0.0&quot;}</code></pre><p>ä½¿ç”¨ä¸¤ä¸ªæ’ä»¶ï¼Œä¸€ä¸ª <code>plugin:vue/essential</code>ï¼Œä¸€ä¸ªæ˜¯ <code>standard</code>ã€‚<br><code>vue/essential</code> ä¸ºäº†åœ¨ vue é‡Œé¢ä¹Ÿå¯ä»¥ç”Ÿæ•ˆã€‚å¦ä¸€ä¸ªæ˜¯ <code>standard</code>ã€‚<br><a href="https://github.com/standard/standard/blob/master/docs/RULES-zhcn.md#javascript-standard-style" target="_blank" rel="noopener">standard æ ‡å‡†æ–‡æ¡£</a></p><blockquote><p>ä½¿ç”¨ recommend ä¹Ÿå¯ä»¥ï¼Œé‡‡ç”¨æ¨è lintï¼Œæ›´åŠ è½»é‡åŒ–</p></blockquote><pre><code class="js">module.exports = {  root: true,  env: {    node: true  },  extends: [&#39;plugin:vue/essential&#39;, &#39;standard&#39;],  rules: {    quotes: [&#39;error&#39;, &#39;single&#39;],    indent: [&#39;error&#39;, 2, { MemberExpression: &#39;off&#39; }],    &#39;arrow-parens&#39;: 0,    &#39;no-loop-func&#39;: 2,    &#39;space-before-function-paren&#39;: [&#39;error&#39;, &#39;never&#39;],    indent: [&#39;error&#39;, 2, { SwitchCase: 1 }]  },  parserOptions: {    parser: require.resolve(&#39;babel-eslint&#39;),    ecmaVersion: 2018,    sourceType: &#39;module&#39;  }}</code></pre><h5 id="å¯ä»¥è‡ªå®šä¹‰-rules-çš„è§„åˆ™"><a href="#å¯ä»¥è‡ªå®šä¹‰-rules-çš„è§„åˆ™" class="headerlink" title="å¯ä»¥è‡ªå®šä¹‰ rules çš„è§„åˆ™"></a>å¯ä»¥è‡ªå®šä¹‰ rules çš„è§„åˆ™</h5><blockquote><p>rules çš„è§„åˆ™ { è§„åˆ™åï¼š[æ˜¯å¦å…³é—­/è§„åˆ™ç­‰çº§ï¼Œé…ç½®çš„å€¼ï¼Œåªå¯¹éƒ¨åˆ†é…ç½®] }<br><code>indent: [&#39;error&#39;, 2, { SwitchCase: 1 }]</code> å…¼å®¹ prettierï¼Œprettier ä¼šå°†ä»£ç æ ¼å¼åŒ–æˆ eslint æŠ¥é”™çš„æƒ…å†µã€‚<br>è§„åˆ™ç­‰çº§ï¼š0 å…³é—­ 1 è­¦å‘Š 2 æŠ¥é”™</p></blockquote><h5 id="ä½¿ç”¨-prettier"><a href="#ä½¿ç”¨-prettier" class="headerlink" title="ä½¿ç”¨ prettier"></a>ä½¿ç”¨ prettier</h5><h6 id="é…ç½®-prettier-æ–‡ä»¶"><a href="#é…ç½®-prettier-æ–‡ä»¶" class="headerlink" title="é…ç½® prettier æ–‡ä»¶"></a>é…ç½® prettier æ–‡ä»¶</h6><pre><code class="js">{  &quot;printWidth&quot;: 150,  &quot;singleQuote&quot;: true,  &quot;trailingComma&quot;: &quot;none&quot;,  &quot;semi&quot;: false,  &quot;tabWidth&quot;: 2,  &quot;useTabs&quot;: false,  &quot;bracketSpacing&quot;: true,  &quot;jsxBracketSameLine&quot;: false,  &quot;arrowParens&quot;: &quot;always&quot;,  &quot;proseWrap&quot;: &quot;preserve&quot;,  &quot;overrides&quot;: [    {        &quot;files&quot;: [&quot;*.json&quot;, &quot;.eslintrc&quot;, &quot;.tslintrc&quot;, &quot;.prettierrc&quot;, &quot;.tern-project&quot;],        &quot;options&quot;: {            &quot;parser&quot;: &quot;json&quot;,            &quot;tabWidth&quot;: 2        }    },    {        &quot;files&quot;: &quot;*.{css,sass,scss,less}&quot;,        &quot;options&quot;: {            &quot;parser&quot;: &quot;css&quot;,            &quot;tabWidth&quot;: 2        }    },    {        &quot;files&quot;: &quot;*.ts&quot;,        &quot;options&quot;: {            &quot;parser&quot;: &quot;typescript&quot;        }    },    {        &quot;files&quot;: &quot;*.vue&quot;,        &quot;options&quot;: {            &quot;parser&quot;: &quot;vue&quot;        }    },    {        &quot;files&quot;: &quot;*.md&quot;,        &quot;options&quot;: {            &quot;parser&quot;: &quot;markdown&quot;        }    }  ]}</code></pre><h5 id="å¼€å¯-vscode-è‡ªåŠ¨æ ¼å¼åŒ–"><a href="#å¼€å¯-vscode-è‡ªåŠ¨æ ¼å¼åŒ–" class="headerlink" title="å¼€å¯ vscode è‡ªåŠ¨æ ¼å¼åŒ–"></a>å¼€å¯ vscode è‡ªåŠ¨æ ¼å¼åŒ–</h5><pre><code class="json">{  // prettier  &quot;prettier.singleQuote&quot;: true,  &quot;prettier.semi&quot;: false,  &quot;prettier.tabWidth&quot;: 2,  &quot;[javascript]&quot;: {    &quot;editor.formatOnSave&quot;: true,    &quot;editor.defaultFormatter&quot;: &quot;esbenp.prettier-vscode&quot;  }}</code></pre><h3 id="å¦‚ä½•æå‡ç¼–ç æ•ˆç‡"><a href="#å¦‚ä½•æå‡ç¼–ç æ•ˆç‡" class="headerlink" title="å¦‚ä½•æå‡ç¼–ç æ•ˆç‡"></a>å¦‚ä½•æå‡ç¼–ç æ•ˆç‡</h3><h4 id="åŸç†ä¸è§£å†³æ–¹æ¡ˆ-1"><a href="#åŸç†ä¸è§£å†³æ–¹æ¡ˆ-1" class="headerlink" title="åŸç†ä¸è§£å†³æ–¹æ¡ˆ"></a>åŸç†ä¸è§£å†³æ–¹æ¡ˆ</h4><p>æˆ‘ä¸»è¦ä» 3 ä¸ªæ–¹é¢æ¥åšä¸€äº›ç¼–ç æ•ˆç‡ä¸Šçš„æ”¹è¿›</p><ul><li>å‡çº§ä½ çš„ vue-cli å‡å°‘ webpack é…ç½®çš„æˆæœ¬</li><li>ä½¿ç”¨ sassï¼Œåˆ©ç”¨é‡Œé¢å‡½æ•°ã€mixinsã€å˜é‡æå‡ css æ–‡ä»¶çš„å¤ç”¨</li><li>ä½¿ç”¨ pugï¼Œå‡å°‘ html çš„ä»£ç ç¼–å†™é‡</li></ul><h4 id="å®è·µ-2"><a href="#å®è·µ-2" class="headerlink" title="å®è·µ"></a>å®è·µ</h4><blockquote><p><code>vue-cli3+ã€vue-cli4+</code> ç›¸æ¯”äº <code>vue-cli2+</code> æœ€å¤§çš„æ”¹å˜å°±æ˜¯å°†çº¦å®šä¿—ç§°çš„é…ç½®ï¼Œå…¨éƒ¨å…¬å…±åŒ–äº†ï¼Œä¹Ÿå°±æ˜¯åšäº†ä¸€æ¬¡äºŒæ¬¡å°è£…ã€‚è¿™æ ·çš„å¥½å¤„åœ¨äºï¼Œæˆ‘ä»¬ä¸å¿…è¦åœ¨ç¹å¤šçš„é…ç½®ä»£ç ä¸­å¯»æ‰¾éœ€è¦çš„é…ç½®ã€‚</p></blockquote><p>ç®€å•æ–°å»ºä¸€ä¸ªé…ç½®å…¥å£å°±èƒ½æ“ä½œæˆ‘ä»¬å¤§å¤šæ•°æƒ³è¦çš„åŠŸèƒ½ã€‚åœ¨ <code>root</code> ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª <code>vue.config.js</code> æ–‡ä»¶ï¼Œä½œä¸ºæˆ‘ä»¬ <code>webpack</code> çš„é…ç½®æ–‡ä»¶ã€‚</p><p><strong>åˆå§‹åŒ– vue é…ç½®</strong></p><pre><code class="js">const autoprefixer = require(&#39;autoprefixer&#39;)module.exports = {  publicPath: process.env === &#39;production&#39; ? &#39;&#39; : &#39;/&#39;,  outputDir: &#39;dist&#39;,  assetsDir: &#39;static&#39;,  filenameHashing: true,  lintOnSave: true,  runtimeCompiler: false,  transpileDependencies: [/\/node_modules\/vue-echarts\//, /\/node_modules\/resize-detector\//],  productionSourceMap: false}</code></pre><p>ç®€å•çš„é…ç½®å®Œæˆåï¼Œæˆ‘ä»¬å¼•å…¥ä¸€ä¸ª <code>sass</code> å·¥å…·ç”¨äºç¼–å†™ <code>sass</code>æ–‡ä»¶</p><blockquote><p>ç”¨æ³•è§ sass <a href="https://www.sass.hk/docs/" target="_blank" rel="noopener">å‚è€ƒèµ„æ–™</a>ï¼</p></blockquote><h5 id="ä½¿ç”¨-Sass"><a href="#ä½¿ç”¨-Sass" class="headerlink" title="ä½¿ç”¨ Sass"></a>ä½¿ç”¨ Sass</h5><h6 id="å®‰è£…ä¸ä½¿ç”¨"><a href="#å®‰è£…ä¸ä½¿ç”¨" class="headerlink" title="å®‰è£…ä¸ä½¿ç”¨"></a>å®‰è£…ä¸ä½¿ç”¨</h6><pre><code class="sh">yarn add -D sass sass-loader</code></pre><h6 id="å¦‚ä½•å¤„ç†æ ·å¼"><a href="#å¦‚ä½•å¤„ç†æ ·å¼" class="headerlink" title="å¦‚ä½•å¤„ç†æ ·å¼"></a>å¦‚ä½•å¤„ç†æ ·å¼</h6><p>åœ¨ <code>assets</code> ç›®å½•ä¸­å»ºç«‹ä¸€ä¸ª styles æ–‡ä»¶ä¸“é—¨æ¥å­˜æ”¾æ ·å¼æ–‡ä»¶ï¼Œæ–°å¢å…¥å£<code>index.scss</code>æ–‡ä»¶ï¼Œä¾¿äº JavaScript å¼•å…¥ï¼Œå¢åŠ  utils.scssã€reset.scssã€varibles æ–‡ä»¶ã€‚</p><blockquote><p>è¿™äº›æ ·å¼å·¥å…·éƒ½æ˜¯ä¸ºäº†æå‡æˆ‘ä»¬ <code>scss</code> å¼€å‘æ•ˆç‡ï¼Œå…·æœ‰ç•…å¿«çš„å¼€å‘ä½“éªŒï¼</p></blockquote><h6 id="ä½¿ç”¨-varibles-å˜é‡æ–‡ä»¶"><a href="#ä½¿ç”¨-varibles-å˜é‡æ–‡ä»¶" class="headerlink" title="ä½¿ç”¨ varibles å˜é‡æ–‡ä»¶"></a>ä½¿ç”¨ varibles å˜é‡æ–‡ä»¶</h6><p>ä¸ºäº†æå‡æˆ‘ä»¬ä»£ç çš„å¯è¯»æ€§ï¼Œå¤ç”¨æ€§ã€‚ä½¿ç”¨ <code>sass</code> å˜é‡å¿…ä¸å¯å°‘ã€‚</p><p>è¿˜æœ‰ä¸€ç‚¹å°±æ˜¯åˆ©äºå…¨å±€ä¿®æ”¹æ ·å¼ï¼Œå¦‚æœéœ€è¦æ›´æ¢çš®è‚¤è¿™ä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬åªéœ€è¦æ›´æ”¹å…¨å±€çš„ä¸»é¢˜è‰²ï¼Œå³å¯æ›´æ¢ä¸»é¢˜ï¼Œé‚£æ ·æ›´åŠ æ–¹ä¾¿ã€‚</p><pre><code class="scss">// ä¸»é¢˜è‰²$color-red: #ff3333;$color-purple: #ff33a9;$color-orange: #ff8833;$color-blue: #3377ff;// æ–‡å­—è‰²$color-black: #000;$color-dark: #333;$color-deep: #555;$color-pl: #999999;$color-weak: #B3B3B3;$color-white: #fff;// èƒŒæ™¯è‰²$bg-bar: #F9F9F9;$bg-page: #F3F3F3;$bg-page-light: #F9F9F9;</code></pre><p>ä½¿ç”¨å˜é‡ä¹‹åï¼Œsass æ–‡ä»¶ä¸ä¼šç›´æ¥ç”Ÿæ•ˆï¼Œè‡³å°‘åœ¨ vue æ–‡ä»¶ é‡Œé¢æ˜¯è®¿é—®ä¸åˆ°çš„ã€‚<br>éœ€è¦åœ¨ <code>vue.config.js</code> é‡Œé¢å¢åŠ å¦‚ä¸‹é…ç½®ã€‚</p><pre><code class="js">module.exports = {    // ...    css: {        sourceMap: true,        loaderOptions: {            sass: {                prependData: `        @import &quot;@/assets/styles/variable.scss&quot;;        `            }        }    }}</code></pre><h6 id="è¦†ç›–é»˜è®¤æ ·å¼"><a href="#è¦†ç›–é»˜è®¤æ ·å¼" class="headerlink" title="è¦†ç›–é»˜è®¤æ ·å¼"></a>è¦†ç›–é»˜è®¤æ ·å¼</h6><p>å¸¸è§„æ“ä½œ, å¼•å…¥ reset.scss å°†é»˜è®¤æ ·å¼è¦†ç›–æ‰</p><pre><code class="scss">/* http://meyerweb.com/eric/tools/css/reset/   v2.0 | 20110126   License: none (public domain)*/html, body, div, span, applet, object, iframe,h1, h2, h3, h4, h5, h6, p, blockquote, pre,a, abbr, acronym, address, big, cite, code,del, dfn, em, img, ins, kbd, q, s, samp,small, strike, strong, sub, sup, tt, var,b, u, i, center,dl, dt, dd, ol, ul, li,fieldset, form, label, legend,table, caption, tbody, tfoot, thead, tr, th, td,article, aside, canvas, details, embed,figure, figcaption, footer, header, hgroup,menu, nav, output, ruby, section, summary,time, mark, audio, video {    margin: 0;    padding: 0;    border: 0;    font-size: 100%;    font: inherit;    vertical-align: baseline;}/* HTML5 display-role reset for older browsers */article, aside, details, figcaption, figure,footer, header, hgroup, menu, nav, section {    display: block;}body {    line-height: 1;}ol, ul {    list-style: none;}blockquote, q {    quotes: none;}blockquote:before, blockquote:after,q:before, q:after {    content: &#39;&#39;;    content: none;}table {    border-collapse: collapse;    border-spacing: 0;}html, body {  width: 100%;  height: 100%;  overflow: auto;  margin: 0;  scroll-behavior: smooth;  -webkit-overflow-scrolling: touch;}</code></pre><h6 id="ä½¿ç”¨æ ·å¼å·¥å…·é›†"><a href="#ä½¿ç”¨æ ·å¼å·¥å…·é›†" class="headerlink" title="ä½¿ç”¨æ ·å¼å·¥å…·é›†"></a>ä½¿ç”¨æ ·å¼å·¥å…·é›†</h6><p>æœ‰æ—¶å€™æˆ‘ä»¬å‘ç°ï¼Œå…‰æ˜¯å¼•å…¥å˜é‡è¿˜ä¸å¤Ÿï¼Œå˜é‡å·¥å…·åªèƒ½å…è®¸æˆ‘ä»¬åœ¨ css ç±»æ–‡ä»¶ä¸­ä½¿ç”¨ã€‚å‡å¦‚æˆ‘æƒ³ç€æ¨¡ç‰ˆä¸­ç›´æ¥ä½¿ç”¨æ ·å¼ï¼Œæœ‰æ²¡æœ‰æ›´å¿«çš„æ–¹æ¡ˆå‘¢ï¼Ÿ<br>å½“ç„¶æœ‰çš„ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªå¸¸ç”¨çš„æ ·å¼å·¥å…·é›†ã€‚è®¾ç½®ä¸€äº›èƒŒæ™¯é¢œè‰²ã€å­—ä½“é¢œè‰²ã€ç›’å­æ¨¡å‹ä¸­çš„å¸¸è§„æ“ä½œã€‚</p><blockquote><p>è¦æ˜¯æœ‰è®¾è®¡è§„èŒƒæ›´å¥½å“¦ï¼Œæˆ‘ä¹Ÿæ˜¯å¸¸å¸¸å‘è®¾è®¡å¸ˆæå‡ºè¦æ±‚ï¼Œä¸€å®šè¦åˆ¶å®šå‡ºä¸€å¥—äº§å“çš„è®¾è®¡è§„èŒƒã€‚</p></blockquote><pre><code class="scss">/* // utils å·¥å…·// é¢œè‰² */.bg-red {background-color: $color-red!important;}.bg-purple {background-color: $color-purple!important;}.bg-orange {background-color: $color-orange!important;}.bg-blue {background-color: $color-blue!important;}.color-red {color: $color-red!important;}.color-purple {color: $color-purple!important;}.color-orange {color: $color-orange!important;}.color-blue {color: $color-blue!important;}.text-black {color: #000;}.text-dark {color: #333;}.text-deep {color: #555;}.text-weak {color: #B3B3B3;}.text-white {color: #fff;}/* // å­—ä½“ */.f10 {font-size: 10px;}.f12 {font-size: 12px;}.f14 {font-size: 14px;}.f15 {font-size: 15px;}.f17 {font-size: 17px;}.f20 {font-size: 20px;}.f24 {font-size: 24px;}/* // æ–‡å­—å¯¹é½ */.tl {text-align: left;}.tc {text-align: center;}.tr {text-align: right;}/* // æµ®åŠ¨ä¸æ¸…é™¤æµ®åŠ¨ */.fl {float: left;}.fr {float: right;}.fix {*zoom: 1;}.fix:after{display:table; content:&#39;&#39;; clear:both;}/* // æ˜¾ç¤º */.dn{display:none;}.di{display:inline;}.db{display:block;}.dib{display:inline-block;}.dt{display:table;}div.dib{*display:inline; *zoom:1;}.vm {vertical-align: middle;}.vib {display:inline-block; vertical-align: middle;}/* // å®šä½ */.pr {position: relative;}.pa {position: absolute;}.pf {position: fixed;}/* // ç›’å­æ¨¡å‹ */.ml4 {margin-left: 4px;}.mr4 {margin-right: 4px;}.mt4 {margin-top: 4px;}.mb4 {margin-bottom: 4px;}.ml8 {margin-left: 8px;}.mr8 {margin-right: 8px;}.mt8 {margin-top: 8px;}.mb8 {margin-bottom: 8px;}.ml12 {margin-left: 12px;}.mr12 {margin-right: 12px;}.mt12 {margin-top: 12px;}.mb12 {margin-bottom: 12px;}.ml16 {margin-left: 16px;}.mr16 {margin-right: 16px;}.mt16 {margin-top: 16px;}.mb16 {margin-bottom: 16px;}.ml20 {margin-left: 20px;}.mr20 {margin-right: 20px;}.mt20 {margin-top: 20px;}.mb20 {margin-bottom: 20px;}.ml24 {margin-left: 24px;}.mr24 {margin-right: 24px;}.mt24 {margin-top: 24px;}.mb24 {margin-bottom: 24px;}.ml10 {margin-left: 10px;}.mr10 {margin-right: 10px;}.mt10 {margin-top: 10px;}.mb10 {margin-bottom: 10px;}.ml15 {margin-left: 15px;}.mr15 {margin-right: 15px;}.mt15 {margin-top: 15px;}.mb15 {margin-bottom: 15px;}/* // æŒ‰é’®ç¦ç”¨ */.disabled{outline:0 none; cursor:default!important; opacity:.4; filter:alpha(opacity=40); -ms-pointer-events:none; pointer-events:none;}</code></pre><h6 id="å¢åŠ æ ·å¼å…¥å£æ–‡ä»¶"><a href="#å¢åŠ æ ·å¼å…¥å£æ–‡ä»¶" class="headerlink" title="å¢åŠ æ ·å¼å…¥å£æ–‡ä»¶"></a>å¢åŠ æ ·å¼å…¥å£æ–‡ä»¶</h6><p>æœ€åä¸€æ­¥ï¼Œæ–°å»ºä¸€ä¸ªå…¥å£æ–‡ä»¶ï¼Œå°†æ ·å¼å·¥å…·ç±»å…¨éƒ¨å¯¼å…¥è¿›æ¥ï¼Œä¾›ä¸»ç¨‹åºå¼•å…¥ã€‚</p><pre><code class="scss">// index.scss æ–‡ä»¶import &#39;./reset.scss&#39;;import &#39;./varibles.scss&#39;;improt &#39;./utils/scss&#39;;</code></pre><p>åœ¨ <code>main.js</code> ä¸­ç›´æ¥å¼•å…¥ <code>index.scss</code></p><pre><code class="js">import &#39;@/assets/styles/index.scss&#39;</code></pre><h3 id="vue-ä¸­å†™æ ·å¼è¦æ³¨æ„å“ªäº›æ–¹é¢ï¼Œæœ‰å“ªäº›æŠ€å·§å‘¢ï¼Ÿ"><a href="#vue-ä¸­å†™æ ·å¼è¦æ³¨æ„å“ªäº›æ–¹é¢ï¼Œæœ‰å“ªäº›æŠ€å·§å‘¢ï¼Ÿ" class="headerlink" title="vue ä¸­å†™æ ·å¼è¦æ³¨æ„å“ªäº›æ–¹é¢ï¼Œæœ‰å“ªäº›æŠ€å·§å‘¢ï¼Ÿ"></a>vue ä¸­å†™æ ·å¼è¦æ³¨æ„å“ªäº›æ–¹é¢ï¼Œæœ‰å“ªäº›æŠ€å·§å‘¢ï¼Ÿ</h3><h4 id="é¿å…å…¨å±€æ±¡æŸ“"><a href="#é¿å…å…¨å±€æ±¡æŸ“" class="headerlink" title="é¿å…å…¨å±€æ±¡æŸ“"></a>é¿å…å…¨å±€æ±¡æŸ“</h4><p>åœ¨é¡µé¢ä¸­å†™ <code>css/scss</code> åŠ ä¸Š <code>scoped</code>ï¼Œ<code>scoped</code> çš„åŠŸèƒ½å°±æ˜¯ä½¿é¡µé¢çš„æ ·å¼æ˜¯å±€éƒ¨çš„ï¼Œä¸è®©å½±å“å…¶ä»–é¡µé¢çš„æ ·å¼ã€‚</p><h4 id="bem-è§„èŒƒ"><a href="#bem-è§„èŒƒ" class="headerlink" title="bem è§„èŒƒ"></a>bem è§„èŒƒ</h4><p>æˆ‘ä»¬å¤§å¤šæ•°äººæ—¶å€™ä¼šé‡åˆ°é—®é¢˜ï¼Œ<strong>æ ·å¼åµŒå¥—å¤ªå¤šäº†æ€ä¹ˆå‘½å</strong></p><blockquote><p>BEMæ˜¯å—ï¼ˆblockï¼‰ã€å…ƒç´ ï¼ˆelementï¼‰ã€ä¿®é¥°ç¬¦ï¼ˆmodifierï¼‰çš„ç®€å†™ï¼Œç”± Yandex å›¢é˜Ÿæå‡ºçš„ä¸€ç§å‰ç«¯ CSS å‘½åæ–¹æ³•è®ºã€‚</p></blockquote><p>åå­—å¤ªé•¿æ˜“è¯»æ€§å¤ªå·®</p><pre><code class="scss">.cardbox {    .cardbox-card {        .cardbox-card-wrapper            .cardbox-card-wrapper-header {                .cardbox-card-wrapper-header-title {                    // ...                }            }            .cardbox-card-wrapper-body{                .cardbox-card-item {                    .cardbox-card-item-title {                        // ...                    }                }          }        }    }}</code></pre><h4 id="bem-ä½¿ç”¨æ–¹å¼"><a href="#bem-ä½¿ç”¨æ–¹å¼" class="headerlink" title="bem ä½¿ç”¨æ–¹å¼"></a>bem ä½¿ç”¨æ–¹å¼</h4><p><code>block-name__element-name--color</code></p><ul><li>åŒºåˆ†å—ï¼Œå­å…ƒç´ ï¼Œä¿®é¥°å…ƒç´ </li><li>å—ï¼Œé¡µé¢ä¸­ç‹¬ç«‹çš„å•å…ƒ</li><li>å­å…ƒç´ ï¼Œå—é‡Œé¢çš„å„¿å­ <code>card__item</code> ä½¿ç”¨ <code>__</code> è¿æ¥</li><li>å­å…ƒç´ é•¿å‘½åä½¿ç”¨ - è¿æ¥</li><li>ä¿®é¥°ï¼ˆæ˜“å˜çš„ï¼‰<code>card__item--warning</code> ä½¿ç”¨ <code>--</code></li></ul><p>æˆ‘ä»¬ä½¿ç”¨ bem æ”¹é€ æ ·å¼</p><pre><code class="scss">.cardbox {    &amp;__header {        &amp;__title {            //...        }    }    &amp;__body {        &amp;__item {            &amp;__title {                //...            }        }    }}</code></pre><blockquote><p>bem ä¸€èˆ¬æ¨èå­å…ƒç´ åµŒå¥—å°½é‡åœ¨2-3å±‚ä»¥å†…</p></blockquote><p>ä½†æ˜¯æˆ‘ä»¬å‘ç°æ ·å¼å­å…ƒç´ åµŒå¥—æœ‰ç‚¹å¤šï¼Œä½¿ç”¨äº†ä¸¤é‡å­å…ƒç´ åµŒå¥—ã€‚</p><p>å¤§è‡´åŸç†æ˜¯<strong>å°è¯•åˆ†ç¦»çˆ¶å­å…ƒç´ çš„å…³ç³»ï¼ŒæŠŠå¡ç‰‡æœ¬èº«å½“ä½œä¸€ä¸ªå—çœ‹å¾…ã€‚</strong></p><p>ä¸‹é¢æ¥è¯•ç€å»å‡å°‘åµŒå¥—ï¼š</p><pre><code class="scss">.cardbox {    &amp;__header {        &amp;__title {            //...        }    }    &amp;__body {        .card {            &amp;__title {                //...            }        }    }}</code></pre><p>ç°åœ¨ç¼–å†™æ ·å¼æ•ˆç‡æé«˜ä¹Ÿæ›´åŠ è§„èŒƒäº†ï¼Œé‚£ä¹ˆç¼–å†™ HTML ä¹Ÿæ˜¯æœ‰å¾ˆå¤šç´¯èµ˜çš„ä»£ç ã€‚</p><p>æ¯”å¦‚å¤§å¤šæ•°æ ‡ç­¾éƒ½æ˜¯å‰å¼€åé—­çš„ã€‚é€šè¿‡ pug æˆ‘ä»¬å¯ä»¥çœç•¥å¾ˆå¤šå­—ç¬¦çš„æ•²æ‰“ï¼Œä¸‹é¢æˆ‘ä»¬è°ˆè°ˆå¦‚ä½•ä½¿ç”¨ pug ç¼–å†™æ¨¡ç‰ˆã€‚</p><blockquote><p>å½“ç„¶å–œæ¬¢å“ªç§ HTML ç¼–å†™é£æ ¼è§äººè§æ™ºå•¦ï¼Œæˆ‘è‡ªå·±æ›´åŠ å€¾å‘ pugï¼Œé‚£ç§ç¼©è¿›å’Œç®€æ´çš„è¡¨è¾¾ï¼Œæœ‰ç§åœ¨å†™ scss çš„æ„Ÿè§‰ã€‚</p></blockquote><h3 id="å¦‚ä½•ä½¿ç”¨-pug"><a href="#å¦‚ä½•ä½¿ç”¨-pug" class="headerlink" title="å¦‚ä½•ä½¿ç”¨ pug"></a>å¦‚ä½•ä½¿ç”¨ pug</h3><h4 id="å®è·µï¼šç±»ä¼¼-sassï¼Œé¦–å…ˆå®‰è£…-pug-å’Œ-pug-çš„-loader"><a href="#å®è·µï¼šç±»ä¼¼-sassï¼Œé¦–å…ˆå®‰è£…-pug-å’Œ-pug-çš„-loader" class="headerlink" title="å®è·µï¼šç±»ä¼¼ sassï¼Œé¦–å…ˆå®‰è£… pug å’Œ pug çš„ loader"></a>å®è·µï¼šç±»ä¼¼ sassï¼Œé¦–å…ˆå®‰è£… pug å’Œ pug çš„ loader</h4><pre><code>yarn add -D pug pug-html-loader pug-plain-loader</code></pre><h4 id="å®Œæˆé…ç½®"><a href="#å®Œæˆé…ç½®" class="headerlink" title="å®Œæˆé…ç½®"></a>å®Œæˆé…ç½®</h4><pre><code class="js">module.exports = {  // ...  chainWebpack: (config) =&gt; {    config.module      .rule(&#39;pug&#39;)      .test(/\.pug$/)      .use(&#39;pug-html-loader&#39;)      .loader(&#39;pug-html-loader&#39;)      .end()  }}</code></pre><h4 id="ç¼–å†™-pug-ä»£ç "><a href="#ç¼–å†™-pug-ä»£ç " class="headerlink" title="ç¼–å†™ pug ä»£ç "></a>ç¼–å†™ pug ä»£ç </h4><p>ä½¿ç”¨ scss å·¥å…·ä¸ pug å®Œç¾æ­é…ï¼Œå°‘å†™å¾ˆå¤šä»£ç </p><pre><code class="html">// ç™»é™†&lt;template lang=&quot;pug&quot;&gt;  .login    h1.login__title.ml15 æ³¨å†Œ/ç™»é™†    .login__form.mt15.ml15      van-field.login__form__input(placeholder=&quot;è¾“å…¥æ‰‹æœºå·&quot; v-model=&quot;phone&quot;)      .login__form__protocol.mt15        .login__form__protocol__tips.dib.text-weak æ³¨å†Œæˆ–ç™»å½•å³è¡¨ç¤ºåŒæ„        .login__form__protocol__name.dib.color-orange ã€Šç”¨æˆ·åè®®ã€‹      app-button.mt15(size=&quot;large&quot;        theme=&quot;orange&quot;        :disabled=&quot;phone.length !== 11&quot;        @click=&quot;handleSubmit&quot;      ) ä¸‹ä¸€æ­¥&lt;/template&gt;</code></pre><p>æˆ‘ä»¬å·²ç»å¼•å…¥äº†æ ·å¼ï¼Œæ¥ä¸‹æ¥æˆ‘å°†è°ˆè°ˆå…¶ä»–èµ„æºçš„å¼•å…¥</p><h3 id="å¦‚ä½•ç®¡ç†ä½ çš„èµ„æº"><a href="#å¦‚ä½•ç®¡ç†ä½ çš„èµ„æº" class="headerlink" title="å¦‚ä½•ç®¡ç†ä½ çš„èµ„æº"></a>å¦‚ä½•ç®¡ç†ä½ çš„èµ„æº</h3><h4 id="åŸç†ä¸è§£å†³æ–¹æ¡ˆ-2"><a href="#åŸç†ä¸è§£å†³æ–¹æ¡ˆ-2" class="headerlink" title="åŸç†ä¸è§£å†³æ–¹æ¡ˆ"></a>åŸç†ä¸è§£å†³æ–¹æ¡ˆ</h4><p>æˆ‘æš‚æ—¶æŠŠèµ„æºåˆ†ä¸ºä¸‹é¢å‡ ç§</p><ul><li>å­—ä½“</li><li>ICON</li><li>å›¾ç‰‡</li><li>æ ·å¼<br><img src="https://user-gold-cdn.xitu.io/2019/12/30/16f55578916de772?imageslim" alt="èµ„æº"><br>æŠŠä»–ä»¬å„è‡ªæ–°å»ºä¸€ä¸ªç›®å½•ï¼Œéƒ½æ”¾åœ¨ assets ç›®å½•ä¸‹é¢åˆ†é—¨åˆ«ç±»ï¼Œä¾›å…¶ä»–åœ°æ–¹è°ƒç”¨ã€‚<br>ä½¿ç”¨ alias æ›´å¥½é‡å‘½åï¼Œä½¿ä¹‹æ›´ä¾¿æ·çš„è®¿é—®åˆ°ã€‚</li></ul><p>å¢åŠ  <code>vue.config.js</code> é…ç½® ,è®¾ç½®<code>assets</code>åˆ«å</p><pre><code class="js">const path = require(&#39;path&#39;)function resolve(dir) {  return path.join(__dirname, dir)}module.exports = {  //...  chainWebpack: (config) =&gt; {    config.resolve.alias.set(&#39;@&#39;, resolve(&#39;src&#39;)).set(&#39;@assets&#39;, resolve(&#39;src/assets&#39;))  }}</code></pre><h5 id="ICON"><a href="#ICON" class="headerlink" title="ICON"></a>ICON</h5><h6 id="å¼•å…¥-iconfont"><a href="#å¼•å…¥-iconfont" class="headerlink" title="å¼•å…¥ iconfont"></a>å¼•å…¥ iconfont</h6><ul><li>(1) <a href="https://www.iconfont.cn/manage/index" target="_blank" rel="noopener">iconfont</a> é˜¿é‡Œå›¾æ ‡é¡¹ç›®ä¸­ä¸‹è½½ï¼Œå°†æ•´ä¸ªé¡¹ç›®å›¾æ ‡åŒ…ä¸€èµ·ä¸‹è½½ä¸‹æ¥</li></ul><p><img src="https://user-gold-cdn.xitu.io/2019/12/27/16f462a5119bdcdf?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="ICON"></p><ul><li>(2) å¼•å…¥ iconfont æ ·å¼<br>éœ€è¦ä¸‹é¢å››ä¸ªæ–‡ä»¶</li></ul><ul><li><code>iconfont.eot</code></li><li><code>iconfont.ttf</code></li><li><code>iconfont.woff</code></li><li><code>iconfont.woff2</code></li></ul><ul><li>(3)  é¡¹ç›®ä¸­å¼•å…¥ iconfont</li></ul><p>è®© <code>icon</code> ç»„ä»¶åŒ–</p><pre><code class="html">&lt;template&gt;  &lt;i class=&quot;iconfont&quot; v-on=&quot;$listeners&quot; :class=&quot;name&quot;&gt;&lt;/i&gt;&lt;/template&gt;&lt;script&gt;export default {  props: {    name: String  }}&lt;/script&gt;&lt;style lang=&quot;scss&quot; scoped&gt;.iconfont {  font-size: 16px;  color: $color-icon;}&lt;/style&gt;</code></pre><h6 id="å¼•å…¥å›¾ç‰‡ä½œä¸º-ICON"><a href="#å¼•å…¥å›¾ç‰‡ä½œä¸º-ICON" class="headerlink" title="å¼•å…¥å›¾ç‰‡ä½œä¸º ICON"></a>å¼•å…¥å›¾ç‰‡ä½œä¸º ICON</h6><p>è®©å›¾ç‰‡ç»„ä»¶åŒ–ï¼Œæˆ‘ä»¬å†æ¥å†™ä¸€ä¸ª img ç»„ä»¶</p><pre><code class="html">&lt;template lang=&quot;pug&quot;&gt;  img(    :src=&quot;require(`@/assets/images/${name}.png`)&quot;    v-bind=&quot;$attrs&quot;    v-on=&quot;$listeners&quot;    :style=&quot;{&#39;width&#39;: width ? width + &#39;px&#39; : size + &#39;px&#39;, &#39;height&#39;: height ? height + &#39;px&#39; : size + &#39;px&#39; }&quot;)&lt;/template&gt;&lt;script&gt;export default {  name: &#39;app-img&#39;,  props: {    name: {      type: String,      default: &#39;&#39;    },    size: {      type: Number,      default: 16    },    width: {      type: Number,      default: 0    },    height: {      type: Number,      default: 0    }  }}&lt;/script&gt;</code></pre><h3 id="å¦‚ä½•ç®¡ç†ä½ çš„è·¯ç”±"><a href="#å¦‚ä½•ç®¡ç†ä½ çš„è·¯ç”±" class="headerlink" title="å¦‚ä½•ç®¡ç†ä½ çš„è·¯ç”±"></a>å¦‚ä½•ç®¡ç†ä½ çš„è·¯ç”±</h3><h4 id="åŸç†ä¸è§£å†³æ–¹æ¡ˆ-3"><a href="#åŸç†ä¸è§£å†³æ–¹æ¡ˆ-3" class="headerlink" title="åŸç†ä¸è§£å†³æ–¹æ¡ˆ"></a>åŸç†ä¸è§£å†³æ–¹æ¡ˆ</h4><p>ä½¿ç”¨ vue-routerï¼Œä½¿ç”¨<code>import()</code> ç”Ÿæˆå¼‚æ­¥è·¯ç”±ï¼Œåªæœ‰åœ¨è®¿é—®æ—¶å€™æ‰ä¼šåŠ è½½æ¨¡å—ã€‚</p><p>ä¸ºä»€ä¹ˆä½¿ç”¨ <code>import()</code> ä¼šå¼‚æ­¥åŠ è½½æ¨¡å—ï¼Ÿ</p><blockquote><p>MDNï¼šåœ¨æ‚¨å¸Œæœ›æŒ‰ç…§ä¸€å®šçš„æ¡ä»¶æˆ–è€…æŒ‰éœ€åŠ è½½æ¨¡å—çš„æ—¶å€™ï¼ŒåŠ¨æ€import() æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚è€Œé™æ€å‹çš„ import æ˜¯åˆå§‹åŒ–åŠ è½½ä¾èµ–é¡¹çš„æœ€ä¼˜é€‰æ‹©ï¼Œä½¿ç”¨é™æ€ import æ›´å®¹æ˜“ä»ä»£ç é™æ€åˆ†æå·¥å…·å’Œ tree shaking ä¸­å—ç›Šã€‚</p></blockquote><p>è¯´ç™½äº†å°±æ˜¯èµ·åˆ°ä¸€ä¸ª<strong>æŒ‰éœ€åŠ è½½</strong>çš„ç›®çš„ã€‚ç°åœ¨å¤§å¤šæ•°å®ç°çš„æŒ‰éœ€åŠ è½½ï¼ŒåŸºæœ¬éƒ½æ˜¯ä¾èµ– <code>import()</code> è¿™ä¸ªæ–¹æ³•ã€‚</p><h5 id="å®‰è£…-vue-router"><a href="#å®‰è£…-vue-router" class="headerlink" title="å®‰è£… vue-router"></a>å®‰è£… vue-router</h5><pre><code class="sh">yarn add vue-router</code></pre><p>å®‰è£…å®Œ <code>router</code>ï¼Œåœ¨ç¼–å†™ <code>router</code> å…ˆåˆ›å»ºé¡µé¢</p><h5 id="æ–°å»ºä¸€ä¸ªç©ºé¡µé¢"><a href="#æ–°å»ºä¸€ä¸ªç©ºé¡µé¢" class="headerlink" title="æ–°å»ºä¸€ä¸ªç©ºé¡µé¢"></a>æ–°å»ºä¸€ä¸ªç©ºé¡µé¢</h5><p>src ç›®å½•ä¸‹æ–°å¢ views ç›®å½•å­˜æ”¾é¡µé¢æ–‡ä»¶ã€‚åˆ›å»º index ç›®å½•å’Œ home é¡µé¢</p><pre><code class="html">&lt;template lang=&quot;pug&quot;&gt;  .home é¦–é¡µ&lt;/template&gt;&lt;script&gt;export default {}&lt;/script&gt;&lt;style lang=&quot;scss&quot; scoped&gt;&lt;/style&gt;</code></pre><h5 id="ç¼–å†™è·¯ç”±"><a href="#ç¼–å†™è·¯ç”±" class="headerlink" title="ç¼–å†™è·¯ç”±"></a>ç¼–å†™è·¯ç”±</h5><pre><code class="js">const routes = [    {        // é¦–é¡µ        path: &#39;/&#39;,        name: &#39;index&#39;,        redirect: &#39;/home&#39;,        component: App,        children: [            {                // é¦–é¡µ                path: &#39;home&#39;,                name: &#39;home&#39;,                // è·¯ç”±æ‡’åŠ è½½                component: () =&gt;                    import(                        /* webpackChunkName: &quot;index&quot; */ &#39;../views/index/home.vue&#39;                    )            }        ]    }]Vue.use(VueRouter)const router = new VueRouter({    mode: &#39;history&#39;,    routes: routes,    base: process.env.BASE_URL,    props: true})export default router</code></pre><h5 id="ä¸ºäº†æ¶ˆé™¤-æ˜¾å¾—è·¯å¾„æ›´åŠ å¥½çœ‹ç®€æ´ï¼Œæˆ‘ä»¬é‡‡ç”¨-history-æ¨¡å¼ï¼Œä½†æ˜¯-history-æ¨¡å¼æœ‰ä¸ªé—®é¢˜å°±æ˜¯ï¼Œå¼‚æ­¥è·¯ç”±æ²¡æœ‰ç¼“å­˜åœ¨é¡µé¢ä¸­ï¼Œç¬¬ä¸€æ¬¡è¿›å…¥é¡µé¢ä¼šæ‰¾ä¸åˆ°"><a href="#ä¸ºäº†æ¶ˆé™¤-æ˜¾å¾—è·¯å¾„æ›´åŠ å¥½çœ‹ç®€æ´ï¼Œæˆ‘ä»¬é‡‡ç”¨-history-æ¨¡å¼ï¼Œä½†æ˜¯-history-æ¨¡å¼æœ‰ä¸ªé—®é¢˜å°±æ˜¯ï¼Œå¼‚æ­¥è·¯ç”±æ²¡æœ‰ç¼“å­˜åœ¨é¡µé¢ä¸­ï¼Œç¬¬ä¸€æ¬¡è¿›å…¥é¡µé¢ä¼šæ‰¾ä¸åˆ°" class="headerlink" title="ä¸ºäº†æ¶ˆé™¤ # æ˜¾å¾—è·¯å¾„æ›´åŠ å¥½çœ‹ç®€æ´ï¼Œæˆ‘ä»¬é‡‡ç”¨ history æ¨¡å¼ï¼Œä½†æ˜¯ history æ¨¡å¼æœ‰ä¸ªé—®é¢˜å°±æ˜¯ï¼Œå¼‚æ­¥è·¯ç”±æ²¡æœ‰ç¼“å­˜åœ¨é¡µé¢ä¸­ï¼Œç¬¬ä¸€æ¬¡è¿›å…¥é¡µé¢ä¼šæ‰¾ä¸åˆ°"></a>ä¸ºäº†æ¶ˆé™¤ # æ˜¾å¾—è·¯å¾„æ›´åŠ å¥½çœ‹ç®€æ´ï¼Œæˆ‘ä»¬é‡‡ç”¨ history æ¨¡å¼ï¼Œä½†æ˜¯ history æ¨¡å¼æœ‰ä¸ªé—®é¢˜å°±æ˜¯ï¼Œå¼‚æ­¥è·¯ç”±æ²¡æœ‰ç¼“å­˜åœ¨é¡µé¢ä¸­ï¼Œç¬¬ä¸€æ¬¡è¿›å…¥é¡µé¢ä¼šæ‰¾ä¸åˆ°</h5><p>åœ¨ vue.config.js ä¸­å¢åŠ é…ç½®ï¼Œå¼€å‘ç¯å¢ƒå¯ä»¥è®¿é—®åˆ°ï¼Œæ¢å¤æ­£å¸¸</p><pre><code class="js">module.exports = {  // ...  devServer: {    historyApiFallback: true  }}</code></pre><blockquote><p>å…³äºè·¯ç”±è¿˜æœ‰å¾ˆå¤šå¯ä»¥ç ”ç©¶åˆ°åœ°æ–¹ï¼Œå¯ä»¥è‡ªè¡Œç ”ç©¶å“¦ï¼</p></blockquote><h3 id="ç»„ä»¶åŒ–å¼€å‘"><a href="#ç»„ä»¶åŒ–å¼€å‘" class="headerlink" title="ç»„ä»¶åŒ–å¼€å‘"></a>ç»„ä»¶åŒ–å¼€å‘</h3><h4 id="åŸç†ä¸è§£å†³æ–¹æ¡ˆ-4"><a href="#åŸç†ä¸è§£å†³æ–¹æ¡ˆ-4" class="headerlink" title="åŸç†ä¸è§£å†³æ–¹æ¡ˆ"></a>åŸç†ä¸è§£å†³æ–¹æ¡ˆ</h4><p>ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬æ ¹æ®ç»„ä»¶çš„å¤ç”¨åº¦ï¼Œåˆ†ç»™åŸºç¡€ï¼ˆå…¬å…±ï¼‰ç»„ä»¶å’Œä¸šåŠ¡ç»„ä»¶ã€‚</p><p>ä¸ºäº†èŠ‚çœæ—¶é—´ï¼Œå¿«é€Ÿå¼€å‘ï¼Œè¿™é‡ŒåŸºç¡€ç»„ä»¶å¤§éƒ¨åˆ†å¼•ç”¨å¼€æºç»„ä»¶ã€‚å½“ç„¶ä¸èƒ½ç›´æ¥å°±ç”¨å“¦ã€‚</p><p>ä¸€èˆ¬è¦è¿›è¡ŒäºŒæ¬¡å°è£…ï¼Œä¹Ÿå°±æ˜¯é«˜é˜¶ç»„ä»¶å¼€å‘ã€‚</p><ol><li>é€šè¿‡ä¿®æ”¹å’Œè¦†ç›–å½“å‰ç»„ä»¶çš„æ ·å¼æ¥è¾¾åˆ°ä¿®æ”¹æ ·å¼çš„ä½œç”¨ã€‚</li><li>é€šè¿‡æ‹¦æˆªäº‹ä»¶æ¥æ›´æ”¹jsçš„é€»è¾‘ã€‚</li></ol><p>ä¸‹é¢æˆ‘ä»¬å…ˆå¼•å…¥ <code>vant</code> ç»„ä»¶</p><h4 id="å®è·µ-3"><a href="#å®è·µ-3" class="headerlink" title="å®è·µ"></a>å®è·µ</h4><h5 id="å¼•å…¥-vant"><a href="#å¼•å…¥-vant" class="headerlink" title="å¼•å…¥ vant"></a>å¼•å…¥ vant</h5><pre><code class="sh">yarn add vant</code></pre><h4 id="å¯¹åŸºç¡€ç»„ä»¶è¿›è¡ŒäºŒæ¬¡å°è£…å’Œæ”¹é€ "><a href="#å¯¹åŸºç¡€ç»„ä»¶è¿›è¡ŒäºŒæ¬¡å°è£…å’Œæ”¹é€ " class="headerlink" title="å¯¹åŸºç¡€ç»„ä»¶è¿›è¡ŒäºŒæ¬¡å°è£…å’Œæ”¹é€ "></a>å¯¹åŸºç¡€ç»„ä»¶è¿›è¡ŒäºŒæ¬¡å°è£…å’Œæ”¹é€ </h4><p>ä¸‹é¢ 7 æ­¥æ¥å†™å¥½ä¸€ä¸ªå…¬å…±ç»„ä»¶</p><ul><li>(1) æ–°å»ºä¸€ä¸ª <code>components</code> ç›®å½•æ¥å­˜æ”¾åŸºç¡€ç»„ä»¶</li><li>(2) åŸºç¡€ç»„ä»¶å‘½åä¸º <code>app-xxx</code> æˆ– <code>appXxx</code>ï¼Œæ–°å»ºä¸€ä¸ª <code>app-button</code> ç›®å½•ï¼Œæ–°å»º <code>index.vue</code></li><li>(3) æ ¹æ®è®¾è®¡ç¨¿è®¾è®¡å’Œç¼–å†™ç»„ä»¶<blockquote><p>ç¼–å†™ç»„ä»¶ä¹‹å‰é¦–å…ˆè¦è®¾è®¡ç»„ä»¶ï¼Œæ ¹æ®ç»„ä»¶çš„ä¸å˜æ€§å’Œå¯å˜æ€§åŸåˆ™ç¼–å†™ã€‚ä¸å˜æ€§æ˜¯ç»„ä»¶çš„æ ¸å¿ƒï¼Œå¯å˜æ€§æ ¹æ®å‚æ•°å¯¹ç»„ä»¶å¯¹ç›¸å…³éƒ¨åˆ†è¿›è¡Œè°ƒèŠ‚ï¼Œå®ç°å¯é€‰æ‹©çš„åŠŸèƒ½ã€‚</p></blockquote></li><li>(4) å®ç°ç»„ä»¶</li></ul><pre><code class="html">&lt;template lang=&quot;pug&quot;&gt;  div.dib    van-button.btn(      @click=&quot;$emit(&#39;click&#39;)&quot;      :class=&quot;getClass&quot; v-bind=&quot;$attrs&quot;      :style=&quot;{&#39;width&#39;: size === &#39;large&#39; ? &#39;345px&#39;: &#39;&#39;, &#39;backgroundColor&#39;: getBgColor, borderColor: getBgColor, color: getBgColor}&quot;)      slot&lt;/template&gt;&lt;script&gt;import { Button } from &#39;vant&#39;import Vue from &#39;vue&#39;import { getColor } from &#39;@/utils&#39;Vue.use(Button)export default {  name: &#39;app-button&#39;,  props: {    type: {      type: String,      default: &#39;primary&#39;    },    theme: {      type: String,      default: &#39;blue&#39;    },    size: {      type: String,      default: &#39;&#39;    }  },  computed: {    getClass() {      if (!this.type) {        return &#39;&#39;      }      return `app-btn--${this.type}`    },    getBgColor() {      if (!this.theme) {        return &#39;&#39;      }      return getColor(this.theme)    }  }}&lt;/script&gt;&lt;style lang=&quot;scss&quot; scoped&gt;.app-btn  {  ::v-deep &amp;--primary {    padding: 8px 30px;    height: 40px;    border-radius: 4px;    font-size: 15px;    font-weight: 400;    line-height: 19px;    color: white!important;  }  ::v-deep &amp;--minor {    padding: 5px 10px;    height: 26px;    border-radius: 14px;    font-size: 12px;    font-weight: 400;    line-height: 16px;    background-color: #fff!important;  }  ::v-deep &amp;--rect {    padding: 5px px;    height: 49px;    font-size: 14px;    color: white!important;  }}&lt;/style&gt;</code></pre><blockquote><p>::v-deep  æ ·å¼æ·±è¦†ç›–ï¼Œscoped æƒ…å†µä¸‹è¦†ç›–ç»„ä»¶æ ·å¼ï¼Œä¸æ”¹å˜å…¶æ ·å¼</p></blockquote><ul><li>(5) å†™å¥½åŸºç¡€ç»„ä»¶ READMEï¼Œä¸ºä»€ä¹ˆè¦å†™æ–‡æ¡£å‘¢ï¼Ÿå¦‚æœå¤šäººå¼€å‘åŒä¸€ä¸ªé¡¹ç›®ï¼ŒåŸºç¡€ç»„ä»¶ä¼šè¢«å…¶ä»–äººå¼•ç”¨ã€‚æ–¹ä¾¿å…¶ä»–äººä½¿ç”¨ï¼Œæ‰€ä»¥è¦å†™æ–‡æ¡£ã€‚</li></ul><blockquote><p>ä¸€å¥è¯è¨€ï¼šåªè¦å¯èƒ½è¢«å…¶ä»–äººç”¨çš„å…¬å…±æ–¹æ³•å’Œç»„ä»¶ï¼Œæ³¨é‡Šæˆ–æ–‡æ¡£æ˜¯å¾ˆé‡è¦çš„ï¼Œå¯¹è‡ªå·±çš„ä»£ç è´Ÿè´£å“ˆã€‚</p></blockquote><p>å…¶ä»–ç”¨æ³•å‚ç…§ vant</p><ul><li>(6) å…¨å±€å¼•ç”¨ï¼ŒåŸºç¡€ç»„ä»¶è®¸å¤šé¡µé¢éƒ½ä¼šç”¨åˆ°ï¼Œå°†å…¶è®¾ç½®æˆå…¨å±€ç»„ä»¶ï¼Œå…¶ä»–åœ°æ–¹å°±ä¸å¿…å†å¼•ç”¨äº†å“¦ã€‚</li></ul><p>æ–°å»ºä¸€ä¸ªæ–‡ä»¶ <code>global</code> å­˜æ”¾å…¨å±€ç»„ä»¶æ³¨å†Œï¼Œåœ¨ <code>main.js</code> å¼•å…¥</p><pre><code class="javascript">import Vue from &#39;vue&#39;import appButton from &#39;@/components/app-button&#39;Vue.component(&#39;app-button&#39;, appButton)</code></pre><ul><li>(7) å†™å¥½ <code>demo</code>ï¼Œå³ä½¿æš‚æ—¶ä¸å†™å•å…ƒæµ‹è¯•ï¼Œä¹Ÿè¦å†™å¥½ä¸€ä¸ª <code>demo</code>ï¼Œä½¿ä¹‹èƒ½æ­£å¸¸çš„è¿è¡Œ</li></ul><p>æ·»åŠ  demo é¡µé¢å’Œè·¯ç”±</p><pre><code class="html">&lt;template lang=&quot;pug&quot;&gt;  div(class=&quot;base&quot;)    // æŒ‰é’®ç»„ä»¶    app-button.mt4(theme=&quot;blue&quot;) ç¡®è®¤æ”¯ä»˜    app-button(theme=&quot;orange&quot;) ç¡®è®¤æ”¯ä»˜    app-button(theme=&quot;purple&quot;) ç¡®è®¤æ”¯ä»˜    app-button.mt4(theme=&quot;red&quot;) ç¡®è®¤æ”¯ä»˜    app-button(theme=&quot;grey&quot;) ç¡®è®¤æ”¯ä»˜    app-button.mt4(theme=&quot;blue&quot; size=&quot;large&quot;) ä¿®æ”¹åœ°å€    app-button.mt4(theme=&quot;orange&quot; size=&quot;large&quot;) ä¿®æ”¹åœ°å€    app-button.mt4(theme=&quot;purple&quot; size=&quot;large&quot;) ä¿®æ”¹åœ°å€    app-button.mt4(theme=&quot;red&quot; size=&quot;large&quot;) ä¿®æ”¹åœ°å€    app-button.mt4(theme=&quot;grey&quot; size=&quot;large&quot;) ä¿®æ”¹åœ°å€    app-button.mt4(theme=&quot;blue&quot; type=&quot;minor&quot;) ç¡®è®¤æ”¶è´§    app-button(theme=&quot;orange&quot; type=&quot;minor&quot;) ç¡®è®¤æ”¶è´§    app-button(theme=&quot;purple&quot; type=&quot;minor&quot;) ç¡®è®¤æ”¶è´§    app-button(theme=&quot;red&quot; type=&quot;minor&quot;) ä¿®æ”¹åœ°å€    app-button(theme=&quot;grey&quot; type=&quot;minor&quot;) ä¿®æ”¹åœ°å€    app-button.mt4(theme=&quot;blue&quot; type=&quot;rect&quot;) ç¡®è®¤æ”¶è´§    app-button(theme=&quot;orange&quot; type=&quot;rect&quot;) ç¡®è®¤æ”¶è´§    app-button(theme=&quot;purple&quot; type=&quot;rect&quot;) ç¡®è®¤æ”¶è´§    app-button(theme=&quot;red&quot; type=&quot;rect&quot;) ä¿®æ”¹åœ°å€    app-button(theme=&quot;grey&quot; type=&quot;rect&quot;) ä¿®æ”¹åœ°å€&lt;/template&gt;&lt;script&gt;export default {}&lt;/script&gt;&lt;style lang=&quot;scss&quot;&gt;&lt;/style&gt;</code></pre><h4 id="å®ç°æ•ˆæœ"><a href="#å®ç°æ•ˆæœ" class="headerlink" title="å®ç°æ•ˆæœ"></a>å®ç°æ•ˆæœ</h4><p><img src="https://user-gold-cdn.xitu.io/2019/12/30/16f55700de463c65?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="demo"></p><h3 id="å¦‚ä½•å°è£…è¯·æ±‚"><a href="#å¦‚ä½•å°è£…è¯·æ±‚" class="headerlink" title="å¦‚ä½•å°è£…è¯·æ±‚"></a>å¦‚ä½•å°è£…è¯·æ±‚</h3><h4 id="åŸç†ä¸è§£å†³æ–¹æ¡ˆ-5"><a href="#åŸç†ä¸è§£å†³æ–¹æ¡ˆ-5" class="headerlink" title="åŸç†ä¸è§£å†³æ–¹æ¡ˆ"></a>åŸç†ä¸è§£å†³æ–¹æ¡ˆ</h4><p>åŸºæœ¬ä¸Šå°±æ˜¯å¯¹ axios çš„å°è£…ï¼Œå°è£…ä¸»è¦æœ‰ä¸¤ä¸ªç›®çš„ã€‚</p><ul><li>ä¿®æ”¹ä¸€äº›åŸºç¡€çš„é…ç½®ï¼šè¯·æ±‚åœ°å€ï¼Œè¶…æ—¶ï¼Œå…¶ä»–çš„æ‚ä¸ƒæ‚å…«çš„</li><li>ç»Ÿä¸€æ“ä½œï¼šç»Ÿä¸€å¤„ç†é”™è¯¯ï¼Œç»Ÿä¸€å¤„ç†è¯·æ±‚å‚æ•°å’Œæ ¼å¼ï¼Œå“åº”å‚æ•°å’Œæ ¼å¼ã€‚ç»Ÿä¸€å¤„ç† messageï¼Œç»Ÿä¸€æ‹¦æˆªæŒ‚è½½ç­‰ç­‰ã€‚</li></ul><p>ç½‘ä¸Šå·²ç»æœ‰å¾ˆå¤šç±»ä¼¼çš„æ–‡ç« äº†ï¼Œ æˆ‘è¿™é‡Œç»™å‡ºæˆ‘å¸¸ç”¨çš„å°è£…æ–¹æ¡ˆã€‚</p><h4 id="å®è·µ-4"><a href="#å®è·µ-4" class="headerlink" title="å®è·µ"></a>å®è·µ</h4><h5 id="æ ¹æ®ä¸åŒç¯å¢ƒè®¾ç½®è¯·æ±‚åœ°å€"><a href="#æ ¹æ®ä¸åŒç¯å¢ƒè®¾ç½®è¯·æ±‚åœ°å€" class="headerlink" title="æ ¹æ®ä¸åŒç¯å¢ƒè®¾ç½®è¯·æ±‚åœ°å€"></a>æ ¹æ®ä¸åŒç¯å¢ƒè®¾ç½®è¯·æ±‚åœ°å€</h5><pre><code class="js">// .env-default.js æ–‡ä»¶// ä¸åŒç¯å¢ƒè®¿é—®ä¸åŒçš„è·¯å¾„const api = {  develop: &#39;http://xxxx:8080&#39;,  mock: &#39;http://xxxx&#39;,  feature: &#39;http://xxxx&#39;,  test: &#39;http://xxxx&#39;,  production: &#39;http://xxxx&#39;}export const baseURL = api[process.env.NODE_ENV || &#39;dev&#39;]</code></pre><blockquote><p>å› ä¸ºæ¯ä¸ªäººå¼€å‘ç¯å¢ƒï¼Œmockç¯å¢ƒä¸ä¸€å®šç›¸åŒï¼Œè¿™ä¸ªæ–‡ä»¶å»ºè®® gitignoreå¿½ç•¥æ‰ã€‚æ¨¡ç‰ˆå¯ä»¥å†™åœ¨ readme æ–‡æ¡£ä¸­ï¼Œå¯åŠ¨é¡¹ç›®æ—¶åŠ å…¥æ–‡ä»¶ã€‚</p></blockquote><h5 id="æ–°å»ºä¸€ä¸ª-utils-å·¥å…·"><a href="#æ–°å»ºä¸€ä¸ª-utils-å·¥å…·" class="headerlink" title="æ–°å»ºä¸€ä¸ª utils å·¥å…·"></a>æ–°å»ºä¸€ä¸ª <code>utils</code> å·¥å…·</h5><p>æˆ‘ä»¬ç°åœ¨å°† axios å°è£…æˆæˆ‘ä»¬è‡ªå·±éœ€è¦çš„é…ç½®ï¼Œç„¶åå®šä¹‰å››ä¸ªå¸¸ç”¨çš„è¯·æ±‚æ–¹æ³•ä¾›è°ƒç”¨</p><pre><code class="js">// utils/http.js æ–‡ä»¶import axios from &#39;axios&#39;import { baseURL } from &#39;../../.env-defalut.js&#39;// axios é…ç½®const defaultBaseUrl = &#39;http://localhost:8080/&#39;// é»˜è®¤è¶…æ—¶æ—¶é—´axios.defaults.timeout = 15000// æ•°æ®æ¥å£åŸŸåç»Ÿä¸€é…ç½®.envaxios.defaults.baseURL = baseURL || defaultBaseUrl // http request æ‹¦æˆªå™¨axios.interceptors.request.use(  (config) =&gt; {    config.headers = {    }    return config  },  (err) =&gt; {    return Promise.reject(err)  })// http response æ‹¦æˆªå™¨axios.interceptors.response.use(  (response) =&gt; {    return response  },  (error) =&gt; {    const data = error.response.data    return Promise.reject(data || error)  })export default axios/** * fetch è¯·æ±‚æ–¹æ³• * @param {*} url * @param {*} params */export function fetch(url, params = {}) {  return new Promise((resolve, reject) =&gt; {    axios      .get(url, {        params: params      })      .then((response) =&gt; {        resolve(response.data)      })      .catch((err) =&gt; {        reject(err)      })  })}/** * post è¯·æ±‚æ–¹æ³•ï¼Œå‘é€æ•°æ®æ ¼å¼ json * @param {*} url * @param {*} data */export function post(  url,  data = {},  config = {    transformRequest: [      function(fData, headers) {        headers[&#39;Content-Type&#39;] = &#39;application/json&#39;        return JSON.stringify(fData)      }    ]  }) {  return new Promise((resolve, reject) =&gt; {    axios.post(url, data, config).then(      (response) =&gt; {        resolve(response.data)      },      (err) =&gt; {        reject(err)      }    )  })}/** * patch è¯·æ±‚æ–¹æ³•ï¼Œå‘é€æ•°æ®æ ¼å¼ json * @param {*} url * @param {*} data */export function patch(url, data = {}) {  return new Promise((resolve, reject) =&gt; {    axios      .patch(url, data, {        transformRequest: [          function(fData, headers) {            headers[&#39;Content-Type&#39;] = &#39;application/json&#39;            return JSON.stringify(fData)          }        ]      })      .then(        (response) =&gt; {          resolve(response.data)        },        (err) =&gt; {          reject(err)        }      )  })}export function del(url, data) {  return new Promise((resolve, reject) =&gt; {    axios.delete(url, { data }).then(      (response) =&gt; {        resolve(response.data)      },      (err) =&gt; {        reject(err)      }    )  })}</code></pre><h3 id="å¦‚ä½•ç®¡ç†-api"><a href="#å¦‚ä½•ç®¡ç†-api" class="headerlink" title="å¦‚ä½•ç®¡ç† api"></a>å¦‚ä½•ç®¡ç† api</h3><h4 id="åŸç†-1"><a href="#åŸç†-1" class="headerlink" title="åŸç†"></a>åŸç†</h4><p>é¦–å…ˆè¦åˆ¶å®šä¸€ä¸ª api çš„åŸåˆ™<br>æˆ‘çš„åŸåˆ™ä¸€èˆ¬æ˜¯è¿™äº›ï¼š</p><ul><li>å¹²å‡€çº¯ç²¹</li><li>å°½é‡ä¸è¦å¤„ç†æ•°æ®</li><li>ç‹¬ç«‹å•ä¸€ä¸è¦äº’ç›¸ä¾èµ–</li></ul><p>å¥½å¤„åœ¨äºï¼šä¸åœ¨ api é‡Œé¢å¤„ç†æ•°æ®ï¼Œapié‡Œé¢çš„æ¥å£å’Œæ¥å£æ–‡æ¡£ä¸Šä¸€æ ·ã€‚é¿å…åˆ«äººå¼•ç”¨æˆ‘çš„apiï¼Œè¿˜è¦å»çœ‹ä»£ç ï¼Œåªéœ€è¦çœ‹æ–‡æ¡£å°±å¥½äº†ã€‚</p><blockquote><p>ä¾‹å­ï¼šæƒ³è±¡è¿™æ ·ä¸€ç§æƒ…å†µï¼Œåˆ«äººå¼•ç”¨äº†æˆ‘çš„ apiï¼Œçªç„¶å‘ç°å“åº”æ•°æ®ä¸å¯¹ã€‚é¦–å…ˆå®ƒæ’æŸ¥åˆ°é¡µé¢æ•°æ®æ²¡æ›´æ”¹ã€‚çœ‹äº†apiæ–‡æ¡£ï¼Œæ•°æ®ä¹Ÿæ²¡é—®é¢˜ï¼Œæœ€åå‘ç°æˆ‘åœ¨å†™ api çš„æ—¶å€™è¿›è¡Œäº†å¤„ç†ï¼Œè¿™ä¸ª api å‘¢åˆä¸èƒ½æ”¹åŠ¨ï¼Œæ”¹äº†å½±å“æˆ‘è‡ªå·±çš„æ¨¡å—ã€‚åªèƒ½å®ƒåœ¨é‡æ–°å†™ä¸€ä¸ªapiï¼Œè¿™æ ·æ˜¾å¾—å¾ˆç¹æ‚äº†ï¼Œä¸å¤Ÿå¹²å‡€ä¼˜é›…ã€‚</p></blockquote><pre><code class="js">import { fetch, post } from &#39;@/utils/http&#39;// ç”¨æˆ·ç™»é™†export const login = data =&gt; post(&#39;/user/login&#39;, data)// è·å–ç”¨æˆ·ä¿¡æ¯export const getUserInfo = (data) =&gt; fetch(&#39;/api/user/info&#39;, data)</code></pre><p>å¦‚æœéœ€è¦å¤„ç†æ•°æ®ï¼Œè¦ä¹ˆä½¿ç”¨ä¸€ä¸ªä¸­é—´å·¥å…·å¤„ç†ï¼Œè¦ä¹ˆåœ¨é¡µé¢é‡Œé¢å¤„ç†ã€‚å½“ç„¶è¿˜æ˜¯å®é™…é—®é¢˜å®é™…åˆ†æã€‚</p><h3 id="å¦‚ä½•ä½¿ç”¨mockæ¨¡æ‹Ÿæ•°æ®"><a href="#å¦‚ä½•ä½¿ç”¨mockæ¨¡æ‹Ÿæ•°æ®" class="headerlink" title="å¦‚ä½•ä½¿ç”¨mockæ¨¡æ‹Ÿæ•°æ®"></a>å¦‚ä½•ä½¿ç”¨<code>mock</code>æ¨¡æ‹Ÿæ•°æ®</h3><h4 id="åŸç†ä¸è§£å†³æ–¹æ¡ˆ-6"><a href="#åŸç†ä¸è§£å†³æ–¹æ¡ˆ-6" class="headerlink" title="åŸç†ä¸è§£å†³æ–¹æ¡ˆ"></a>åŸç†ä¸è§£å†³æ–¹æ¡ˆ</h4><p>ä¸€èˆ¬å°±æ˜¯ä¸¤ç§æ–¹æ¡ˆï¼Œä¸€æ˜¯æ¨¡æ‹Ÿåç«¯ï¼Œä½¿ç”¨è¿œç¨‹åœ¨çº¿ JSON æœåŠ¡å™¨ã€‚å¦å¤–ä¸€ç§æ­å»ºæœ¬åœ° JSON æˆ–è€… ä½¿ç”¨ç°æˆçš„ Node æœåŠ¡å™¨æ‹¦æˆªè¯·æ±‚ã€‚</p><blockquote><p>è¿™ä¸¤ç§æ–¹å¼å„æœ‰åƒç§‹ï¼Œæ²¡æœ‰ä¼˜åŠ£ä¹‹åˆ†ï¼Œé€‚åˆå°±æ˜¯æœ€å¥½çš„ã€‚</p></blockquote><h4 id="è¿œç¨‹åœ¨çº¿mock"><a href="#è¿œç¨‹åœ¨çº¿mock" class="headerlink" title="è¿œç¨‹åœ¨çº¿mock"></a>è¿œç¨‹åœ¨çº¿<code>mock</code></h4><p>æˆ‘ç”¨è¿‡çš„è¿œç¨‹åœ¨çº¿<code>mock</code></p><ul><li>apizzaï¼šå¥½ç”¨ï¼ŒåŠŸèƒ½é½å…¨ï¼Œå–œæ¬¢ä»–çš„æ–‡ä»¶å±•å¼€ç›®å½•<code>api</code>ï¼Œå…è´¹ç‰ˆåªæ”¯æŒ 2 ä¸ªäººå…±åŒç¼–è¾‘</li><li>swaggerï¼šå¼€æºå…è´¹ï¼Œ<code>api</code>ç®¡ç†å¤ªå‡Œä¹±ï¼Œ</li><li>rap/rap2ï¼šå¼€æºå…è´¹ï¼Œå¯ä»¥æ­å»ºæœ¬åœ°<code>api</code>ï¼Œéœ€è¦è‡ªå·±æ­å»º</li></ul><p>ä½¿ç”¨è¿œç¨‹<code>mock</code>çš„ä¼˜ç‚¹ï¼š</p><ul><li>ä¸éœ€è¦åœ¨é¡¹ç›®å†…éƒ¨å¢åŠ <code>mock</code></li><li>åŠŸèƒ½æ›´åŠ å…¨é¢å®Œå–„</li><li>å¯ä»¥åœ¨æ¥å£æ–‡æ¡£åŸºç¡€ä¸Š<code>mock</code>ï¼Œä¸æ¥å£æ–‡æ¡£æ”¾åœ¨ä¸€èµ·æŸ¥çœ‹æ›´åŠ æ–¹ä¾¿ã€‚</li></ul><p>ç¼ºç‚¹ï¼šéœ€è¦è‡ªå·±å¦å¤–æ­å»ºæœåŠ¡å™¨ï¼Œåªæ”¯æŒé™æ€çš„<code>mock</code>ï¼Œä¸èƒ½ä¸å•å…ƒæµ‹è¯•ç»“åˆä½¿ç”¨</p><h4 id="æœ¬åœ°JSON-mock"><a href="#æœ¬åœ°JSON-mock" class="headerlink" title="æœ¬åœ°JSON mock"></a>æœ¬åœ°JSON mock</h4><ul><li>ä½¿ç”¨ <code>webpack</code> å†…éƒ¨ mock é…ç½®</li></ul><pre><code class="js">devServer: {    // æ¥å£æœªå®ç°æƒ…å†µä¸‹ï¼Œä½¿ç”¨mock    before: require(&#39;./mock&#39;)}</code></pre><p>åŸºæœ¬åŸç†ï¼šä¸»è¦æ˜¯ä½¿ç”¨ node è¯»å–æ–‡ä»¶ï¼Œè½¬æ¢æˆ JSON æ ¼å¼ï¼Œä½¿ç”¨<code>mock.js</code> æ¨¡æ‹Ÿæ•°æ®ï¼Œæœ€å webpack æ‹¦æˆªè¯·æ±‚ç”Ÿæˆ<code>json</code>å“åº”æ•°æ®</p><pre><code class="js">const Mock = require(&#39;mockjs&#39;)module.exports = (app) =&gt; {    function getJsonFile (filePath) {        var json = fs.readFileSync(path.resolve(__dirname, filePath), &#39;utf-8&#39;)        return JSON.parse(json)    },    const returnMock = (datafile, res, req) =&gt; {        setTimeout(() =&gt; {            var json            if (/\.json$/.test(datafile)) {                // jsonæ–‡ä»¶æš´éœ²çš„æ˜¯mockçš„æ¨¡æ¿                json = getJsonFile(datafile)            } else if (/\.js$/.test(datafile)) {                json = require(datafile)(req.query)            }            res.json(Mock.mock(json))        }, 500)    }}</code></pre><ul><li>ä½¿ç”¨ <code>json-server</code> æ­å»º<br>ä¸»è¦åˆ†ä¸ºä¸‹é¢å‡ æ­¥</li></ul><ol><li><code>npm</code> å®‰è£… <code>json-server</code></li><li>ç¼–å†™ <code>npm</code> è„šæœ¬å‘½ä»¤ï¼Œå¼•å…¥ <code>mock</code> é…ç½®æ–‡ä»¶</li><li>ç¼–å†™ <code>mock</code> è·¯ç”±åŒ¹é…è§„åˆ™<blockquote><p>æ¯”è¾ƒç®€å•è¿™é‡Œä¸è¯¦ç»†æè¿°äº†ï¼</p></blockquote></li></ol><p>æœ¬åœ°çš„ç¼ºç‚¹åœ¨äºéœ€è¦</p><ul><li>å‰ç«¯éœ€è¦æ ¹æ®<code>api</code>æ–‡æ¡£å†™<code>mock</code>æ•°æ®æ ¼å¼</li><li>åŠŸèƒ½æ²¡æœ‰è¿œç¨‹<code>mock</code>é‚£ä¹ˆå®Œå–„ï¼Œæ”¯æŒ<code>restful</code>éœ€è¦å»ç ”ç©¶ä¸‹</li><li>ä¹Ÿæ˜¯éœ€è¦é…ç½®ç›¸å…³<code>mock</code>å·¥å…·</li></ul><p>ä¼˜ç‚¹åœ¨äº</p><ul><li>ä¸ç”¨æŸ¥çœ‹ç¼–è¾‘<code>api</code>æ–‡æ¡£</li><li>åœ¨ä»£ç ä¸­å°±å¯ä»¥æ›´æ”¹å’ŒæŸ¥çœ‹<code>mock</code>æ•°æ®</li><li>æ”¯æŒä½¿ç”¨<code>JavaScipt</code>åŠ¨æ€å¤„<code>mock</code>ï¼Œå¯ä»¥ä¸å•å…ƒæµ‹è¯•ç»“åˆä½¿ç”¨</li></ul><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul><li><a href="https://github.com/commitizen/cz-cli" target="_blank" rel="noopener">commitizen</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/import" target="_blank" rel="noopener">MDN import()</a></li><li><a href="https://youzan.github.io/vant/#/zh-CN/intro" target="_blank" rel="noopener">vant æ–‡æ¡£</a></li><li><a href="https://eslint.org/" target="_blank" rel="noopener">eslint æ–‡æ¡£</a></li><li><a href="https://router.vuejs.org/zh/" target="_blank" rel="noopener">vue-router æ–‡æ¡£</a></li><li><a href="https://www.sasscss.com/getting-started/" target="_blank" rel="noopener">sass æ–‡æ¡£</a></li><li><a href="https://github.com/axios/axios" target="_blank" rel="noopener">axios æ–‡æ¡£</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://juejin.im/post/5e0202fc6fb9a0165721e39a&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;åŸæ–‡åœ°å€&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;æ¦‚è§ˆ&quot;&gt;&lt;a href=&quot;#æ¦‚è§ˆ&quot; class=&quot;he
      
    
    </summary>
    
      <category term="Vue" scheme="https://zhanghao-web.github.io/categories/Vue/"/>
    
    
      <category term="Vue" scheme="https://zhanghao-web.github.io/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>12ä¸ªå‰ç«¯å¿…ä¼š H5 é—®é¢˜åŠè§£å†³æ–¹æ³•</title>
    <link href="https://zhanghao-web.github.io/2020/05/05/HTML5/12%E4%B8%AA%E5%89%8D%E7%AB%AF%E5%BF%85%E4%BC%9A-H5-%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/"/>
    <id>https://zhanghao-web.github.io/2020/05/05/HTML5/12ä¸ªå‰ç«¯å¿…ä¼š-H5-é—®é¢˜åŠè§£å†³æ–¹æ³•/</id>
    <published>2020-05-05T13:14:45.000Z</published>
    <updated>2020-05-06T00:48:42.264Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://github.com/suoyuesmile/suo-blog/blob/master/articals/h5/0003.md" target="_blank" rel="noopener">åŸæ–‡åœ°å€</a></p><h1 id="ç§»åŠ¨ç«¯-H5-ç›¸å…³é—®é¢˜æ±‡æ€»ï¼š"><a href="#ç§»åŠ¨ç«¯-H5-ç›¸å…³é—®é¢˜æ±‡æ€»ï¼š" class="headerlink" title="ç§»åŠ¨ç«¯ H5 ç›¸å…³é—®é¢˜æ±‡æ€»ï¼š"></a>ç§»åŠ¨ç«¯ H5 ç›¸å…³é—®é¢˜æ±‡æ€»ï¼š</h1><ul><li>1px é—®é¢˜</li><li>å“åº”å¼å¸ƒå±€</li><li>iOS æ»‘åŠ¨ä¸æµç•…</li><li>iOS ä¸Šæ‹‰è¾¹ç•Œä¸‹æ‹‰å‡ºç°ç™½è‰²ç©ºç™½</li><li>é¡µé¢ä»¶æ”¾å¤§æˆ–ç¼©å°ä¸ç¡®å®šæ€§è¡Œä¸º</li><li>click ç‚¹å‡»ç©¿é€ä¸å»¶è¿Ÿ</li><li>è½¯é”®ç›˜å¼¹å‡ºå°†é¡µé¢é¡¶èµ·æ¥ã€æ”¶èµ·æœªå›è½é—®é¢˜</li><li>iPhone X åº•éƒ¨æ é€‚é…é—®é¢˜</li><li>ä¿å­˜é¡µé¢ä¸ºå›¾ç‰‡å’ŒäºŒç»´ç é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ</li><li>å¾®ä¿¡å…¬ä¼—å· H5 åˆ†äº«é—®é¢˜</li><li>H5 è°ƒç”¨ SDK ç›¸å…³é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</li><li>H5 è°ƒè¯•ç›¸å…³æ–¹æ¡ˆä¸ç­–ç•¥</li></ul><h1 id="ç§»åŠ¨ç«¯-H5-ç›¸å…³åŸºç¡€æŠ€æœ¯æ¦‚è§ˆ"><a href="#ç§»åŠ¨ç«¯-H5-ç›¸å…³åŸºç¡€æŠ€æœ¯æ¦‚è§ˆ" class="headerlink" title="ç§»åŠ¨ç«¯ H5 ç›¸å…³åŸºç¡€æŠ€æœ¯æ¦‚è§ˆ"></a>ç§»åŠ¨ç«¯ H5 ç›¸å…³åŸºç¡€æŠ€æœ¯æ¦‚è§ˆ</h1><p><img src="https://camo.githubusercontent.com/fd55251b2784c435753d675301fb4bfa7aef733b/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031392f31322f32342f313666333638373230643365623432313f773d3232303626683d3131343026663d6a70656726733d323437373332" alt="H5"></p><p><a href="https://juejin.im/post/5df3053ce51d45583d425ada" target="_blank" rel="noopener">1pxé—®é¢˜</a><br><a href="https://juejin.im/post/5df59139518825123e7af459" target="_blank" rel="noopener">å“åº”å¼å¸ƒå±€</a></p><h2 id="iOS-æ»‘åŠ¨ä¸æµç•…"><a href="#iOS-æ»‘åŠ¨ä¸æµç•…" class="headerlink" title="iOS æ»‘åŠ¨ä¸æµç•…"></a>iOS æ»‘åŠ¨ä¸æµç•…</h2><h3 id="è¡¨ç°"><a href="#è¡¨ç°" class="headerlink" title="è¡¨ç°"></a>è¡¨ç°</h3><p>ä¸Šä¸‹æ»‘åŠ¨é¡µé¢ä¼šäº§ç”Ÿå¡é¡¿ï¼Œæ‰‹æŒ‡ç¦»å¼€é¡µé¢ï¼Œé¡µé¢ç«‹å³åœæ­¢è¿åŠ¨ã€‚æ•´ä½“è¡¨ç°å°±æ˜¯æ»‘åŠ¨ä¸æµç•…ï¼Œæ²¡æœ‰æ»‘åŠ¨æƒ¯æ€§ã€‚</p><h3 id="äº§ç”ŸåŸå› "><a href="#äº§ç”ŸåŸå› " class="headerlink" title="äº§ç”ŸåŸå› "></a>äº§ç”ŸåŸå› </h3><p><strong>ä¸ºä»€ä¹ˆ iOS çš„ webview ä¸­ æ»‘åŠ¨ä¸æµç•…ï¼Œå®ƒæ˜¯å¦‚ä½•å®šä¹‰çš„</strong></p><p>æœ€ç»ˆæˆ‘åœ¨ <code>safari</code> æ–‡æ¡£é‡Œé¢å¯»æ‰¾åˆ°äº†ç­”æ¡ˆï¼ˆæ–‡æ¡£é“¾æ¥åœ¨å‚è€ƒèµ„æ–™é¡¹ï¼‰ã€‚</p><p><img src="https://camo.githubusercontent.com/dae1dc14e59ea49999123abbf133f60bd8f5fa2a/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031392f31322f31392f313666316461616237633431653034343f773d3134323026683d3131303426663d6a70656726733d313635343933" alt="safariæ–‡æ¡£"></p><p>åŸæ¥åœ¨ <code>iOS 5.0</code> ä»¥åŠä¹‹åçš„ç‰ˆæœ¬ï¼Œæ»‘åŠ¨æœ‰å®šä¹‰æœ‰ä¸¤ä¸ªå€¼ <code>auto</code> å’Œ <code>touch</code>ï¼Œé»˜è®¤å€¼ä¸º <code>auto</code>ã€‚</p><pre><code class="css">-webkit-overflow-scrolling: touch; /* å½“æ‰‹æŒ‡ä»è§¦æ‘¸å±ä¸Šç§»å¼€ï¼Œä¼šä¿æŒä¸€æ®µæ—¶é—´çš„æ»šåŠ¨ */-webkit-overflow-scrolling: auto; /* å½“æ‰‹æŒ‡ä»è§¦æ‘¸å±ä¸Šç§»å¼€ï¼Œæ»šåŠ¨ä¼šç«‹å³åœæ­¢ */</code></pre><h3 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>1.åœ¨æ»šåŠ¨å®¹å™¨ä¸Šå¢åŠ æ»šåŠ¨ touch æ–¹æ³•</p><p>å°†<code>-webkit-overflow-scrolling</code> å€¼è®¾ç½®ä¸º <code>touch</code></p><pre><code class="css">.wrapper {    -webkit-overflow-scrolling: touch;}</code></pre><p>è®¾ç½®æ»šåŠ¨æ¡éšè—ï¼š </p><pre><code class="css">.container ::-webkit-scrollbar {display: none;}</code></pre><p>å¯èƒ½ä¼šå¯¼è‡´ä½¿ç”¨<code>position:fixed;</code> å›ºå®šå®šä½çš„å…ƒç´ ï¼Œéšç€é¡µé¢ä¸€èµ·æ»šåŠ¨</p><p>2.è®¾ç½® overflow</p><p>è®¾ç½®å¤–éƒ¨ <code>overflow</code> ä¸º <code>hidden</code>,è®¾ç½®å†…å®¹å…ƒç´  <code>overflow</code> ä¸º <code>auto</code>ã€‚å†…éƒ¨å…ƒç´ è¶…å‡º body å³äº§ç”Ÿæ»šåŠ¨ï¼Œè¶…å‡ºçš„éƒ¨åˆ† body éšè—ã€‚</p><pre><code class="css">body {    overflow-y: hidden;}.wrapper {    overflow-y: auto;}</code></pre><p><strong>ä¸¤è€…ç»“åˆä½¿ç”¨æ›´ä½³ï¼</strong></p><h2 id="iOS-ä¸Šæ‹‰è¾¹ç•Œä¸‹æ‹‰å‡ºç°ç™½è‰²ç©ºç™½"><a href="#iOS-ä¸Šæ‹‰è¾¹ç•Œä¸‹æ‹‰å‡ºç°ç™½è‰²ç©ºç™½" class="headerlink" title="iOS ä¸Šæ‹‰è¾¹ç•Œä¸‹æ‹‰å‡ºç°ç™½è‰²ç©ºç™½"></a>iOS ä¸Šæ‹‰è¾¹ç•Œä¸‹æ‹‰å‡ºç°ç™½è‰²ç©ºç™½</h2><h3 id="è¡¨ç°-1"><a href="#è¡¨ç°-1" class="headerlink" title="è¡¨ç°"></a>è¡¨ç°</h3><p>æ‰‹æŒ‡æŒ‰ä½å±å¹•ä¸‹æ‹‰ï¼Œå±å¹•é¡¶éƒ¨ä¼šå¤šå‡ºä¸€å—ç™½è‰²åŒºåŸŸã€‚æ‰‹æŒ‡æŒ‰ä½å±å¹•ä¸Šæ‹‰ï¼Œåº•éƒ¨å¤šå‡ºä¸€å—ç™½è‰²åŒºåŸŸã€‚</p><h3 id="äº§ç”ŸåŸå› -1"><a href="#äº§ç”ŸåŸå› -1" class="headerlink" title="äº§ç”ŸåŸå› "></a>äº§ç”ŸåŸå› </h3><p>åœ¨ iOS ä¸­ï¼Œæ‰‹æŒ‡æŒ‰ä½å±å¹•ä¸Šä¸‹æ‹–åŠ¨ï¼Œä¼šè§¦å‘ <code>touchmove</code> äº‹ä»¶ã€‚è¿™ä¸ªäº‹ä»¶è§¦å‘çš„å¯¹è±¡æ˜¯æ•´ä¸ª <code>webview</code> å®¹å™¨ï¼Œå®¹å™¨è‡ªç„¶ä¼šè¢«æ‹–åŠ¨ï¼Œå‰©ä¸‹çš„éƒ¨åˆ†ä¼šæˆç©ºç™½ã€‚</p><h3 id="è§£å†³æ–¹æ¡ˆ-1"><a href="#è§£å†³æ–¹æ¡ˆ-1" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><ol><li>ç›‘å¬äº‹ä»¶ç¦æ­¢æ»‘åŠ¨<br>ç§»åŠ¨ç«¯è§¦æ‘¸äº‹ä»¶æœ‰ä¸‰ä¸ªï¼Œåˆ†åˆ«å®šä¹‰ä¸º</li></ol><ul><li><ol><li>touchstart ï¼šæ‰‹æŒ‡æ”¾åœ¨ä¸€ä¸ªDOMå…ƒç´ ä¸Šã€‚</li></ol></li><li><ol start="2"><li>touchmove ï¼šæ‰‹æŒ‡æ‹–æ›³ä¸€ä¸ªDOMå…ƒç´ ã€‚</li></ol></li><li><ol start="3"><li>touchend ï¼šæ‰‹æŒ‡ä»ä¸€ä¸ªDOMå…ƒç´ ä¸Šç§»å¼€ã€‚<br>æ˜¾ç„¶æˆ‘ä»¬éœ€è¦æ§åˆ¶çš„æ˜¯ <code>touchmove</code> äº‹ä»¶ï¼Œç”±æ­¤æˆ‘åœ¨ W3C æ–‡æ¡£ä¸­æ‰¾åˆ°äº†è¿™æ ·ä¸€æ®µè¯</li></ol></li></ul><p><code>Note that the rate at which the user agent sends touchmove events is implementation-defined, and may depend on hardware capabilities and other implementation details</code></p><p><code>If the preventDefault method is called on the first touchmove event of an active touch point, it should prevent any default action caused by any touchmove event associated with the same active touch point, such as scrolling.</code></p><p><code>touchmove</code> äº‹ä»¶çš„é€Ÿåº¦æ˜¯å¯ä»¥å®ç°å®šä¹‰çš„ï¼Œå–å†³äºç¡¬ä»¶æ€§èƒ½å’Œå…¶ä»–å®ç°ç»†èŠ‚</p><p><code>preventDefault</code> æ–¹æ³•ï¼Œé˜»æ­¢åŒä¸€è§¦ç‚¹ä¸Šæ‰€æœ‰é»˜è®¤è¡Œä¸ºï¼Œæ¯”å¦‚æ»šåŠ¨ã€‚</p><p>ç”±æ­¤æˆ‘ä»¬æ‰¾åˆ°è§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡ç›‘å¬ touchmoveï¼Œè®©éœ€è¦æ»‘åŠ¨çš„åœ°æ–¹æ»‘åŠ¨ï¼Œä¸éœ€è¦æ»‘åŠ¨çš„åœ°æ–¹ç¦æ­¢æ»‘åŠ¨ã€‚</p><p>å€¼å¾—æ³¨æ„çš„æ˜¯æˆ‘ä»¬è¦è¿‡æ»¤æ‰å…·æœ‰æ»šåŠ¨å®¹å™¨çš„å…ƒç´ ã€‚</p><p>å®ç°å¦‚ä¸‹ï¼š</p><pre><code class="js">document.body.addEventListener(&#39;touchmove&#39;, function(e) {    if(e._isScroller) return;    // é˜»æ­¢é»˜è®¤äº‹ä»¶    e.preventDefault();}, {    passive: false});</code></pre><a id="more"></a><ol start="2"><li>æ»šåŠ¨å¦¥åå¡«å……ç©ºç™½ï¼Œè£…é¥°æˆå…¶ä»–åŠŸèƒ½<br>åœ¨å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä¸å»è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ¢ä¸€ç›´æ€è·¯ã€‚æ ¹æ®åœºæ™¯ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸‹æ‹‰ä½œä¸ºä¸€ä¸ªåŠŸèƒ½æ€§çš„æ“ä½œã€‚</li></ol><p>æ¯”å¦‚ï¼š ä¸‹æ‹‰ååˆ·æ–°é¡µé¢</p><p><img src="https://camo.githubusercontent.com/c3c6e29337d2f01a03f3fde0edde261edaa636aa/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031392f31322f32302f313666323139643137613666643434383f773d37353426683d3133323626663d6a70656726733d313833353730" alt="åˆ·æ–°é¡µé¢"></p><h2 id="é¡µé¢æ”¾å¤§æˆ–ç¼©å°ä¸ç¡®å®šæ€§è¡Œä¸º"><a href="#é¡µé¢æ”¾å¤§æˆ–ç¼©å°ä¸ç¡®å®šæ€§è¡Œä¸º" class="headerlink" title="é¡µé¢æ”¾å¤§æˆ–ç¼©å°ä¸ç¡®å®šæ€§è¡Œä¸º"></a>é¡µé¢æ”¾å¤§æˆ–ç¼©å°ä¸ç¡®å®šæ€§è¡Œä¸º</h2><h3 id="è¡¨ç°-2"><a href="#è¡¨ç°-2" class="headerlink" title="è¡¨ç°"></a>è¡¨ç°</h3><p>åŒå‡»æˆ–è€…åŒæŒ‡å¼ å¼€æ‰‹æŒ‡é¡µé¢å…ƒç´ ï¼Œé¡µé¢ä¼šæ”¾å¤§æˆ–ç¼©å°ã€‚</p><h3 id="äº§ç”ŸåŸå› -2"><a href="#äº§ç”ŸåŸå› -2" class="headerlink" title="äº§ç”ŸåŸå› "></a>äº§ç”ŸåŸå› </h3><p>HTML æœ¬èº«ä¼šäº§ç”Ÿæ”¾å¤§æˆ–ç¼©å°çš„è¡Œä¸ºï¼Œæ¯”å¦‚åœ¨ PC æµè§ˆå™¨ä¸Šï¼Œå¯ä»¥è‡ªç”±æ§åˆ¶é¡µé¢çš„æ”¾å¤§ç¼©å°ã€‚ä½†æ˜¯åœ¨ç§»åŠ¨ç«¯ï¼Œæˆ‘ä»¬æ˜¯ä¸éœ€è¦è¿™ä¸ªè¡Œä¸ºçš„ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦ç¦æ­¢è¯¥ä¸ç¡®å®šæ€§è¡Œä¸ºï¼Œæ¥æå‡ç”¨æˆ·ä½“éªŒã€‚</p><h3 id="åŸç†ä¸è§£å†³æ–¹æ¡ˆ"><a href="#åŸç†ä¸è§£å†³æ–¹æ¡ˆ" class="headerlink" title="åŸç†ä¸è§£å†³æ–¹æ¡ˆ"></a>åŸç†ä¸è§£å†³æ–¹æ¡ˆ</h3><p>HTML <code>meta</code> å…ƒæ ‡ç­¾æ ‡å‡†ä¸­æœ‰ä¸ª ä¸­ <code>viewport</code> å±æ€§ï¼Œç”¨æ¥æ§åˆ¶é¡µé¢çš„ç¼©æ”¾ï¼Œä¸€èˆ¬ç”¨äºç§»åŠ¨ç«¯ã€‚å¦‚ä¸‹å›¾ <code>MDN</code> ä¸­ä»‹ç»</p><p><img src="https://camo.githubusercontent.com/3c5a1f8607485339b7e2d3676d8a93c02fd3bff4/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031392f31322f31392f313666316366353238653738373439383f773d3132393426683d3132303226663d6a70656726733d333235303130" alt="viewport"></p><p>ç§»åŠ¨ç«¯å¸¸è§„å†™æ³•</p><p><code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</code></p><p>å› æ­¤æˆ‘ä»¬å¯ä»¥è®¾ç½® <code>maximum-scaleã€minimum-scale ä¸ user-scalable=no</code> ç”¨æ¥é¿å…è¿™ä¸ªé—®é¢˜</p><p><code>&lt;meta name=viewport content=&quot;width=device-width, initial-scale=1.0, minimum-scale=1.0 maximum-scale=1.0, user-scalable=no&quot;&gt;</code></p><h2 id="click-ç‚¹å‡»äº‹ä»¶å»¶æ—¶ä¸ç©¿é€"><a href="#click-ç‚¹å‡»äº‹ä»¶å»¶æ—¶ä¸ç©¿é€" class="headerlink" title="click ç‚¹å‡»äº‹ä»¶å»¶æ—¶ä¸ç©¿é€"></a>click ç‚¹å‡»äº‹ä»¶å»¶æ—¶ä¸ç©¿é€</h2><h3 id="è¡¨ç°-3"><a href="#è¡¨ç°-3" class="headerlink" title="è¡¨ç°"></a>è¡¨ç°</h3><p>ç›‘å¬å…ƒç´  click äº‹ä»¶ï¼Œç‚¹å‡»å…ƒç´ è§¦å‘æ—¶é—´å»¶è¿Ÿçº¦ 300msã€‚</p><p>ç‚¹å‡»è’™å±‚ï¼Œè’™å±‚æ¶ˆå¤±åï¼Œä¸‹å±‚å…ƒç´ ç‚¹å‡»è§¦å‘ã€‚</p><h3 id="äº§ç”ŸåŸå› -3"><a href="#äº§ç”ŸåŸå› -3" class="headerlink" title="äº§ç”ŸåŸå› "></a>äº§ç”ŸåŸå› </h3><ul><li><p>ä¸ºä»€ä¹ˆä¼šäº§ç”Ÿ <code>click</code> å»¶æ—¶ï¼Ÿ<br>iOS ä¸­çš„ safariï¼Œä¸ºäº†å®ç°åŒå‡»ç¼©æ”¾æ“ä½œï¼Œåœ¨å•å‡» 300ms ä¹‹åï¼Œå¦‚æœæœªè¿›è¡Œç¬¬äºŒæ¬¡ç‚¹å‡»ï¼Œåˆ™æ‰§è¡Œ <code>click</code> å•å‡»æ“ä½œã€‚ä¹Ÿå°±æ˜¯è¯´æ¥åˆ¤æ–­ç”¨æˆ·è¡Œä¸ºæ˜¯å¦ä¸ºåŒå‡»äº§ç”Ÿçš„ã€‚ä½†æ˜¯ï¼Œåœ¨ App ä¸­ï¼Œæ— è®ºæ˜¯å¦éœ€è¦åŒå‡»ç¼©æ”¾è¿™ç§è¡Œä¸ºï¼Œ<code>click</code> å•å‡»éƒ½ä¼šäº§ç”Ÿ 300ms å»¶è¿Ÿã€‚</p></li><li><p>ä¸ºä»€ä¹ˆä¼šäº§ç”Ÿ <code>click</code> ç‚¹å‡»ç©¿é€ï¼Ÿ<br>åŒå±‚å…ƒç´ å åŠ æ—¶ï¼Œåœ¨ä¸Šå±‚å…ƒç´ ä¸Šç»‘å®š touch äº‹ä»¶ï¼Œä¸‹å±‚å…ƒç´ ç»‘å®š <code>click</code> äº‹ä»¶ã€‚ç”±äº <code>click</code> å‘ç”Ÿåœ¨ touch ä¹‹åï¼Œç‚¹å‡»ä¸Šå±‚å…ƒç´ ï¼Œå…ƒç´ æ¶ˆå¤±ï¼Œä¸‹å±‚å…ƒç´ ä¼šè§¦å‘ <code>click</code> äº‹ä»¶ï¼Œç”±æ­¤äº§ç”Ÿäº†ç‚¹å‡»ç©¿é€çš„æ•ˆæœã€‚</p></li></ul><h3 id="åŸç†ä¸è§£å†³æ–¹æ¡ˆ-1"><a href="#åŸç†ä¸è§£å†³æ–¹æ¡ˆ-1" class="headerlink" title="åŸç†ä¸è§£å†³æ–¹æ¡ˆ"></a>åŸç†ä¸è§£å†³æ–¹æ¡ˆ</h3><p>è§£å†³æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨ <code>touchstart</code> æ›¿æ¢ <code>click</code><br>å‰é¢å·²ç»ä»‹ç»äº†ï¼Œç§»åŠ¨è®¾å¤‡ä¸ä»…æ”¯æŒç‚¹å‡»ï¼Œè¿˜æ”¯æŒå‡ ä¸ªè§¦æ‘¸äº‹ä»¶ã€‚ é‚£ä¹ˆæˆ‘ä»¬ç°åœ¨åŸºæœ¬æ€è·¯å°±æ˜¯ç”¨ touch äº‹ä»¶ä»£æ›¿<code>click</code> äº‹ä»¶ã€‚</p><p>å°† <code>click</code> æ›¿æ¢æˆ <code>touchstart</code> ä¸ä»…è§£å†³äº† <code>click</code> äº‹ä»¶éƒ½å»¶æ—¶é—®é¢˜ï¼Œè¿˜è§£å†³äº†ç©¿é€é—®é¢˜ã€‚å› ä¸ºç©¿é€é—®é¢˜æ˜¯åœ¨ touch å’Œ <code>click</code> æ··ç”¨æ—¶äº§ç”Ÿã€‚</p><p>åœ¨åŸç”Ÿä¸­ä½¿ç”¨</p><pre><code class="js">el.addEventListener(&quot;touchstart&quot;, () =&gt; { console.log(&quot;ok&quot;); }, false);</code></pre><p>åœ¨ vue ä¸­ä½¿ç”¨</p><pre><code class="html">&lt;button @touchstart=&quot;handleTouchstart()&quot;&gt;ç‚¹å‡»&lt;/button&gt;</code></pre><p>å¼€æºè§£å†³æ–¹æ¡ˆä¸­ï¼Œä¹Ÿæ˜¯æ—¢æä¾›äº† <code>click</code> äº‹ä»¶ï¼Œåˆæä¾›äº†<code>touchstart</code> äº‹ä»¶ã€‚å¦‚ <code>vant</code> ä¸­çš„ button ç»„ä»¶</p><p><img src="https://camo.githubusercontent.com/30a48da02fce60e7dccd243bbbce4bb7325b069c/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031392f31322f31392f313666316431333330303332313635353f773d3135313226683d33363826663d6a70656726733d3539373630" alt="vant button"></p><p><strong>é‚£ä¹ˆï¼Œæ˜¯å¦å¯ä»¥å°† click äº‹ä»¶å…¨éƒ¨æ›¿æ¢æˆ touchstart å‘¢ï¼Ÿä¸ºä»€ä¹ˆå¼€æºæ¡†æ¶è¿˜ä¼šç»™å‡º click äº‹ä»¶å‘¢ï¼Ÿ</strong></p><p>æˆ‘ä»¬æƒ³è±¡ä¸€ç§æƒ…æ™¯ï¼ŒåŒæ—¶éœ€è¦ç‚¹å‡»å’Œæ»‘åŠ¨çš„åœºæ™¯ä¸‹ã€‚å¦‚æœå°† <code>click</code> æ›¿æ¢æˆ <code>touchstart</code> ä¼šæ€æ ·ï¼Ÿ</p><ul><li>äº‹ä»¶è§¦å‘é¡ºåº: <code>touchstart, touchmove, touchend, click</code>ã€‚</li></ul><p>å¾ˆå®¹æ˜“æƒ³è±¡ï¼Œåœ¨æˆ‘éœ€è¦<code>touchmove</code>æ»‘åŠ¨æ—¶å€™ï¼Œä¼˜å…ˆè§¦å‘äº†<code>touchstart</code>çš„ç‚¹å‡»äº‹ä»¶ï¼Œæ˜¯ä¸æ˜¯å·²ç»äº§ç”Ÿäº†å†²çªå‘¢ï¼Ÿ</p><p>æ‰€ä»¥å‘¢ï¼Œåœ¨å…·æœ‰æ»šåŠ¨çš„æƒ…å†µä¸‹ï¼Œè¿˜æ˜¯å»ºè®®ä½¿ç”¨ click å¤„ç†ã€‚</p><p>åœ¨æ¥ä¸‹æ¥çš„<code>fastclick</code>å¼€æºåº“ä¸­ä¹Ÿåšäº†å¦‚ä¸‹å¤„ç†ã€‚ é’ˆå¯¹ <code>touchstart</code> å’Œ <code>touchend</code>ï¼Œæˆªå–äº†éƒ¨åˆ†æºç ã€‚</p><pre><code class="js">// If the target element is a child of a scrollable layer (using -webkit-overflow-scrolling: touch) and:// 1) the user does a fling scroll on the scrollable layer// 2) the user stops the fling scroll with another tap// then the event.target of the last &#39;touchend&#39; event will be the element that was under the user&#39;s finger// when the fling scroll was started, causing FastClick to send a click event to that layer - unless a check// is made to ensure that a parent layer was not scrolled before sending a synthetic click (issue #42).this.updateScrollParent(targetElement);// Don&#39;t send a synthetic click event if the target element is contained within a parent layer that was scrolled// and this tap is being used to stop the scrolling (usually initiated by a fling - issue #42).scrollParent = targetElement.fastClickScrollParent;if (scrollParent &amp;&amp; scrollParent.fastClickLastScrollTop !== scrollParent.scrollTop) {    return true;}</code></pre><p>ä¸»è¦ç›®çš„å°±æ˜¯ï¼Œåœ¨ä½¿ç”¨ <code>touchstart</code> åˆæˆ <code>click</code> äº‹ä»¶æ—¶ï¼Œä¿è¯å…¶ä¸åœ¨æ»šåŠ¨çš„çˆ¶å…ƒç´ ä¹‹ä¸‹ã€‚</p><p><strong>è§£å†³æ–¹æ¡ˆäºŒï¼š ä½¿ç”¨ <code>fastclick</code> åº“</strong></p><p>ä½¿ç”¨ <code>npm/yarn</code> å®‰è£…åä½¿ç”¨</p><pre><code class="js">import FastClick from &#39;fastclick&#39;;FastClick.attach(document.body, options);</code></pre><p>åŒæ ·ï¼Œä½¿ç”¨<code>fastclick</code>åº“åï¼Œclick å»¶æ—¶å’Œç©¿é€é—®é¢˜éƒ½æ²¡äº†</p><p>æŒ‰ç…§æˆ‘çš„æƒ¯ä¾‹ï¼Œåªè¦æ¶‰åŠå¼€æºåº“ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸€å®šè¦å»äº†è§£å®ƒå®ç°çš„åŸç†ã€‚ä¸»è¦æ˜¯å°†ç°æœ‰çš„åŸç”Ÿäº‹ä»¶é›†åˆå°è£…åˆæˆä¸€ä¸ªå…¼å®¹æ€§è¾ƒå¼ºçš„äº‹ä»¶é›†åˆã€‚</p><p><a href="https://github.com/ftlabs/fastclick/blob/master/lib/fastclick.js" target="_blank" rel="noopener">fastclickæºç </a> æ ¸å¿ƒä»£ç ä¸é•¿ï¼Œ 1000 è¡Œä¸åˆ°ã€‚æœ‰å…´è¶£å¯ä»¥äº†è§£ä¸€ä¸‹!</p><h2 id="è½¯é”®ç›˜å°†é¡µé¢é¡¶èµ·æ¥ã€æ”¶èµ·æœªå›è½é—®é¢˜"><a href="#è½¯é”®ç›˜å°†é¡µé¢é¡¶èµ·æ¥ã€æ”¶èµ·æœªå›è½é—®é¢˜" class="headerlink" title="è½¯é”®ç›˜å°†é¡µé¢é¡¶èµ·æ¥ã€æ”¶èµ·æœªå›è½é—®é¢˜"></a>è½¯é”®ç›˜å°†é¡µé¢é¡¶èµ·æ¥ã€æ”¶èµ·æœªå›è½é—®é¢˜</h2><h2 id="è¡¨ç°-4"><a href="#è¡¨ç°-4" class="headerlink" title="è¡¨ç°"></a>è¡¨ç°</h2><p>Android æ‰‹æœºä¸­ï¼Œç‚¹å‡» <code>input</code> æ¡†æ—¶ï¼Œé”®ç›˜å¼¹å‡ºï¼Œå°†é¡µé¢é¡¶èµ·æ¥ï¼Œå¯¼è‡´é¡µé¢æ ·å¼é”™ä¹±ã€‚</p><p>ç§»å¼€ç„¦ç‚¹æ—¶ï¼Œé”®ç›˜æ”¶èµ·ï¼Œé”®ç›˜åŒºåŸŸç©ºç™½ï¼Œæœªå›è½ã€‚</p><h2 id="äº§ç”ŸåŸå› -4"><a href="#äº§ç”ŸåŸå› -4" class="headerlink" title="äº§ç”ŸåŸå› "></a>äº§ç”ŸåŸå› </h2><p>æˆ‘ä»¬åœ¨app å¸ƒå±€ä¸­ä¼šæœ‰ä¸ªå›ºå®šçš„åº•éƒ¨ã€‚å®‰å“ä¸€äº›ç‰ˆæœ¬ä¸­ï¼Œè¾“å…¥å¼¹çª—å‡ºæ¥ï¼Œä¼šå°†è§£å‹ <code>absolute</code> å’Œ <code>fixed</code> å®šä½çš„å…ƒç´ ã€‚å¯¼è‡´å¯è§†åŒºåŸŸå˜å°ï¼Œå¸ƒå±€é”™ä¹±ã€‚</p><h2 id="åŸç†ä¸è§£å†³æ–¹æ¡ˆ-2"><a href="#åŸç†ä¸è§£å†³æ–¹æ¡ˆ-2" class="headerlink" title="åŸç†ä¸è§£å†³æ–¹æ¡ˆ"></a>åŸç†ä¸è§£å†³æ–¹æ¡ˆ</h2><p>è½¯é”®ç›˜å°†é¡µé¢é¡¶èµ·æ¥çš„è§£å†³æ–¹æ¡ˆï¼Œä¸»è¦æ˜¯<strong>é€šè¿‡ç›‘å¬é¡µé¢é«˜åº¦å˜åŒ–ï¼Œå¼ºåˆ¶æ¢å¤æˆå¼¹å‡ºå‰çš„é«˜åº¦</strong>ã€‚</p><pre><code class="js">// è®°å½•åŸæœ‰çš„è§†å£é«˜åº¦const originalHeight = document.body.clientHeight || document.documentElement.clientHeight;window.onresize = function(){  var resizeHeight = document.documentElement.clientHeight || document.body.clientHeight;  if(resizeHeight &lt; originalHeight ){    // æ¢å¤å†…å®¹åŒºåŸŸé«˜åº¦    // const container = document.getElementById(&quot;container&quot;)    // ä¾‹å¦‚ container.style.height = originalHeight;  }}</code></pre><p>é”®ç›˜ä¸èƒ½å›è½é—®é¢˜å‡ºç°åœ¨ <code>iOS 12+</code> å’Œ<code>wechat 6.7.4+</code> ä¸­ï¼Œè€Œåœ¨å¾®ä¿¡ H5 å¼€å‘ä¸­æ˜¯æ¯”è¾ƒå¸¸è§çš„ Bugã€‚</p><p>å…¼å®¹åŸç†ï¼Œ<strong>1.åˆ¤æ–­ç‰ˆæœ¬ç±»å‹ 2.æ›´æ”¹æ»šåŠ¨çš„å¯è§†åŒºåŸŸ</strong></p><pre><code class="js">const isWechat = window.navigator.userAgent.match(/MicroMessenger\/([\d\.]+)/i);if (!isWechat) return;const wechatVersion = wechatInfo[1];const version = (navigator.appVersion).match(/OS (\d+)_(\d+)_?(\d+)?/); // å¦‚æœè®¾å¤‡ç±»å‹ä¸ºiOS 12+ å’Œwechat 6.7.4+ï¼Œæ¢å¤æˆåŸæ¥çš„è§†å£if (+wechatVersion.replace(/\./g, &#39;&#39;) &gt;= 674 &amp;&amp; +version[1] &gt;= 12) {  window.scrollTo(0, Math.max(document.body.clientHeight, document.documentElement.clientHeight));}</code></pre><h2 id="iPhone-Xç³»åˆ—å®‰å…¨åŒºåŸŸé€‚é…é—®é¢˜"><a href="#iPhone-Xç³»åˆ—å®‰å…¨åŒºåŸŸé€‚é…é—®é¢˜" class="headerlink" title="iPhone Xç³»åˆ—å®‰å…¨åŒºåŸŸé€‚é…é—®é¢˜"></a>iPhone Xç³»åˆ—å®‰å…¨åŒºåŸŸé€‚é…é—®é¢˜</h2><h3 id="è¡¨ç°-5"><a href="#è¡¨ç°-5" class="headerlink" title="è¡¨ç°"></a>è¡¨ç°</h3><p>å¤´éƒ¨åˆ˜æµ·ä¸¤ä¾§åŒºåŸŸæˆ–è€…åº•éƒ¨åŒºåŸŸï¼Œå‡ºç°åˆ˜æµ·é®æŒ¡æ–‡å­—ï¼Œæˆ–è€…å‘ˆç°é»‘åº•æˆ–ç™½åº•ç©ºç™½åŒºåŸŸã€‚</p><h3 id="äº§ç”ŸåŸå› -5"><a href="#äº§ç”ŸåŸå› -5" class="headerlink" title="äº§ç”ŸåŸå› "></a>äº§ç”ŸåŸå› </h3><p>iPhone X ä»¥åŠå®ƒä»¥ä¸Šçš„ç³»åˆ—ï¼Œéƒ½é‡‡ç”¨åˆ˜æµ·å±è®¾è®¡å’Œå…¨é¢å±æ‰‹åŠ¿ã€‚å¤´éƒ¨ã€åº•éƒ¨ã€ä¾§è¾¹éƒ½éœ€è¦åšç‰¹æ®Šå¤„ç†ã€‚æ‰èƒ½é€‚é… iPhone X çš„ç‰¹æ®Šæƒ…å†µã€‚</p><h3 id="è§£å†³æ–¹æ¡ˆ-2"><a href="#è§£å†³æ–¹æ¡ˆ-2" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>è®¾ç½®å®‰å…¨åŒºåŸŸï¼Œå¡«å……å±é™©åŒºåŸŸï¼Œå±é™©åŒºåŸŸä¸åšæ“ä½œå’Œå†…å®¹å±•ç¤ºã€‚</p><blockquote><p>å±é™©åŒºåŸŸæŒ‡å¤´éƒ¨ä¸è§„åˆ™åŒºåŸŸï¼Œåº•éƒ¨æ¨ªæ¡åŒºåŸŸï¼Œå·¦å³è§¦å‘åŒºåŸŸã€‚</p></blockquote><p><img src="https://camo.githubusercontent.com/e3113d3bf82f463084d4e51e4ee5dd804d7aa77f/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031392f31322f31392f313666316433313135306537396362393f773d3131313826683d35393426663d6a70656726733d3439313234" alt="å±é™©åŒºåŸŸ"></p><p>å…·ä½“æ“ä½œä¸ºï¼š<code>viewport-fit</code> meta æ ‡ç­¾è®¾ç½®ä¸º <code>cover</code>ï¼Œè·å–æ‰€æœ‰åŒºåŸŸå¡«å……ã€‚ åˆ¤æ–­è®¾å¤‡æ˜¯å¦å±äº <code>iPhone X</code>ï¼Œç»™å¤´éƒ¨åº•éƒ¨å¢åŠ é€‚é…å±‚</p><blockquote><p>viewport-fit æœ‰ 3 ä¸ªå€¼åˆ†åˆ«ä¸ºï¼š</p></blockquote><ul><li>autoï¼šæ­¤å€¼ä¸å½±å“åˆå§‹å¸ƒå±€è§†å›¾ç«¯å£ï¼Œå¹¶ä¸”æ•´ä¸ªwebé¡µé¢éƒ½æ˜¯å¯æŸ¥çœ‹çš„ã€‚</li><li>containï¼š è§†å›¾ç«¯å£æŒ‰æ¯”ä¾‹ç¼©æ”¾ï¼Œä»¥é€‚åˆæ˜¾ç¤ºå†…åµŒçš„æœ€å¤§çŸ©å½¢ã€‚</li><li>coverï¼šè§†å›¾ç«¯å£è¢«ç¼©æ”¾ä»¥å¡«å……è®¾å¤‡æ˜¾ç¤ºã€‚å¼ºçƒˆå»ºè®®ä½¿ç”¨ safe area inset å˜é‡ï¼Œä»¥ç¡®ä¿é‡è¦å†…å®¹ä¸ä¼šå‡ºç°åœ¨æ˜¾ç¤ºä¹‹å¤–ã€‚</li></ul><p><strong>è®¾ç½® viewport-fit ä¸º cover</strong></p><p><code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, user-scalable=yes, viewport-fit=cover&quot;&gt;</code></p><p><strong>å¢åŠ é€‚é…å±‚</strong></p><p>ä½¿ç”¨ <code>safe area inset</code> å˜é‡</p><pre><code class="css">/* é€‚é… iPhone X é¡¶éƒ¨å¡«å……*/@supports (top: env(safe-area-inset-top)){  body,  .header{      padding-top: constant(safe-area-inset-top, 40px);      padding-top: env(safe-area-inset-top, 40px);      padding-top: var(safe-area-inset-top, 40px);  }}/* åˆ¤æ–­iPhoneX å°† footer çš„ padding-bottom å¡«å……åˆ°æœ€åº•éƒ¨ */@supports (bottom: env(safe-area-inset-bottom)){    body,    .footer{        padding-bottom: constant(safe-area-inset-bottom, 20px);        padding-bottom: env(safe-area-inset-bottom, 20px);        padding-top: var(safe-area-inset-bottom, 20px);    }}</code></pre><blockquote><p><code>safe-area-inset-top</code>, <code>safe-area-inset-right</code>, <code>safe-area-inset-bottom</code>, <code>safe-area-inset-left</code> <code>safe-area-inset-*</code>ç”±å››ä¸ªå®šä¹‰äº†è§†å£è¾¹ç¼˜å†…çŸ©å½¢çš„ top, right, bottom å’Œ left çš„ç¯å¢ƒå˜é‡ç»„æˆï¼Œè¿™æ ·å¯ä»¥å®‰å…¨åœ°æ”¾å…¥å†…å®¹ï¼Œè€Œä¸ä¼šæœ‰è¢«éçŸ©å½¢çš„æ˜¾ç¤ºåˆ‡æ–­çš„é£é™©ã€‚å¯¹äºçŸ©å½¢è§†å£ï¼Œä¾‹å¦‚æ™®é€šçš„ç¬”è®°æœ¬ç”µè„‘æ˜¾ç¤ºå™¨ï¼Œå…¶å€¼ç­‰äºé›¶ã€‚ å¯¹äºéçŸ©å½¢æ˜¾ç¤ºå™¨ï¼ˆå¦‚åœ†å½¢è¡¨ç›˜ï¼ŒiPhoneX å±å¹•ï¼‰ï¼Œåœ¨ç”¨æˆ·ä»£ç†è®¾ç½®çš„å››ä¸ªå€¼å½¢æˆçš„çŸ©å½¢å†…ï¼Œæ‰€æœ‰å†…å®¹å‡å¯è§ã€‚</p></blockquote><p>å…¶ä¸­ env() ç”¨æ³•ä¸º <code>env( &lt;custom-ident&gt; , &lt;declaration-value&gt;? )</code>ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè‡ªå®šä¹‰çš„åŒºåŸŸï¼Œç¬¬äºŒä¸ªä¸ºå¤‡ç”¨å€¼ã€‚</p><p>å…¶ä¸­ var() ç”¨æ³•ä¸º <code>var( &lt;custom-property-name&gt; , &lt;declaration-value&gt;? )</code>ï¼Œä½œç”¨æ˜¯åœ¨ env() ä¸ç”Ÿæ•ˆçš„æƒ…å†µä¸‹ï¼Œç»™å‡ºä¸€ä¸ªå¤‡ç”¨å€¼ã€‚</p><p><code>constantï¼ˆï¼‰</code> è¢« css 2017-2018 å¹´ä¸ºè‰ç¨¿é˜¶æ®µï¼Œæ˜¯å¦å·²è¢«æ ‡å‡†åŒ–æœªçŸ¥ã€‚è€Œå…¶ä»–iOS æµè§ˆå™¨ç‰ˆæœ¬ä¸­æ˜¯å¦æœ‰æ­¤å‡½æ•°æœªçŸ¥ï¼Œä½œä¸ºå…¼å®¹å¤„ç†è€Œæ·»åŠ è¿›å»ã€‚</p><p>è¯¦æƒ…è¯·æŸ¥çœ‹æ–‡ç« æœ«å°¾çš„å‚è€ƒèµ„æ–™ã€‚</p><p><strong>å…¼å®¹æ€§</strong></p><p><img src="https://camo.githubusercontent.com/c2eaef48e9887a3709118acbcd181adf338e1b97/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031392f31322f32302f313666323132666639393865316563313f773d3230323426683d35363826663d6a70656726733d313432363938" alt="å…¼å®¹æ€§"></p><h2 id="é¡µé¢ç”Ÿæˆä¸ºå›¾ç‰‡å’ŒäºŒç»´ç é—®é¢˜"><a href="#é¡µé¢ç”Ÿæˆä¸ºå›¾ç‰‡å’ŒäºŒç»´ç é—®é¢˜" class="headerlink" title="é¡µé¢ç”Ÿæˆä¸ºå›¾ç‰‡å’ŒäºŒç»´ç é—®é¢˜"></a>é¡µé¢ç”Ÿæˆä¸ºå›¾ç‰‡å’ŒäºŒç»´ç é—®é¢˜</h2><h3 id="è¡¨ç°-6"><a href="#è¡¨ç°-6" class="headerlink" title="è¡¨ç°"></a>è¡¨ç°</h3><p>åœ¨å·¥ä½œä¸­æœ‰éœ€è¦å°†é¡µé¢ç”Ÿæˆå›¾ç‰‡æˆ–è€…äºŒç»´ç çš„éœ€æ±‚ã€‚å¯èƒ½æˆ‘ä»¬ç¬¬ä¸€æƒ³åˆ°çš„ï¼Œäº¤ç»™åç«¯æ¥ç”Ÿæˆæ›´ç®€å•ã€‚ä½†æ˜¯è¿™æ ·æˆ‘ä»¬éœ€è¦æŠŠé¡µé¢ä»£ç å…¨éƒ¨ä¼ ç»™åç«¯ï¼Œç½‘ç»œæ€§èƒ½æ¶ˆè€—å¤ªå¤§ã€‚</p><h3 id="è§£å†³æ–¹æ¡ˆ-3"><a href="#è§£å†³æ–¹æ¡ˆ-3" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><h4 id="ç”ŸæˆäºŒç»´ç "><a href="#ç”ŸæˆäºŒç»´ç " class="headerlink" title="ç”ŸæˆäºŒç»´ç "></a>ç”ŸæˆäºŒç»´ç </h4><p>ä½¿ç”¨ <code>QRCode</code> ç”ŸæˆäºŒç»´ç </p><pre><code class="js">import QRCode from &#39;qrcode&#39;;// ä½¿ç”¨ async ç”Ÿæˆå›¾ç‰‡const options = {};const url = window.location.href;async url =&gt; {  try {    console.log(await QRCode.toDataURL(url, options))  } catch (err) {    console.error(err);  }}</code></pre><p>å°† <code>await QRCode.toDataURL(url, options)</code> èµ‹å€¼ç»™ å›¾ç‰‡ url å³å¯</p><h4 id="ç”Ÿæˆå›¾ç‰‡"><a href="#ç”Ÿæˆå›¾ç‰‡" class="headerlink" title="ç”Ÿæˆå›¾ç‰‡"></a>ç”Ÿæˆå›¾ç‰‡</h4><p>ä¸»è¦æ˜¯ä½¿ç”¨ <code>htmlToCanvas</code> ç”Ÿæˆ <code>canvas</code> ç”»å¸ƒ</p><pre><code class="js">import html2canvas from &#39;html2canvas&#39;;html2canvas(document.body).then(function(canvas) {    document.body.appendChild(canvas);});</code></pre><p>ä½†æ˜¯ä¸å•å•åœ¨æ­¤å¤„å°±å®Œäº†ï¼Œç”±äºæ˜¯ canvas çš„åŸå› ã€‚ç§»åŠ¨ç«¯ç”Ÿæˆå‡ºæ¥çš„å›¾ç‰‡æ¯”è¾ƒæ¨¡ç³Šã€‚</p><p>æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªæ–°çš„ canvas æ–¹æ³•å¤šå€ç”Ÿæˆï¼Œæ”¾å…¥ä¸€å€å®¹å™¨é‡Œé¢ï¼Œè¾¾åˆ°æ›´åŠ æ¸…æ™°çš„æ•ˆæœï¼Œ<strong>é€šè¿‡è¶…é“¾æ¥ä¸‹è½½å›¾ç‰‡ ä¸‹è½½æ–‡ä»¶ç®€å•å®ç°ï¼Œæ›´å®Œæ•´çš„å®ç°æ–¹å¼ä¹‹åæ›´æ–°</strong></p><pre><code class="js">const scaleSize = 2;const newCanvas = document.createElement(&quot;canvas&quot;);const target = document.querySelector(&#39;div&#39;);const width = parseInt(window.getComputedStyle(target).width);const height = parseInt(window.getComputedStyle(target).height);newCanvas.width = width * scaleSize;newCanvas.height = widthh * scaleSize;newCanvas.style.width = width + &quot;px&quot;;newCanvas.style.height =width + &quot;px&quot;;const context = newCanvas.getContext(&quot;2d&quot;);context.scale(scaleSize, scaleSize);html2canvas(document.querySelector(&#39;.demo&#39;), { canvas: newCanvas }).then(function(canvas) {  // ç®€å•çš„é€šè¿‡è¶…é“¾æ¥è®¾ç½®ä¸‹è½½åŠŸèƒ½  document.querySelector(&quot;.btn&quot;).setAttribute(&#39;href&#39;, canvas.toDataURL());}</code></pre><p>æ ¹æ®éœ€è¦è®¾ç½® <code>scaleSize</code> å¤§å°</p><h2 id="å¾®ä¿¡å…¬ä¼—å·åˆ†äº«é—®é¢˜"><a href="#å¾®ä¿¡å…¬ä¼—å·åˆ†äº«é—®é¢˜" class="headerlink" title="å¾®ä¿¡å…¬ä¼—å·åˆ†äº«é—®é¢˜"></a>å¾®ä¿¡å…¬ä¼—å·åˆ†äº«é—®é¢˜</h2><h3 id="è¡¨ç°-7"><a href="#è¡¨ç°-7" class="headerlink" title="è¡¨ç°"></a>è¡¨ç°</h3><p>åœ¨å¾®ä¿¡å…¬ä¼—å· H5 å¼€å‘ä¸­ï¼Œé¡µé¢å†…éƒ¨ç‚¹å‡»åˆ†äº«æŒ‰é’®è°ƒç”¨ SDKï¼Œæ–¹æ³•ä¸ç”Ÿæ•ˆã€‚</p><h3 id="è§£å†³æ–¹æ¡ˆ-4"><a href="#è§£å†³æ–¹æ¡ˆ-4" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>è§£å†³æ–¹æ³•ï¼š<strong>æ·»åŠ ä¸€å±‚è’™å±‚ï¼Œåšåˆ†äº«å¼•å¯¼</strong>ã€‚<br>å› ä¸ºé¡µé¢å†…éƒ¨ç‚¹å‡»åˆ†äº«æŒ‰é’®æ— æ³•ç›´æ¥è°ƒç”¨ï¼Œè€Œåˆ†äº«åŠŸèƒ½éœ€è¦ç‚¹å‡»å³ä¸Šè§’æ›´å¤šæ¥æ“ä½œã€‚</p><p>ç„¶åç”¨æˆ·å¯èƒ½ä¸çŸ¥é“é€šè¿‡å³ä¸Šè§’å°æ ‡é‡Œé¢çš„åŠŸèƒ½åˆ†äº«ã€‚åˆæƒ³å¼•å¯¼ç”¨æˆ·åˆ†äº«ï¼Œè¿™æ—¶åº”è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p><p>æŠ€æœ¯æ— æ³•å®ç°çš„ï¼Œä»äº§å“å‡ºå‘ã€‚</p><p><img src="https://camo.githubusercontent.com/f37734d29e8e4cb0df21bdd06be8aefc796b0094/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031392f31322f32302f313666316566613633323037313939623f773d33323826683d35373426663d6a70656726733d3535323135" alt="share"></p><p><strong>å¦‚æœæŠ€æœ¯ä¸Šå®ç°å¤æ‚ï¼Œæˆ–è€…ç›´æ¥ä¸èƒ½å®ç°ã€‚ä¸è¦å¼ºè¡Œé’»ç‰›è§’å°–å“¦ï¼Œå­¦ä¼šæ€¼äº§å“ï¼Œä¹Ÿæ˜¯ç¨‹åºå‘˜å¿…å¤‡çš„èƒ½åŠ›ä¹‹ä¸€ã€‚</strong></p><h2 id="H5-è°ƒç”¨-SDK-ç›¸å…³è§£å†³æ–¹æ¡ˆ"><a href="#H5-è°ƒç”¨-SDK-ç›¸å…³è§£å†³æ–¹æ¡ˆ" class="headerlink" title="H5 è°ƒç”¨ SDK ç›¸å…³è§£å†³æ–¹æ¡ˆ"></a>H5 è°ƒç”¨ SDK ç›¸å…³è§£å†³æ–¹æ¡ˆ</h2><h3 id="äº§ç”ŸåŸå› -6"><a href="#äº§ç”ŸåŸå› -6" class="headerlink" title="äº§ç”ŸåŸå› "></a>äº§ç”ŸåŸå› </h3><p>åœ¨ Hybrid App ä¸­ä½¿ç”¨ H5 æ˜¯æœ€å¸¸è§çš„ä¸è¿‡äº†ï¼Œåˆšæ¥è§¦çš„ï¼Œè‚¯å®šä¼šå¾ˆç”Ÿç–æ¨¡ç³Šã€‚ä¸çŸ¥é“ H5 å’Œ Hybrid æ˜¯æ€ä¹ˆäº¤äº’çš„ã€‚æ€æ ·åŒæ—¶æ”¯æŒ iOS å’Œ Android å‘¢ï¼Ÿç°åœ¨æ¥è°ˆè°ˆ Hybrid æŠ€æœ¯è¦ç‚¹ï¼ŒåŸç”Ÿä¸ H5 çš„é€šä¿¡ã€‚</p><h3 id="è§£å†³æ–¹æ¡ˆ-5"><a href="#è§£å†³æ–¹æ¡ˆ-5" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>ä½¿ç”¨ <code>DSBridge</code> åŒæ—¶æ”¯æŒ iOS ä¸ Android</p><p>SDKå°ç»„ æä¾›æ–¹æ³•<br>æ³¨å†Œæ–¹æ³• <code>bridge.register</code></p><pre><code class="js">bridge.register(&#39;enterApp&#39;, function() {  broadcast.emit(&#39;ENTER_APP&#39;)})</code></pre><p>å›è°ƒæ–¹æ³• <code>bridge.call</code></p><pre><code class="js">export const getSDKVersion = () =&gt; bridge.call(&#39;BLT.getSDKVersion&#39;)</code></pre><p>äº‹ä»¶ç›‘å¬ä¸è§¦å‘æ³•</p><pre><code class="js">const broadcast = {  on: function(name, fn, pluralable) {    this._on(name, fn, pluralable, false)  },  once: function(name, fn, pluralable) {    this._on(name, fn, pluralable, true)  },  _on: function(name, fn, pluralable, once) {    let eventData = broadcast.data    let fnObj = { fn: fn, once: once }    if (pluralable &amp;&amp; Object.prototype.hasOwnProperty.call(eventData, &#39;name&#39;)) {      eventData[name].push(fnObj)    } else {      eventData[name] = [fnObj]    }    return this  },  emit: function(name, data, thisArg) {    let fn, fnList, i, len    thisArg = thisArg || null    fnList = broadcast.data[name] || []    for (i = 0, len = fnList.length; i &lt; len; i++) {      fn = fnList[i].fn      fn.apply(thisArg, [data, name])      if (fnList[i].once) {        fnList.splice(i, 1)        i--        len--      }    }    return this  },  data: {}}export default broadcast</code></pre><p>è¸©å‘æ³¨æ„</p><p>æ–¹æ³•è°ƒç”¨å‰ï¼Œä¸€å®šè¦åˆ¤æ–­ SDK æ˜¯å¦æä¾›è¯¥æ–¹æ³• å¦‚æœ Android æä¾›è¯¥æ–¹æ³•ï¼ŒiOS ä¸Šè°ƒç”¨å°±ä¼šå‡ºç°ä¸€ä¸ªæ–¹æ³•è°ƒç”¨å¤±è´¥ç­‰å¼¹çª—ã€‚ æ€ä¹ˆè§£å†³å‘¢ï¼Ÿ</p><p><strong>æä¾›ä¸€ä¸ªåˆ¤æ–­æ˜¯å¦ Androidã€iOSã€‚æ ¹æ®è®¾å¤‡è¿›è¡Œåˆ¤æ–­</strong></p><pre><code class="js">export const hasNativeMethod = (name) =&gt;  return bridge.hasNativeMethod(&#39;BYJ.&#39; + name)}export const getSDKVersion = function() {  if (hasNativeMethod(&#39;getSDKVersion&#39;)) {    bridge.call(&#39;BYJ.getSDKVersion&#39;)  }}</code></pre><blockquote><p>åŒä¸€åŠŸèƒ½éœ€è¦iOSï¼ŒAndroidæ–¹æ³•åç›¸åŒï¼Œè¿™æ ·æ›´å¥½å¤„ç†å“¦</p></blockquote><h2 id="H5-è°ƒè¯•ç›¸å…³æ–¹æ¡ˆç­–ç•¥"><a href="#H5-è°ƒè¯•ç›¸å…³æ–¹æ¡ˆç­–ç•¥" class="headerlink" title="H5 è°ƒè¯•ç›¸å…³æ–¹æ¡ˆç­–ç•¥"></a>H5 è°ƒè¯•ç›¸å…³æ–¹æ¡ˆç­–ç•¥</h2><h3 id="è¡¨ç°-8"><a href="#è¡¨ç°-8" class="headerlink" title="è¡¨ç°"></a>è¡¨ç°</h3><p>è°ƒè¯•ä»£ç ä¸€èˆ¬å°±æ˜¯ä¸ºäº†<strong>æŸ¥çœ‹æ•°æ®å’Œå®šä½ bug</strong>ã€‚åˆ†ä¸ºä¸¤ç§åœºæ™¯ï¼Œä¸€ç§æ˜¯å¼€å‘å’Œæµ‹è¯•æ—¶è°ƒè¯•ï¼Œä¸€ç§æ˜¯ç”Ÿäº§ç¯å¢ƒä¸Šè°ƒè¯•ã€‚</p><p>ä¸ºä»€ä¹ˆæœ‰ç”Ÿäº§ç¯å¢ƒä¸Šè°ƒè¯•å‘¢ï¼Ÿæœ‰äº›æ—¶å€™æµ‹è¯•ç¯å¢ƒä¸Šæ²¡æ³•å¤ç°è¿™ä¸ª bugï¼Œæµ‹è¯•ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒä¸ä¸€è‡´ï¼Œæ­¤æ—¶å°±éœ€è¦ç´§æ€¥ç”Ÿäº§è°ƒè¯•ã€‚</p><p>åœ¨ PC ç«¯å¼€å‘æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æ‰å‡ºæ§åˆ¶å°ï¼Œä½¿ç”¨æµè§ˆå™¨æä¾›çš„å·¥å…·æ“ä½œdevtoolsæˆ–è€…æŸ¥çœ‹æ—¥å¿—ã€‚ä½†æ˜¯åœ¨ App å†…éƒ¨æˆ‘ä»¬æ€ä¹ˆåšå‘¢ï¼Ÿ</p><h3 id="åŸç†ä¸è§£å†³æ–¹æ¡ˆ-3"><a href="#åŸç†ä¸è§£å†³æ–¹æ¡ˆ-3" class="headerlink" title="åŸç†ä¸è§£å†³æ–¹æ¡ˆ"></a>åŸç†ä¸è§£å†³æ–¹æ¡ˆ</h3><ol><li>vconsole æ§åˆ¶å°æ’ä»¶</li></ol><p>ä½¿ç”¨æ–¹æ³•ä¹Ÿå¾ˆç®€å•</p><pre><code class="js">import Vconsole from &#39;vconsole&#39;new Vconsole()</code></pre><p>æœ‰å…´è¶£çœ‹çœ‹å®ƒå®ç°çš„åŸºæœ¬åŸç†ï¼Œæˆ‘ä»¬å…³æ³¨çš„ç‚¹åº”è¯¥åœ¨ <code>vsconsole</code> å¦‚ä½•æ‰“å°å‡ºæˆ‘ä»¬æ‰€æœ‰ <code>log</code> çš„ è…¾è®¯å¼€æº<a href="https://github.com/Tencent/vConsole/blob/dev/src/core/core.js" target="_blank" rel="noopener">vconsole</a></p><p>ä¸Šè¿°æ–¹æ³•ä»…ç”¨äºå¼€å‘å’Œæµ‹è¯•ã€‚ç”Ÿäº§ç¯å¢ƒä¸­ä¸å…è®¸å‡ºç°ï¼Œæ‰€ä»¥ï¼Œ<strong>ä½¿ç”¨æ—¶éœ€è¦å¯¹ç¯å¢ƒè¿›è¡Œåˆ¤æ–­</strong>ã€‚</p><pre><code class="js">import Vconsole from &#39;vconsole&#39;if (process.env.NODE_ENV !== &#39;production&#39;) {    new Vconsole()}</code></pre><ol start="2"><li>ä»£ç† + spy-debugger</li></ol><p>æ“ä½œç¨å¾®æœ‰ç‚¹éº»çƒ¦ï¼Œä¸è¿‡æˆ‘ä¼šè¯¦ç»†å†™å‡ºï¼Œå¤§è‡´åˆ†ä¸º 4 ä¸ªæ­¥éª¤</p><ul><li>å®‰è£…æ’ä»¶(å…¨å±€å®‰è£…)<br>sudo npm install spy-debugger -g</li><li>æ‰‹æœºä¸ç”µè„‘ç½®äºåŒä¸€ wifi ä¸‹ï¼Œæ‰‹æœºè®¾ç½®ä»£ç†<br>è®¾ç½®æ‰‹æœºçš„ HTTP ä»£ç†ï¼Œä»£ç† IP åœ°å€è®¾ç½®ä¸º PC çš„ IP åœ°å€ï¼Œç«¯å£ä¸ºspy-debuggerçš„å¯åŠ¨ç«¯å£</li></ul><p><code>spy-debugger</code> é»˜è®¤ç«¯å£ï¼š<code>9888</code></p><p>Android ï¼šè®¾ç½® - WLAN - é•¿æŒ‰é€‰ä¸­ç½‘ç»œ - ä¿®æ”¹ç½‘ç»œ - é«˜çº§ - ä»£ç†è®¾ç½® - æ‰‹åŠ¨</p><p>IOS ï¼šè®¾ç½® - Wi-Fi - é€‰ä¸­ç½‘ç»œ, ç‚¹å‡»æ„Ÿå¹å·, HTTP ä»£ç†æ‰‹åŠ¨</p><ul><li>æ‰‹æœºæ‰“å¼€æµè§ˆå™¨æˆ–è€… app ä¸­ H5 é¡µé¢</li><li>æ‰“å¼€æ¡Œé¢æ—¥å¿—ç½‘ç«™è¿›è¡Œè°ƒè¯•ï¼Œç‚¹å‡» npm æ§åˆ¶å°ç›‘å¬åœ°å€ã€‚æŸ¥çœ‹æŠ“åŒ…å’Œ H5 é¡µé¢ç»“æ„</li></ul><p>è¿™ç§æ–¹å¼å¯ä»¥è°ƒè¯•ç”Ÿæˆç¯å¢ƒçš„é¡µé¢ï¼Œä¸éœ€è¦ä¿®æ”¹ä»£ç ï¼Œå¯ä»¥åº”ä»˜å¤§å¤šæ•°è°ƒè¯•éœ€æ±‚</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a href="https://developer.apple.com/library/archive/documentation/AppleApplications/Reference/SafariCSSRef/Articles/StandardCSSProperties.html#//apple_ref/css/property/-webkit-overflow-scrolling" target="_blank" rel="noopener">Safari CSS Reference</a><br><a href="https://developer.apple.com/library/archive/documentation/AppleApplications/Reference/SafariCSSRef/Articles/StandardCSSProperties.html#//apple_ref/css/property/-webkit-overflow-scrolling" target="_blank" rel="noopener">MDN touch äº‹ä»¶</a><br><a href="https://developer.apple.com/library/archive/documentation/AppleApplications/Reference/SafariCSSRef/Articles/StandardCSSProperties.html#//apple_ref/css/property/-webkit-overflow-scrolling" target="_blank" rel="noopener">MDN css var()</a><br><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/env" target="_blank" rel="noopener">MDN css env()</a><br><a href="https://drafts.csswg.org/css-env-1/" target="_blank" rel="noopener">csswg env() drafts</a><br><a href="https://github.com/ftlabs/fastclick/blob/master/lib/fastclick.js" target="_blank" rel="noopener">fastclick æºç </a><br><a href="https://github.com/wendux/DSBridge-Android" target="_blank" rel="noopener">DSBridge-Android</a> &amp; <a href="https://github.com/wendux/DSBridge-IOS" target="_blank" rel="noopener">DSBridge-iOS</a><br><a href="https://github.com/davidshimjs/qrcodejs" target="_blank" rel="noopener">qrcodejs æºç </a><br><a href="https://github.com/niklasvh/html2canvas" target="_blank" rel="noopener">html2canvas æºç </a><br><a href="https://www.cnblogs.com/lolDragon/p/7795174.html" target="_blank" rel="noopener">å…³äºH5é¡µé¢åœ¨iPhoneXé€‚é…</a><br><a href="https://youzan.github.io/vant/#/zh-CN/button" target="_blank" rel="noopener">vant ç›¸å…³æ–‡æ¡£</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://github.com/suoyuesmile/suo-blog/blob/master/articals/h5/0003.md&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;åŸæ–‡åœ°å€&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;ç§»åŠ¨ç«¯-H5-ç›¸å…³é—®é¢˜æ±‡æ€»ï¼š&quot;&gt;&lt;a href=&quot;#ç§»åŠ¨ç«¯-H5-ç›¸å…³é—®é¢˜æ±‡æ€»ï¼š&quot; class=&quot;headerlink&quot; title=&quot;ç§»åŠ¨ç«¯ H5 ç›¸å…³é—®é¢˜æ±‡æ€»ï¼š&quot;&gt;&lt;/a&gt;ç§»åŠ¨ç«¯ H5 ç›¸å…³é—®é¢˜æ±‡æ€»ï¼š&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;1px é—®é¢˜&lt;/li&gt;
&lt;li&gt;å“åº”å¼å¸ƒå±€&lt;/li&gt;
&lt;li&gt;iOS æ»‘åŠ¨ä¸æµç•…&lt;/li&gt;
&lt;li&gt;iOS ä¸Šæ‹‰è¾¹ç•Œä¸‹æ‹‰å‡ºç°ç™½è‰²ç©ºç™½&lt;/li&gt;
&lt;li&gt;é¡µé¢ä»¶æ”¾å¤§æˆ–ç¼©å°ä¸ç¡®å®šæ€§è¡Œä¸º&lt;/li&gt;
&lt;li&gt;click ç‚¹å‡»ç©¿é€ä¸å»¶è¿Ÿ&lt;/li&gt;
&lt;li&gt;è½¯é”®ç›˜å¼¹å‡ºå°†é¡µé¢é¡¶èµ·æ¥ã€æ”¶èµ·æœªå›è½é—®é¢˜&lt;/li&gt;
&lt;li&gt;iPhone X åº•éƒ¨æ é€‚é…é—®é¢˜&lt;/li&gt;
&lt;li&gt;ä¿å­˜é¡µé¢ä¸ºå›¾ç‰‡å’ŒäºŒç»´ç é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ&lt;/li&gt;
&lt;li&gt;å¾®ä¿¡å…¬ä¼—å· H5 åˆ†äº«é—®é¢˜&lt;/li&gt;
&lt;li&gt;H5 è°ƒç”¨ SDK ç›¸å…³é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ&lt;/li&gt;
&lt;li&gt;H5 è°ƒè¯•ç›¸å…³æ–¹æ¡ˆä¸ç­–ç•¥&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;ç§»åŠ¨ç«¯-H5-ç›¸å…³åŸºç¡€æŠ€æœ¯æ¦‚è§ˆ&quot;&gt;&lt;a href=&quot;#ç§»åŠ¨ç«¯-H5-ç›¸å…³åŸºç¡€æŠ€æœ¯æ¦‚è§ˆ&quot; class=&quot;headerlink&quot; title=&quot;ç§»åŠ¨ç«¯ H5 ç›¸å…³åŸºç¡€æŠ€æœ¯æ¦‚è§ˆ&quot;&gt;&lt;/a&gt;ç§»åŠ¨ç«¯ H5 ç›¸å…³åŸºç¡€æŠ€æœ¯æ¦‚è§ˆ&lt;/h1&gt;&lt;p&gt;&lt;img src=&quot;https://camo.githubusercontent.com/fd55251b2784c435753d675301fb4bfa7aef733b/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031392f31322f32342f313666333638373230643365623432313f773d3232303626683d3131343026663d6a70656726733d323437373332&quot; alt=&quot;H5&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://juejin.im/post/5df3053ce51d45583d425ada&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;1pxé—®é¢˜&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://juejin.im/post/5df59139518825123e7af459&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;å“åº”å¼å¸ƒå±€&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;iOS-æ»‘åŠ¨ä¸æµç•…&quot;&gt;&lt;a href=&quot;#iOS-æ»‘åŠ¨ä¸æµç•…&quot; class=&quot;headerlink&quot; title=&quot;iOS æ»‘åŠ¨ä¸æµç•…&quot;&gt;&lt;/a&gt;iOS æ»‘åŠ¨ä¸æµç•…&lt;/h2&gt;&lt;h3 id=&quot;è¡¨ç°&quot;&gt;&lt;a href=&quot;#è¡¨ç°&quot; class=&quot;headerlink&quot; title=&quot;è¡¨ç°&quot;&gt;&lt;/a&gt;è¡¨ç°&lt;/h3&gt;&lt;p&gt;ä¸Šä¸‹æ»‘åŠ¨é¡µé¢ä¼šäº§ç”Ÿå¡é¡¿ï¼Œæ‰‹æŒ‡ç¦»å¼€é¡µé¢ï¼Œé¡µé¢ç«‹å³åœæ­¢è¿åŠ¨ã€‚æ•´ä½“è¡¨ç°å°±æ˜¯æ»‘åŠ¨ä¸æµç•…ï¼Œæ²¡æœ‰æ»‘åŠ¨æƒ¯æ€§ã€‚&lt;/p&gt;
&lt;h3 id=&quot;äº§ç”ŸåŸå› &quot;&gt;&lt;a href=&quot;#äº§ç”ŸåŸå› &quot; class=&quot;headerlink&quot; title=&quot;äº§ç”ŸåŸå› &quot;&gt;&lt;/a&gt;äº§ç”ŸåŸå› &lt;/h3&gt;&lt;p&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆ iOS çš„ webview ä¸­ æ»‘åŠ¨ä¸æµç•…ï¼Œå®ƒæ˜¯å¦‚ä½•å®šä¹‰çš„&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æœ€ç»ˆæˆ‘åœ¨ &lt;code&gt;safari&lt;/code&gt; æ–‡æ¡£é‡Œé¢å¯»æ‰¾åˆ°äº†ç­”æ¡ˆï¼ˆæ–‡æ¡£é“¾æ¥åœ¨å‚è€ƒèµ„æ–™é¡¹ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://camo.githubusercontent.com/dae1dc14e59ea49999123abbf133f60bd8f5fa2a/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031392f31322f31392f313666316461616237633431653034343f773d3134323026683d3131303426663d6a70656726733d313635343933&quot; alt=&quot;safariæ–‡æ¡£&quot;&gt;&lt;/p&gt;
&lt;p&gt;åŸæ¥åœ¨ &lt;code&gt;iOS 5.0&lt;/code&gt; ä»¥åŠä¹‹åçš„ç‰ˆæœ¬ï¼Œæ»‘åŠ¨æœ‰å®šä¹‰æœ‰ä¸¤ä¸ªå€¼ &lt;code&gt;auto&lt;/code&gt; å’Œ &lt;code&gt;touch&lt;/code&gt;ï¼Œé»˜è®¤å€¼ä¸º &lt;code&gt;auto&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;css&quot;&gt;-webkit-overflow-scrolling: touch; /* å½“æ‰‹æŒ‡ä»è§¦æ‘¸å±ä¸Šç§»å¼€ï¼Œä¼šä¿æŒä¸€æ®µæ—¶é—´çš„æ»šåŠ¨ */

-webkit-overflow-scrolling: auto; /* å½“æ‰‹æŒ‡ä»è§¦æ‘¸å±ä¸Šç§»å¼€ï¼Œæ»šåŠ¨ä¼šç«‹å³åœæ­¢ */
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;è§£å†³æ–¹æ¡ˆ&quot;&gt;&lt;a href=&quot;#è§£å†³æ–¹æ¡ˆ&quot; class=&quot;headerlink&quot; title=&quot;è§£å†³æ–¹æ¡ˆ&quot;&gt;&lt;/a&gt;è§£å†³æ–¹æ¡ˆ&lt;/h3&gt;&lt;p&gt;1.åœ¨æ»šåŠ¨å®¹å™¨ä¸Šå¢åŠ æ»šåŠ¨ touch æ–¹æ³•&lt;/p&gt;
&lt;p&gt;å°†&lt;code&gt;-webkit-overflow-scrolling&lt;/code&gt; å€¼è®¾ç½®ä¸º &lt;code&gt;touch&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;css&quot;&gt;.wrapper {
    -webkit-overflow-scrolling: touch;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è®¾ç½®æ»šåŠ¨æ¡éšè—ï¼š &lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;css&quot;&gt;.container ::-webkit-scrollbar {display: none;}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¯èƒ½ä¼šå¯¼è‡´ä½¿ç”¨&lt;code&gt;position:fixed;&lt;/code&gt; å›ºå®šå®šä½çš„å…ƒç´ ï¼Œéšç€é¡µé¢ä¸€èµ·æ»šåŠ¨&lt;/p&gt;
&lt;p&gt;2.è®¾ç½® overflow&lt;/p&gt;
&lt;p&gt;è®¾ç½®å¤–éƒ¨ &lt;code&gt;overflow&lt;/code&gt; ä¸º &lt;code&gt;hidden&lt;/code&gt;,è®¾ç½®å†…å®¹å…ƒç´  &lt;code&gt;overflow&lt;/code&gt; ä¸º &lt;code&gt;auto&lt;/code&gt;ã€‚å†…éƒ¨å…ƒç´ è¶…å‡º body å³äº§ç”Ÿæ»šåŠ¨ï¼Œè¶…å‡ºçš„éƒ¨åˆ† body éšè—ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;css&quot;&gt;body {
    overflow-y: hidden;
}
.wrapper {
    overflow-y: auto;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;ä¸¤è€…ç»“åˆä½¿ç”¨æ›´ä½³ï¼&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;iOS-ä¸Šæ‹‰è¾¹ç•Œä¸‹æ‹‰å‡ºç°ç™½è‰²ç©ºç™½&quot;&gt;&lt;a href=&quot;#iOS-ä¸Šæ‹‰è¾¹ç•Œä¸‹æ‹‰å‡ºç°ç™½è‰²ç©ºç™½&quot; class=&quot;headerlink&quot; title=&quot;iOS ä¸Šæ‹‰è¾¹ç•Œä¸‹æ‹‰å‡ºç°ç™½è‰²ç©ºç™½&quot;&gt;&lt;/a&gt;iOS ä¸Šæ‹‰è¾¹ç•Œä¸‹æ‹‰å‡ºç°ç™½è‰²ç©ºç™½&lt;/h2&gt;&lt;h3 id=&quot;è¡¨ç°-1&quot;&gt;&lt;a href=&quot;#è¡¨ç°-1&quot; class=&quot;headerlink&quot; title=&quot;è¡¨ç°&quot;&gt;&lt;/a&gt;è¡¨ç°&lt;/h3&gt;&lt;p&gt;æ‰‹æŒ‡æŒ‰ä½å±å¹•ä¸‹æ‹‰ï¼Œå±å¹•é¡¶éƒ¨ä¼šå¤šå‡ºä¸€å—ç™½è‰²åŒºåŸŸã€‚æ‰‹æŒ‡æŒ‰ä½å±å¹•ä¸Šæ‹‰ï¼Œåº•éƒ¨å¤šå‡ºä¸€å—ç™½è‰²åŒºåŸŸã€‚&lt;/p&gt;
&lt;h3 id=&quot;äº§ç”ŸåŸå› -1&quot;&gt;&lt;a href=&quot;#äº§ç”ŸåŸå› -1&quot; class=&quot;headerlink&quot; title=&quot;äº§ç”ŸåŸå› &quot;&gt;&lt;/a&gt;äº§ç”ŸåŸå› &lt;/h3&gt;&lt;p&gt;åœ¨ iOS ä¸­ï¼Œæ‰‹æŒ‡æŒ‰ä½å±å¹•ä¸Šä¸‹æ‹–åŠ¨ï¼Œä¼šè§¦å‘ &lt;code&gt;touchmove&lt;/code&gt; äº‹ä»¶ã€‚è¿™ä¸ªäº‹ä»¶è§¦å‘çš„å¯¹è±¡æ˜¯æ•´ä¸ª &lt;code&gt;webview&lt;/code&gt; å®¹å™¨ï¼Œå®¹å™¨è‡ªç„¶ä¼šè¢«æ‹–åŠ¨ï¼Œå‰©ä¸‹çš„éƒ¨åˆ†ä¼šæˆç©ºç™½ã€‚&lt;/p&gt;
&lt;h3 id=&quot;è§£å†³æ–¹æ¡ˆ-1&quot;&gt;&lt;a href=&quot;#è§£å†³æ–¹æ¡ˆ-1&quot; class=&quot;headerlink&quot; title=&quot;è§£å†³æ–¹æ¡ˆ&quot;&gt;&lt;/a&gt;è§£å†³æ–¹æ¡ˆ&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;ç›‘å¬äº‹ä»¶ç¦æ­¢æ»‘åŠ¨&lt;br&gt;ç§»åŠ¨ç«¯è§¦æ‘¸äº‹ä»¶æœ‰ä¸‰ä¸ªï¼Œåˆ†åˆ«å®šä¹‰ä¸º&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;ol&gt;
&lt;li&gt;touchstart ï¼šæ‰‹æŒ‡æ”¾åœ¨ä¸€ä¸ªDOMå…ƒç´ ä¸Šã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;touchmove ï¼šæ‰‹æŒ‡æ‹–æ›³ä¸€ä¸ªDOMå…ƒç´ ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;touchend ï¼šæ‰‹æŒ‡ä»ä¸€ä¸ªDOMå…ƒç´ ä¸Šç§»å¼€ã€‚&lt;br&gt;æ˜¾ç„¶æˆ‘ä»¬éœ€è¦æ§åˆ¶çš„æ˜¯ &lt;code&gt;touchmove&lt;/code&gt; äº‹ä»¶ï¼Œç”±æ­¤æˆ‘åœ¨ W3C æ–‡æ¡£ä¸­æ‰¾åˆ°äº†è¿™æ ·ä¸€æ®µè¯&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;Note that the rate at which the user agent sends touchmove events is implementation-defined, and may depend on hardware capabilities and other implementation details&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;If the preventDefault method is called on the first touchmove event of an active touch point, it should prevent any default action caused by any touchmove event associated with the same active touch point, such as scrolling.&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;touchmove&lt;/code&gt; äº‹ä»¶çš„é€Ÿåº¦æ˜¯å¯ä»¥å®ç°å®šä¹‰çš„ï¼Œå–å†³äºç¡¬ä»¶æ€§èƒ½å’Œå…¶ä»–å®ç°ç»†èŠ‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;preventDefault&lt;/code&gt; æ–¹æ³•ï¼Œé˜»æ­¢åŒä¸€è§¦ç‚¹ä¸Šæ‰€æœ‰é»˜è®¤è¡Œä¸ºï¼Œæ¯”å¦‚æ»šåŠ¨ã€‚&lt;/p&gt;
&lt;p&gt;ç”±æ­¤æˆ‘ä»¬æ‰¾åˆ°è§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡ç›‘å¬ touchmoveï¼Œè®©éœ€è¦æ»‘åŠ¨çš„åœ°æ–¹æ»‘åŠ¨ï¼Œä¸éœ€è¦æ»‘åŠ¨çš„åœ°æ–¹ç¦æ­¢æ»‘åŠ¨ã€‚&lt;/p&gt;
&lt;p&gt;å€¼å¾—æ³¨æ„çš„æ˜¯æˆ‘ä»¬è¦è¿‡æ»¤æ‰å…·æœ‰æ»šåŠ¨å®¹å™¨çš„å…ƒç´ ã€‚&lt;/p&gt;
&lt;p&gt;å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;document.body.addEventListener(&amp;#39;touchmove&amp;#39;, function(e) {
    if(e._isScroller) return;
    // é˜»æ­¢é»˜è®¤äº‹ä»¶
    e.preventDefault();
}, {
    passive: false
});
&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
      <category term="HTML5" scheme="https://zhanghao-web.github.io/categories/HTML5/"/>
    
    
      <category term="HTML5" scheme="https://zhanghao-web.github.io/tags/HTML5/"/>
    
  </entry>
  
  <entry>
    <title>websocketæ–­å¼€åŸå› åˆ†æ</title>
    <link href="https://zhanghao-web.github.io/2020/04/28/HTTP/websocket%E6%96%AD%E5%BC%80%E5%8E%9F%E5%9B%A0%E5%88%86%E6%9E%90/"/>
    <id>https://zhanghao-web.github.io/2020/04/28/HTTP/websocketæ–­å¼€åŸå› åˆ†æ/</id>
    <published>2020-04-28T09:07:15.000Z</published>
    <updated>2020-04-28T09:30:11.258Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://segmentfault.com/a/1190000014582485" target="_blank" rel="noopener">åŸæ–‡åœ°å€</a></p><h1 id="æŠŠé”™è¯¯æ‰“å°å‡ºæ¥"><a href="#æŠŠé”™è¯¯æ‰“å°å‡ºæ¥" class="headerlink" title="æŠŠé”™è¯¯æ‰“å°å‡ºæ¥"></a>æŠŠé”™è¯¯æ‰“å°å‡ºæ¥</h1><p>WebSocketæ–­å¼€çš„åŸå› æœ‰å¾ˆå¤šï¼Œæœ€å¥½åœ¨WebSocketæ–­å¼€æ—¶ï¼Œå°†é”™è¯¯æ‰“å°å‡ºæ¥ã€‚</p><p><img src="https://segmentfault.com/img/remote/1460000014582490?w=812&amp;h=408" alt="demo"></p><pre><code class="js">ws.onclose = function (e) {  console.log(&#39;websocket æ–­å¼€: &#39; + e.code + &#39; &#39; + e.reason + &#39; &#39; + e.wasClean)  console.log(e)}</code></pre><p>å¦‚æœä½ æƒ³è‡ªå·±ç©ç©<code>WebSocket</code>, ä½†æ˜¯ä½ åˆä¸æƒ³è‡ªå·±éƒ¨ç½²ä¸€ä¸ª<code>WebSocket</code>æœåŠ¡å™¨ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>ws = new WebSocket(&#39;wss://echo.websocket.org/&#39;)</code>, ä½ å‘echo.websocket.orgå‘é€æ¶ˆæ¯ï¼Œå®ƒä¼šå›å¤ä½ åŒæ ·çš„æ¶ˆæ¯ã€‚</p><h1 id="é‡è¦ä¿¡æ¯é”™è¯¯çŠ¶æ€ç "><a href="#é‡è¦ä¿¡æ¯é”™è¯¯çŠ¶æ€ç " class="headerlink" title="é‡è¦ä¿¡æ¯é”™è¯¯çŠ¶æ€ç "></a>é‡è¦ä¿¡æ¯é”™è¯¯çŠ¶æ€ç </h1><p><code>WebSocket</code>æ–­å¼€æ—¶ï¼Œä¼šè§¦å‘<code>CloseEvent</code>, <code>CloseEvent</code>ä¼šåœ¨è¿æ¥å…³é—­æ—¶å‘é€ç»™ä½¿ç”¨ <code>WebSockets</code> çš„å®¢æˆ·ç«¯. å®ƒåœ¨ <code>WebSocket</code> å¯¹è±¡çš„ onclose äº‹ä»¶ç›‘å¬å™¨ä¸­ä½¿ç”¨ã€‚<code>CloseEvent</code>çš„codeå­—æ®µè¡¨ç¤ºäº†<code>WebSocket</code>æ–­å¼€çš„åŸå› ã€‚å¯ä»¥ä»è¯¥å­—æ®µä¸­åˆ†ææ–­å¼€çš„åŸå› ã€‚</p><p><code>CloseEvent</code>æœ‰ä¸‰ä¸ªå­—æ®µéœ€è¦æ³¨æ„, é€šè¿‡åˆ†æè¿™ä¸‰ä¸ªå­—æ®µï¼Œä¸€èˆ¬å°±å¯ä»¥æ‰¾åˆ°æ–­å¼€åŸå› </p><blockquote><ul><li><code>CloseEvent.code</code>: codeæ˜¯é”™è¯¯ç ï¼Œæ˜¯æ•´æ•°ç±»å‹</li><li><code>CloseEvent.reason</code>: reasonæ˜¯æ–­å¼€åŸå› ï¼Œæ˜¯å­—ç¬¦ä¸²</li><li><code>CloseEvent.wasClean</code>: wasCleanè¡¨ç¤ºæ˜¯å¦æ­£å¸¸æ–­å¼€ï¼Œæ˜¯å¸ƒå°”å€¼ã€‚ä¸€èˆ¬å¼‚å¸¸æ–­å¼€æ—¶ï¼Œè¯¥å€¼ä¸ºfalse</li></ul></blockquote><p><img src="https://segmentfault.com/img/remote/1460000014074898?w=1768&amp;h=732" alt="closed-code"></p><h1 id="å…³é—­çŠ¶æ€ç è¡¨"><a href="#å…³é—­çŠ¶æ€ç è¡¨" class="headerlink" title="å…³é—­çŠ¶æ€ç è¡¨"></a>å…³é—­çŠ¶æ€ç è¡¨</h1><p>ä¸€èˆ¬æ¥è¯´<code>1006</code>çš„é”™è¯¯ç å‡ºç°çš„æƒ…å†µæ¯”è¾ƒå¸¸è§ï¼Œè¯¥é”™è¯¯ç ä¸€èˆ¬å‡ºç°åœ¨æ–­ç½‘æ—¶ã€‚</p><table><thead><tr><th>çŠ¶æ€ç </th><th style="text-align:right">åç§°</th><th style="text-align:center">æè¿°</th></tr></thead><tbody><tr><td>0â€“999</td><td style="text-align:right"></td><td style="text-align:center">ä¿ç•™æ®µ, æœªä½¿ç”¨</td></tr><tr><td>1000</td><td style="text-align:right">CLOSE_NORMAL</td><td style="text-align:center">æ­£å¸¸å…³é—­; æ— è®ºä¸ºä½•ç›®çš„è€Œåˆ›å»º, è¯¥é“¾æ¥éƒ½å·²æˆåŠŸå®Œæˆä»»åŠ¡.</td></tr><tr><td>1001</td><td style="text-align:right">CLOSE_GOING_AWAY</td><td style="text-align:center">ç»ˆç«¯ç¦»å¼€, å¯èƒ½å› ä¸ºæœåŠ¡ç«¯é”™è¯¯, ä¹Ÿå¯èƒ½å› ä¸ºæµè§ˆå™¨æ­£ä»æ‰“å¼€è¿æ¥çš„é¡µé¢è·³è½¬ç¦»å¼€.</td></tr><tr><td>1002</td><td style="text-align:right">CLOSE_PROTOCOL_ERROR</td><td style="text-align:center">ç”±äºåè®®é”™è¯¯è€Œä¸­æ–­è¿æ¥.</td></tr><tr><td>1003</td><td style="text-align:right">CLOSE_UNSUPPORTED</td><td style="text-align:center">ç”±äºæ¥æ”¶åˆ°ä¸å…è®¸çš„æ•°æ®ç±»å‹è€Œæ–­å¼€è¿æ¥ (å¦‚ä»…æ¥æ”¶æ–‡æœ¬æ•°æ®çš„ç»ˆç«¯æ¥æ”¶åˆ°äº†äºŒè¿›åˆ¶æ•°æ®).</td></tr><tr><td>1004</td><td style="text-align:right"></td><td style="text-align:center">ä¿ç•™. å…¶æ„ä¹‰å¯èƒ½ä¼šåœ¨æœªæ¥å®šä¹‰.</td></tr><tr><td>1005</td><td style="text-align:right"></td><td style="text-align:center">CLOSE_NO_STATUS</td></tr><tr><td>1006</td><td style="text-align:right">CLOSE_ABNORMAL</td><td style="text-align:center">ä¿ç•™. ç”¨äºæœŸæœ›æ”¶åˆ°çŠ¶æ€ç æ—¶è¿æ¥éæ­£å¸¸å…³é—­ (ä¹Ÿå°±æ˜¯è¯´, æ²¡æœ‰å‘é€å…³é—­å¸§).</td></tr><tr><td>1007</td><td style="text-align:right">Unsupported Data</td><td style="text-align:center">ç”±äºæ”¶åˆ°äº†æ ¼å¼ä¸ç¬¦çš„æ•°æ®è€Œæ–­å¼€è¿æ¥ (å¦‚æ–‡æœ¬æ¶ˆæ¯ä¸­åŒ…å«äº†é UTF-8 æ•°æ®).</td></tr><tr><td>1008</td><td style="text-align:right">Policy Violation</td><td style="text-align:center">ç”±äºæ”¶åˆ°ä¸ç¬¦åˆçº¦å®šçš„æ•°æ®è€Œæ–­å¼€è¿æ¥. è¿™æ˜¯ä¸€ä¸ªé€šç”¨çŠ¶æ€ç , ç”¨äºä¸é€‚åˆä½¿ç”¨ 1003 å’Œ 1009 çŠ¶æ€ç çš„åœºæ™¯.</td></tr><tr><td>1009</td><td style="text-align:right">CLOSE_TOO_LARGE</td><td style="text-align:center">ç”±äºæ”¶åˆ°è¿‡å¤§çš„æ•°æ®å¸§è€Œæ–­å¼€è¿æ¥.</td></tr><tr><td>1010</td><td style="text-align:right">Missing Extension</td><td style="text-align:center">å®¢æˆ·ç«¯æœŸæœ›æœåŠ¡å™¨å•†å®šä¸€ä¸ªæˆ–å¤šä¸ªæ‹“å±•, ä½†æœåŠ¡å™¨æ²¡æœ‰å¤„ç†, å› æ­¤å®¢æˆ·ç«¯æ–­å¼€è¿æ¥.</td></tr><tr><td>1011</td><td style="text-align:right">Internal Error</td><td style="text-align:center">å®¢æˆ·ç«¯ç”±äºé‡åˆ°æ²¡æœ‰é¢„æ–™çš„æƒ…å†µé˜»æ­¢å…¶å®Œæˆè¯·æ±‚, å› æ­¤æœåŠ¡ç«¯æ–­å¼€è¿æ¥.</td></tr><tr><td>1012</td><td style="text-align:right">Service Restart</td><td style="text-align:center">æœåŠ¡å™¨ç”±äºé‡å¯è€Œæ–­å¼€è¿æ¥.</td></tr><tr><td>1013</td><td style="text-align:right">Try Again Later</td><td style="text-align:center">æœåŠ¡å™¨ç”±äºä¸´æ—¶åŸå› æ–­å¼€è¿æ¥, å¦‚æœåŠ¡å™¨è¿‡è½½å› æ­¤æ–­å¼€ä¸€éƒ¨åˆ†å®¢æˆ·ç«¯è¿æ¥.</td></tr><tr><td>1014</td><td style="text-align:right"></td><td style="text-align:center">ç”± WebSocketæ ‡å‡†ä¿ç•™ä»¥ä¾¿æœªæ¥ä½¿ç”¨.</td></tr><tr><td>1015</td><td style="text-align:right"></td><td style="text-align:center">TLS Handshake    ä¿ç•™. è¡¨ç¤ºè¿æ¥ç”±äºæ— æ³•å®Œæˆ TLS æ¡æ‰‹è€Œå…³é—­ (ä¾‹å¦‚æ— æ³•éªŒè¯æœåŠ¡å™¨è¯ä¹¦).</td></tr><tr><td>1016â€“1999</td><td style="text-align:right"></td><td style="text-align:center">ç”± WebSocketæ ‡å‡†ä¿ç•™ä»¥ä¾¿æœªæ¥ä½¿ç”¨.</td></tr><tr><td>2000â€“2999</td><td style="text-align:right"></td><td style="text-align:center">ç”± WebSocketæ‹“å±•ä¿ç•™ä½¿ç”¨.</td></tr><tr><td>3000â€“3999</td><td style="text-align:right"></td><td style="text-align:center">å¯ä»¥ç”±åº“æˆ–æ¡†æ¶ä½¿ç”¨.? ä¸åº”ç”±åº”ç”¨ä½¿ç”¨. å¯ä»¥åœ¨ IANA æ³¨å†Œ, å…ˆåˆ°å…ˆå¾—.</td></tr><tr><td>4000â€“4999</td><td style="text-align:right"></td><td style="text-align:center">å¯ä»¥ç”±åº”ç”¨ä½¿ç”¨.</td></tr></tbody></table><h1 id="å…¶ä»–æ³¨æ„äº‹é¡¹"><a href="#å…¶ä»–æ³¨æ„äº‹é¡¹" class="headerlink" title="å…¶ä»–æ³¨æ„äº‹é¡¹"></a>å…¶ä»–æ³¨æ„äº‹é¡¹</h1><p>å¦‚æœä½ çš„æœåŠ¡æ‰€åœ¨çš„åŸŸæ˜¯HTTPSçš„ï¼Œé‚£ä¹ˆä½¿ç”¨çš„WebSocketåè®®ä¹Ÿå¿…é¡»æ˜¯wss, è€Œä¸èƒ½æ˜¯ws</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://segmentfault.com/a/1190000014582485&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;åŸæ–‡åœ°å€&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;æŠŠé”™è¯¯æ‰“å°å‡ºæ¥&quot;&gt;&lt;a href=&quot;#æŠŠé”™è¯¯æ‰“å°å‡ºæ¥&quot; cla
      
    
    </summary>
    
      <category term="HTTP" scheme="https://zhanghao-web.github.io/categories/HTTP/"/>
    
    
      <category term="websocket" scheme="https://zhanghao-web.github.io/tags/websocket/"/>
    
  </entry>
  
  <entry>
    <title>&#39;åŸºäºreactæ­å»ºä¸€ä¸ªé€šç”¨çš„è¡¨å•ç®¡ç†é…ç½®å¹³å°ï¼ˆvueåŒï¼‰&#39;</title>
    <link href="https://zhanghao-web.github.io/2020/04/25/React/%E5%9F%BA%E4%BA%8Ereact%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E9%80%9A%E7%94%A8%E7%9A%84%E8%A1%A8%E5%8D%95%E7%AE%A1%E7%90%86%E9%85%8D%E7%BD%AE%E5%B9%B3%E5%8F%B0%EF%BC%88vue%E5%90%8C%EF%BC%89/"/>
    <id>https://zhanghao-web.github.io/2020/04/25/React/åŸºäºreactæ­å»ºä¸€ä¸ªé€šç”¨çš„è¡¨å•ç®¡ç†é…ç½®å¹³å°ï¼ˆvueåŒï¼‰/</id>
    <published>2020-04-25T14:36:43.000Z</published>
    <updated>2020-04-27T00:49:14.957Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://juejin.im/post/5ea1af9f518825737a316cc3?utm_source=gold_browser_extension" target="_blank" rel="noopener">åŸæ–‡åœ°å€</a></p><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æœ€è¿‘åœ¨åšBç«¯çš„äº§å“ï¼Œå€ŸåŠ©è¯¥åšä¸»çš„æ–‡ç« å­¦ä¹ ä¸‹é€šç”¨è¡¨å•ï¼Œä»¥ä¸‹ä¸ºåšæ–‡ä¿¡æ¯</p><p>è¿™ç¯‡æ–‡ç« æ˜¯ä¸€ç¯‡åº”ç”¨æ€§æå¼ºçš„æ–‡ç« ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®é™…çš„åº”ç”¨åœºæ™¯ï¼Œå»è§£å†³æŸä¸€ç±»çš„é—®é¢˜ï¼Œæä¾›ä¸€ç§æˆ–è€…å‡ ç§è§£å†³æ–¹æ¡ˆï¼Œæ¥æ¢ç´¢æŠ€æœ¯çš„é­…åŠ›ã€‚æ¥ä¸‹æ¥ç¬”è€…ä¸»è¦åˆ†æè¡¨å•å®šåˆ¶å¹³å°çš„å®ç°æ€è·¯å’ŒæŠ€æœ¯æ–¹æ¡ˆï¼Œæ¥å®ç°ä¸€ä¸ªç±»ä¼¼äºé‡‘æ•°æ®æˆ–è€…é—®å·æ˜Ÿä¸€æ ·çš„è¡¨å•é…ç½®å¹³å°ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥åŸºäºæ­¤æ–¹æ¡ˆï¼Œæ‰©å±•å‡ºåŠŸèƒ½æ›´åŠ å¼ºå¤§çš„å¯è§†åŒ–å¹³å°ã€‚</p><h1 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h1><p>ä¸ºä»€ä¹ˆè¦åšä¸€ä¸ªè¿™æ ·çš„å¹³å°å‘¢ï¼Ÿä¸€æ–¹é¢æ˜¯å› ä¸ºç¬”è€…å¤šå¹´æ¥ä¸€ç›´æœåŠ¡äºBç«¯äº§å“ï¼Œå¯¹äºåŠ¨æ€è¡¨å•ä»¥åŠé…ç½®åŒ–è¡¨å•æœ‰ä¸€å®šçš„é¡¹ç›®ç§¯ç´¯ï¼Œå¹¶ä¸”æ·±çŸ¥é…ç½®åŒ–è¡¨å•çš„ä»·å€¼æ‰€åœ¨ã€‚ä¸¾ä¸€ä¸ªå¾ˆä¼ ç»Ÿçš„Bç«¯è¡¨å•é…ç½®åŒ–çš„ä¾‹å­ï¼šä¼ ç»Ÿ2Bä¼ä¸šåœ¨æä¾›saasæœåŠ¡æ—¶ï¼Œä¸ºäº†æ»¡è¶³ä¸åŒä¼ä¸šçš„å®šåˆ¶åŒ–éœ€æ±‚ï¼Œå¾€å¾€ä¼šç»™ä¼ä¸šå®¢æˆ·æä¾›å®šåˆ¶åŒ–æˆ–è€…è‡ªç”±é…ç½®çš„åŠŸèƒ½ï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src="https://user-gold-cdn.xitu.io/2020/4/24/171a9a5e9f7d001a?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="å®šåˆ¶åŒ–"></p><p>å¯¹äºsaasç³»ç»Ÿè€Œè¨€ï¼Œè½¯ä»¶å³æœåŠ¡ï¼Œåœ¨æä¾›åŸºç¡€æœåŠ¡çš„åŒæ—¶ï¼ŒåŒæ ·è¦æ»¡è¶³ç”¨æˆ·ä¸ªæ€§åŒ–éœ€æ±‚ï¼Œæ‰€ä»¥ä¼ ç»Ÿçš„saasè½¯ä»¶æä¾›å•†å¾€å¾€ä¼šæä¾›ç»™å®¢æˆ·è‡ªç”±é…ç½®çš„ç©ºé—´ï¼Œè¿™ç§è‡ªç”±é…ç½®çš„æ¡¥æ¢å°±æ˜¯é€šè¿‡è¡¨å•ï¼Œä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p><p><img src="https://user-gold-cdn.xitu.io/2020/4/24/171a9b767e4bb302?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="ç½‘ç«™è¡¨å•"></p><p>é€šè¿‡è¿™ç§æ–¹æ³•å°±å¯ä»¥å®šåˆ¶ä¸åŒé£æ ¼çš„ä¼ä¸šäº§å“ï¼Œè¿™é‡Œåªæ˜¯ä¸¾äº†ä¸ªæ¯”è¾ƒç®€å•çš„ä¾‹å­ï¼Œå¾€å¾€å®é™…é¡¹ç›®ä¸­ä¼šæ›´åŠ å¤æ‚ï¼Œå¯èƒ½ä¼šæœ‰å‡ åä¸ªé…ç½®é¡¹ï¼Œå½“ç„¶è¿™ç§æ¨¡å¼æ˜¯æ¯”è¾ƒä¼ ç»Ÿçš„é…ç½®åŒ–æ–¹æ¡ˆï¼Œä¹Ÿä»…ä»…æ˜¯saasè½¯ä»¶æä¾›çš„å¾ˆå°çš„ä¸€ä¸ªæœåŠ¡æ¨¡å—ã€‚ç›®å‰ä¸»æµçš„åšæ³•æ˜¯é‡‡ç”¨å¯è§†åŒ–æ–¹æ¡ˆï¼Œè€Œä¸”å›½å†…ä¹Ÿæœ‰éå¸¸æˆç†Ÿçš„æ–¹æ¡ˆï¼Œä½†åŸºæœ¬çš„æ€æƒ³æ˜¯ä¸€è‡´çš„ï¼Œåªä¸è¿‡åè€…çš„ä½“éªŒæ›´å¥½ï¼Œæ“ä½œéš¾åº¦æ›´ä½ã€‚</p><p>æœ¬æ–‡ä»‹ç»çš„è¡¨å•å®šåˆ¶å¹³å°,ä¹ŸåŒæ ·æ”¯æŒè¡¨å•ç®¡ç†,è¡¨å•æ•°æ®åˆ†æ, è¡¨å•æ•°æ®æ”¶é›†, è¡¨å•å®šåˆ¶ç­‰åŠŸèƒ½, ç¬”è€…å°†é‡‡ç”¨æ¯”è¾ƒç†Ÿæ‚‰çš„æŠ€æœ¯æ ˆ<code>react</code>ä»¥åŠç¬¬ä¸‰æ–¹uiåº“<code>antd4.0</code>æ¥å¼€å‘, åç«¯é‡‡ç”¨<code>node + koa</code>æ¥è®¾è®¡è·¯ç”±æ¥å£.</p><h2 id="è®¾è®¡æ€è·¯"><a href="#è®¾è®¡æ€è·¯" class="headerlink" title="è®¾è®¡æ€è·¯"></a>è®¾è®¡æ€è·¯</h2><p><img src="https://user-gold-cdn.xitu.io/2020/4/24/171aa801e1e7556f?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="è®¾è®¡æ€è·¯æ¦‚å†µ"></p><h2 id="å®ç°æ•ˆæœä¸åˆ†æ"><a href="#å®ç°æ•ˆæœä¸åˆ†æ" class="headerlink" title="å®ç°æ•ˆæœä¸åˆ†æ"></a>å®ç°æ•ˆæœä¸åˆ†æ</h2><h3 id="è¡¨å•å®šåˆ¶ç®¡ç†åˆ—è¡¨"><a href="#è¡¨å•å®šåˆ¶ç®¡ç†åˆ—è¡¨" class="headerlink" title="è¡¨å•å®šåˆ¶ç®¡ç†åˆ—è¡¨"></a>è¡¨å•å®šåˆ¶ç®¡ç†åˆ—è¡¨</h3><p><img src="https://user-gold-cdn.xitu.io/2020/4/24/171aa823f2fedb04?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="è¡¨å•å®šåˆ¶ç®¡ç†åˆ—è¡¨"></p><p>ç®¡ç†åˆ—è¡¨ä¸»è¦ç”¨æ¥æŸ¥çœ‹æˆ‘ä»¬é…ç½®çš„è¡¨å•æ¨¡æ¿,åˆ†æä¸åŒè¡¨å•æ¨¡æ¿æ”¶é›†çš„æ•°æ®,å¯¹è¡¨å•æ¨¡æ¿è¿›è¡Œç¼–è¾‘åˆ é™¤ç­‰æ“ä½œ.</p><h3 id="è¡¨å•å®šåˆ¶é¡µé¢"><a href="#è¡¨å•å®šåˆ¶é¡µé¢" class="headerlink" title="è¡¨å•å®šåˆ¶é¡µé¢"></a>è¡¨å•å®šåˆ¶é¡µé¢</h3><p><img src="https://user-gold-cdn.xitu.io/2020/4/24/171aa83ef454bcbf?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="è¡¨å•å®šåˆ¶é¡µé¢"></p><p>ç”±ä¸Šå›¾å¯çŸ¥è¡¨å•å®šåˆ¶é¡µé¢ä¸»è¦ç”¨æ¥ç¼–è¾‘è‡ªå®šä¹‰è¡¨å•æ¨¡æ¿,æˆ‘ä»¬å¯ä»¥æ·»åŠ è¡¨å•æ ‡é¢˜,è¡¨å•å­—æ®µç­‰,ç›®å‰æä¾›äº†å‡ ç§è‡ªå®šä¹‰è¡¨å•æ§ä»¶å¦‚ä¸‹:</p><ul><li>æ–‡æœ¬æ¡†</li><li>å¤šè¡Œæ–‡æœ¬æ¡†</li><li>ä¸‹æ‹‰æ¡†</li><li>å•é€‰æ¡†</li><li>å¤é€‰æ¡†</li><li>æ–‡ä»¶ä¸Šä¼ æ§ä»¶</li></ul><p>åŸºæœ¬æ¶µç›–äº†æˆ‘ä»¬æ‰€éœ€è¦çš„æ‰€æœ‰è¡¨å•ä¸šåŠ¡åœºæ™¯.ç”±ä¸Šå›¾å¯çŸ¥æˆ‘ä»¬å¯ä»¥åœ¨ä»»æ„ä½ç½®æ’å…¥è‡ªå®šä¹‰å­—æ®µ,åŒæ—¶å¯ä»¥ç¼–è¾‘ä¿®æ”¹åˆ é™¤è¡¨å•å­—æ®µ.å¦‚æœæƒ³è±¡åŠ›å†å¤§ä¸€ç‚¹,æˆ‘ä»¬å¯ä»¥åŸºäºå®ƒæ¥å®ç°ä¸ä»…ä»…æ˜¯è¡¨å•é—®å·å‹åº”ç”¨,è¿˜å¯ä»¥å®ç°ç­”é¢˜,å‘å¸ƒå†…å®¹ç­‰åœºæ™¯.(åæœŸå¯æ”¯æŒå¯Œæ–‡æœ¬æ§ä»¶)</p><h3 id="è‰ç¨¿ç®¡ç†"><a href="#è‰ç¨¿ç®¡ç†" class="headerlink" title="è‰ç¨¿ç®¡ç†"></a>è‰ç¨¿ç®¡ç†</h3><p><img src="https://user-gold-cdn.xitu.io/2020/4/24/171aa85da2f9c847?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="è‰ç¨¿ç®¡ç†"></p><p>è‰ç¨¿ç®±è®¾è®¡çš„ç›®çš„æ˜¯æ–¹ä¾¿ä½¿ç”¨è€…åœ¨é…ç½®è¡¨å•çš„è¿‡ç¨‹ä¸­ä¸ç¡®å®šæ˜¯å¦ç¬¦åˆéœ€æ±‚æˆ–è€…ç”±äºæŸç§ä¸´æ—¶æ€§ä¸¾åŠ¨è€Œæ— æ³•ç»§ç»­é…ç½®,è¿™ä¸ªæ—¶å€™å¯ä»¥å°†ä»¥é…ç½®å¥½çš„å†…å®¹å­˜å…¥è‰ç¨¿ç®±,ä¸‹æ¬¡ç»§ç»­ç¼–è¾‘,æ‰€ä»¥ç¬”è€…ä¸“é—¨è®¾è®¡äº†è‰ç¨¿ç®±ç®¡ç†åˆ—è¡¨,ä¸€æ—¦ç”¨æˆ·å­˜åœ¨è‰ç¨¿,ä¼šåœ¨ç®¡ç†é¡µé¢é€šçŸ¥ç”¨æˆ·å¹¶æ˜¾ç¤ºè‰ç¨¿çš„æ•°é‡.ä½œä¸ºä¸€ä¸ªè¿½æ±‚ä½“éªŒçš„æŠ€æœ¯äºº,è¿™ä¸€å—çš„è®¾è®¡è¿˜æ˜¯ç›¸å½“æœ‰å¿…è¦çš„.</p><h3 id="ç”Ÿæˆå‰å°è¡¨å•è®¿é—®é“¾æ¥"><a href="#ç”Ÿæˆå‰å°è¡¨å•è®¿é—®é“¾æ¥" class="headerlink" title="ç”Ÿæˆå‰å°è¡¨å•è®¿é—®é“¾æ¥"></a>ç”Ÿæˆå‰å°è¡¨å•è®¿é—®é“¾æ¥</h3><p><img src="https://user-gold-cdn.xitu.io/2020/4/24/171aa88fb0768a72?imageslim" alt="ç”Ÿæˆå‰å°è¡¨å•è®¿é—®é“¾æ¥"></p><p>å½“æˆ‘ä»¬é…ç½®å¥½è¡¨å•ä¹‹å,æˆ‘ä»¬ç‚¹å‡»ä¿å­˜, ä¼šç”Ÿæˆä¸€ä¸ªå‰å°è®¿é—®åœ°å€,å®æ—¶è®¿é—®è¡¨å•ä¿¡æ¯,å¦‚ä¸‹å›¾ä¸ºç‚¹å‡»é“¾æ¥ä¹‹åçš„é¡µé¢:</p><p><img src="https://user-gold-cdn.xitu.io/2020/4/24/171ab3d3341b02e4?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="å±•ç¤º"></p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥æ ¹æ®è‡ªå·±çš„é£æ ¼,è®¾è®¡è‡ªå·±çš„è¡¨å•å½•å…¥é¡µé¢, å…·ä½“å¦‚ä½•å®ç°è¿™æ ·çš„è¿‡ç¨‹, åé¢æˆ‘ä¼šè¯¦ç»†ä»‹ç».</p><h3 id="æŸ¥çœ‹ç”¨æˆ·å·²æœ‰æ•°æ®å½•å…¥"><a href="#æŸ¥çœ‹ç”¨æˆ·å·²æœ‰æ•°æ®å½•å…¥" class="headerlink" title="æŸ¥çœ‹ç”¨æˆ·å·²æœ‰æ•°æ®å½•å…¥"></a>æŸ¥çœ‹ç”¨æˆ·å·²æœ‰æ•°æ®å½•å…¥</h3><p><img src="https://user-gold-cdn.xitu.io/2020/4/24/171aa8e7dcecc4b4?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="æŸ¥çœ‹ç”¨æˆ·å·²æœ‰æ•°æ®å½•å…¥1"></p><p><img src="https://user-gold-cdn.xitu.io/2020/4/24/171aa8dce347d3c6?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="æŸ¥çœ‹ç”¨æˆ·å·²æœ‰æ•°æ®å½•å…¥2"></p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ç‚¹å‡»â€æŸ¥çœ‹æ•°æ®â€æ¥è®¿é—®æ”¶é›†åˆ°çš„è¡¨å•æ•°æ®,å¹¶é€šè¿‡å¯è§†åŒ–çš„å·¥å…·å¯¹æ•°æ®åšåˆ†ææ¯”è¾ƒ,åŒæ—¶æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨æ•°æ®åˆ—è¡¨ä¸­åˆ é™¤æ•°æ®,æ¥æ§åˆ¶æˆ‘ä»¬æ•°æ®å±•ç¤ºçš„çº¯å‡€.</p><h3 id="è¡¨å•æ•°æ®åˆ†æ"><a href="#è¡¨å•æ•°æ®åˆ†æ" class="headerlink" title="è¡¨å•æ•°æ®åˆ†æ"></a>è¡¨å•æ•°æ®åˆ†æ</h3><p><img src="https://user-gold-cdn.xitu.io/2020/4/24/171aa91ab9128d19?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="è¡¨å•æ•°æ®åˆ†æ"></p><p>æ”¶é›†åˆ°æ•°æ®åªæœ‰,æˆ‘ä»¬ä¼šè‡ªåŠ¨é›†æˆå‡ ä¸ªå¯è§†åŒ–ç»„ä»¶æ¥åˆ†æè¡¨å•æ•°æ®,ä»¥ä¸Šæ˜¯ç¬”è€…åˆ—å‡ºçš„å‡ ä¸ªå¯è§†åŒ–ç»„ä»¶,åŸºäº<code>antv G2</code>æ¥å°è£….</p><h2 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><p>ä»¥ä¸Šä¸»è¦ä»‹ç»äº†è‡ªå®šä¹‰è¡¨å•å®šåˆ¶å¹³å°çš„ä¸€äº›åŠŸèƒ½å’Œäº¤äº’æ•ˆæœ, æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¯¥å¹³å°åšå¾ˆå¤šæœ‰æ„æ€çš„äº‹æƒ….å› ä¸ºè¡¨å•çš„æŠ½è±¡æ˜¯æ•°æ®,æˆ‘ä»¬æ‹¿åˆ°å®šåˆ¶åŒ–çš„è¡¨å•jsonæ•°æ®ä¹‹å,æˆ‘ä»¬å¯ä»¥æœ‰ä¸åŒçš„å±•ç°å½¢å¼,æ¯”å¦‚ç”¨æˆ·çš„<strong>é—®å·è°ƒæŸ¥, ç½‘ç«™å¹³å°çš„æŠ•ç¥¨, ç­”é¢˜é¡µé¢, å‘å¸ƒåŠ¨æ€</strong>ç­‰åŠŸèƒ½,å¦‚ä¸‹å›¾é…ç½®:</p><p><img src="https://user-gold-cdn.xitu.io/2020/4/24/171ab881a1e07227?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="é…ç½®1"><br><img src="https://user-gold-cdn.xitu.io/2020/4/24/171ab88d11dc893b?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="é…ç½®2"></p><p>ä»¥ä¸Šé…ç½®å¯ä»¥å®ç°ç±»ä¼¼äºå¾®ä¿¡çš„å‘å¸ƒæœ‹å‹åœˆçš„åŠŸèƒ½, ç„¶åæˆ‘ä»¬å¯ä»¥é€šè¿‡å‰ç«¯çš„æ‰‹æ®µæ ¹æ®ç”¨æˆ·å‘è¡¨çš„æ•°æ®æ¸²æŸ“æˆä¸€ä¸ªæœ‹å‹åœˆåˆ—è¡¨.<br>å¦‚æœæˆ‘ä»¬å†æ‰“å¼€è‡ªå·±çš„è„‘æ´ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·é…ç½®ï¼Œé…ç½®ä¸€ä¸ªè¿™æ ·çš„è¡¨å•ï¼Œè¡¨å•åŒ…æ‹¬ä¸€ä¸ªæ–‡ä»¶ä¸Šä¼ æ§ä»¶å’Œnä¸ªæ–‡æœ¬è¾“å…¥æ§ä»¶ï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src="https://user-gold-cdn.xitu.io/2020/4/24/171ace33e78b037d?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="æ´»åŠ¨é¡µé¢é…ç½®"></p><p>å°†è¿™æ ·çš„è¡¨å•é…ç½®åˆ°H5ç®¡ç†æ¨¡å—ï¼Œæˆ‘ä»¬<strong>åªéœ€è¦ä¸Šä¼ ä¸‰å¼ å›¾ï¼Œç„¶åå¡«å†™å¥½å¯¹åº”çš„é…æ–‡ï¼Œç„¶ååˆ©ç”¨å¸‚é¢ä¸Šæˆç†Ÿçš„H5å…¨å±æ»šåŠ¨æ’ä»¶ï¼Œå°±èƒ½è½»æ¾çš„å®šåˆ¶å„ç§H5æ´»åŠ¨é¡µé¢äº†</strong>ã€‚è¯¥æ–¹æ¡ˆå·²è¢«ç¬”è€…çš„å¾ˆå¤šå­ç³»ç»Ÿä½¿ç”¨ï¼Œæ•ˆæœè¿˜æ˜¯éå¸¸å¥½çš„ã€‚<br>å½“ç„¶åŸºäºè¯¥å¹³å°ç”šè‡³èƒ½ç›´æ¥é…ç½®å°å‹çš„å®£ä¼ ç½‘ç«™ï¼Œè¿˜æœ‰æ›´å¤šæƒ³è±¡ç©ºé—´ï¼ŒæœŸå¾…å¤§å®¶å»æŒ–æ˜ã€‚</p><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><p>è¦æƒ³å¼€å‘è¿™æ ·ä¸€ä¸ªè¡¨å•å®šåˆ¶å¹³å°, æ ¸å¿ƒåœ¨äºå¦‚ä½•å®ç°è¡¨å•åŠ¨æ€é…ç½®çš„æœºåˆ¶.è¿™é‡Œç¬”è€…å°†å…¶åˆ’åˆ†ä¸ºä¸¤éƒ¨åˆ†:<strong>åŸºç¡€è¡¨å•ç‰©æ–™å’Œè¡¨å•ç¼–è¾‘ç”Ÿæˆå™¨</strong>, å¦‚ä¸‹å›¾æ‰€ç¤ºæ‹†åˆ†å›¾:</p><p><img src="https://user-gold-cdn.xitu.io/2020/4/24/171abbf0cdd52a43?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="è¡¨å•å®šåˆ¶æ¨¡å—"></p><h3 id="åŸºç¡€è¡¨å•ç‰©æ–™"><a href="#åŸºç¡€è¡¨å•ç‰©æ–™" class="headerlink" title="åŸºç¡€è¡¨å•ç‰©æ–™"></a>åŸºç¡€è¡¨å•ç‰©æ–™</h3><p>åŸºç¡€è¡¨å•ç‰©æ–™ä¸»è¦æ˜¯ä¸ºäº†ç”¨æˆ·é€‰æ‹©è‡ªå®šä¹‰è¡¨å•æ§ä»¶ä½¿ç”¨ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„è¡¨å•åŠ¨æ€æ¸²æŸ“æœ‰mapå¾ªç¯+æ¡ä»¶åˆ¤æ–­å’Œå•å±‚map+å¯¹è±¡æ³•ï¼Œå‰è€…å¦‚æœè¦æ¸²æŸ“ä¸€ä¸ªåŠ¨æ€è¡¨å•ï¼Œå¯èƒ½å®ç°å¦‚ä¸‹ï¼š</p><pre><code class="js">{    list.map((item, i) =&gt; {        return &lt;React.Fragment key={i}&gt;            {               item.type === &#39;input&#39; &amp;&amp; &lt;Input /&gt;            }            {               item.type === &#39;radio&#39; &amp;&amp; &lt;Radio /&gt;            }            // ...        &lt;/React.Fragment&gt;    })}</code></pre><p>ä½†æ˜¯è¿™æ ·åšæœ‰ä¸ªæ˜æ˜¾çš„ç¼ºç‚¹å°±æ˜¯ä¼šäº§ç”Ÿå¾ˆå¤šæ²¡å¿…è¦çš„åˆ¤æ–­ï¼Œå¦‚æœå¯¹äºå¤æ‚è¡¨å•ï¼Œæ€§èƒ½å¾€å¾€å¾ˆä½ï¼Œæ‰€ä»¥ç¬”è€…é‡‡ç”¨åè€…æ¥å®ç°ï¼Œå¤æ‚åº¦å¯ä»¥é™åˆ°O(n).æˆ‘ä»¬å…ˆæ¥åšé…ç½®æ¨¡ç‰ˆï¼š</p><pre><code class="js">// åŸºç¡€æ¨¡ç‰ˆæ•°æ®const tpl = [  {    label: &#39;æ–‡æœ¬æ¡†&#39;,    placeholder: &#39;è¯·è¾“å…¥å†…å®¹&#39;,    type: &#39;text&#39;,    value: &#39;&#39;,    index: uuid(5)  },  {    label: &#39;å•é€‰æ¡†&#39;,    type: &#39;radio&#39;,    option: [{label: &#39;ç”·&#39;, value: 0}, {label: &#39;å¥³&#39;, value: 1}],    index: uuid(5)  },  {    label: &#39;å¤é€‰æ¡†&#39;,    type: &#39;checkbox&#39;,    option: [{label: &#39;ç”·&#39;, value: 0}, {label: &#39;å¥³&#39;, value: 1}],    index: uuid(5)  },  {    label: &#39;å¤šè¡Œæ–‡æœ¬&#39;,    placeholder: &#39;è¯·è¾“å…¥å†…å®¹&#39;,    type: &#39;textarea&#39;,    index: uuid(5)  },  {    label: &#39;é€‰æ‹©æ¡†&#39;,    placeholder: &#39;è¯·é€‰æ‹©&#39;,    type: &#39;select&#39;,    option: [{label: &#39;ä¸­å›½&#39;, value: 0}, {label: &#39;ä¿„ç½—æ–¯&#39;, value: 1}],    index: uuid(5)  },  {    label: &#39;æ–‡ä»¶ä¸Šä¼ &#39;,    type: &#39;upload&#39;,    index: uuid(5)  }]// æ¨¡ç‰ˆæ¸²æŸ“ç»„ä»¶const tplMap = {  text: {    component: (props) =&gt; {      const { placeholder, label } = props      return &lt;div className={styles.fieldOption}&gt;&lt;span className={styles.fieldLabel}&gt;{label}:&lt;/span&gt;&lt;Input placeholder={placeholder} /&gt;&lt;/div&gt;    }  },  textarea: {    component: (props) =&gt; {      const { placeholder, label } = props      return &lt;div className={styles.fieldOption}&gt;&lt;span className={styles.fieldLabel}&gt;{label}:&lt;/span&gt;&lt;TextArea placeholder={placeholder} /&gt;&lt;/div&gt;    }  },  radio: {    component: (props) =&gt; {      const { option, label } = props      return &lt;div className={styles.fieldOption}&gt;              &lt;span className={styles.fieldLabel}&gt;{label}:&lt;/span&gt;              &lt;Radio.Group&gt;                {                  option &amp;&amp; option.map((item, i) =&gt; {                    return &lt;Radio style={radioStyle} value={item.value} key={item.label}&gt;                      { item.label }                    &lt;/Radio&gt;                  })                }            &lt;/Radio.Group&gt;        &lt;/div&gt;    }  },  checkbox: {    component: (props) =&gt; {      const { option, label } = props      return &lt;div className={styles.fieldOption}&gt;              &lt;span className={styles.fieldLabel}&gt;{label}:&lt;/span&gt;              &lt;Checkbox.Group&gt;                &lt;Row&gt;                  {                    option &amp;&amp; option.map(item =&gt; {                      return &lt;Col span={16} key={item.label}&gt;                              &lt;Checkbox value={item.value} style={{ lineHeight: '32px' }}&gt;                                { item.label }                              &lt;/Checkbox&gt;                            &lt;/Col&gt;                    })                  }                &lt;/Row&gt;            &lt;/Checkbox.Group&gt;        &lt;/div&gt;    }  },  select: {    component: (props) =&gt; {      const { placeholder, option, label } = props      return &lt;div className={styles.fieldOption}&gt;              &lt;span className={styles.fieldLabel}&gt;{label}:&lt;/span&gt;              &lt;Select placeholder={placeholder} style={{width: '100%'}}&gt;                {                  option &amp;&amp; option.map(item =&gt; {                    return &lt;Option value={item.value} key={item.label}&gt;{item.label}&lt;/Option&gt;                  })                }            &lt;/Select&gt;        &lt;/div&gt;    }  },  upload: {    component: (props) =&gt; {      return &lt;div className={styles.fieldOption}&gt;              &lt;span className={styles.fieldLabel}&gt;{props.label}:&lt;/span&gt;              &lt;Upload              listType=&quot;picture-card&quot;              className=&quot;avatar-uploader&quot;              showUploadList={false}              action=&quot;https://www.mocky.io/v2/5cc8019d300000980a055e76&quot;            &gt;              &lt;div&gt;+&lt;/div&gt;            &lt;/Upload&gt;        &lt;/div&gt;    }  }}export {  tpl,  tplMap}</code></pre><p>åŸºç¡€ç‰©æ–™åœ¨ä¸‹å›¾æ‰€ç¤ºä¸­ä½¿ç”¨ï¼š</p><p><img src="https://user-gold-cdn.xitu.io/2020/4/25/171ad0ca3515ae67?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="åŸºç¡€ç‰©æ–™ä½¿ç”¨"></p><p>å½“æˆ‘ä»¬è¦æ·»åŠ ä¸€ä¸ªè¡¨å•é¡¹æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨å·¦è¾¹é¢„è§ˆæ“ä½œåŒºçœ‹åˆ°æ·»åŠ çš„é¡¹ï¼Œå¹¶å¯ä»¥åŸºäºè¡¨å•ç¼–è¾‘ç”Ÿæˆå™¨æ¥ç¼–è¾‘è¡¨å•å­—æ®µã€‚</p><h3 id="è¡¨å•ç¼–è¾‘ç”Ÿæˆå™¨"><a href="#è¡¨å•ç¼–è¾‘ç”Ÿæˆå™¨" class="headerlink" title="è¡¨å•ç¼–è¾‘ç”Ÿæˆå™¨"></a>è¡¨å•ç¼–è¾‘ç”Ÿæˆå™¨</h3><p>è¡¨å•ç¼–è¾‘ç”Ÿæˆå™¨åˆ†ä¸º2éƒ¨åˆ†ï¼Œ ç¬¬ä¸€éƒ¨åˆ†æ˜¯ç”¨æ¥ç”Ÿæˆè¡¨å•é¡¹çš„å®¹å™¨ç»„ä»¶ï¼Œå°è£…äº†æ·»åŠ ï¼Œåˆ é™¤ï¼Œç¼–è¾‘æ“ä½œåŠŸèƒ½ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="js">// è¡¨å•å®¹å™¨ç»„ä»¶const BaseFormEl = (props) =&gt; {  const {isEdit, onEdit, onDel, onAdd} = props  const handleEdit = (v) =&gt; {    onEdit &amp;&amp; onEdit(v)  }  return &lt;div className={styles.formControl}&gt;    &lt;div className={styles.formItem}&gt;{ props.children }&lt;/div&gt;    &lt;div className={styles.actionBar}&gt;      &lt;span className={styles.actionItem} onClick={onDel}&gt;&lt;MinusCircleOutlined /&gt;&lt;/span&gt;      &lt;span className={styles.actionItem} onClick={onAdd}&gt;&lt;PlusCircleOutlined /&gt;&lt;/span&gt;      &lt;span className={styles.actionItem} onClick={handleEdit}&gt;&lt;EditOutlined /&gt;&lt;/span&gt;    &lt;/div&gt;  &lt;/div&gt;}</code></pre><p>ç¬¬äºŒéƒ¨åˆ†ä¸»è¦ç”¨æ¥æ¸²æŸ“æ“ä½œåŒºæ¨¡ç‰ˆï¼ŒåŸºäºBaseFormElåŒ…è£…ä¸åŒç±»å‹çš„è¡¨å•ç»„ä»¶, è¿™é‡Œä¸¾ä¸€ä¸ªæ¯”è¾ƒå¤æ‚çš„selectæ¥è¯´æ˜ï¼Œå…¶ä»–è¡¨å•æ§ä»¶ç±»ä¼¼ï¼š</p><pre><code class="js">const formMap = {  title: {},  text: {},  textarea: {},  radio: {},  checkbox: {},  select: {    component: (props) =&gt; {      const { onDel, onAdd, onEdit, curIndex, index, type, label, placeholder, required, message, option } = props      return &lt;BaseFormEl         onDel={onDel.bind(this, index)}        onAdd={onAdd.bind(this, index)}        onEdit={onEdit.bind(this, {index, type, placeholder, label, option, required})}        isEdit={curIndex === index}      &gt;        &lt;Form.Item name={label} label={label} rules={[{ message, required }]}&gt;          &lt;Select placeholder={placeholder}&gt;            {              option &amp;&amp; option.map(item =&gt; {                return &lt;Option value={item.value} key={item.label}&gt;{item.label}&lt;/Option&gt;              })            }          &lt;/Select&gt;        &lt;/Form.Item&gt;      &lt;/BaseFormEl&gt;    },    editAttrs: [      {        title: &#39;å­—æ®µåç§°&#39;,        key: &#39;label&#39;      },      {        title: &#39;é€‰é¡¹&#39;,        key: &#39;option&#39;      },      {        title: &#39;æç¤ºæ–‡æœ¬&#39;,        key: &#39;placeholder&#39;      },      {        title: &#39;æ˜¯å¦å¿…å¡«&#39;,        key: &#39;required&#39;      },    ]  },  upload: {}}</code></pre><p>editAttrsä¸»è¦ç”¨æ¥æ¸²æŸ“ç¼–è¾‘åˆ—è¡¨ï¼Œè¯´æ˜å“ªäº›è¡¨å•é¡¹å¯ä»¥ç¼–è¾‘ï¼Œè¿™éƒ¨åˆ†ä»£ç æ¯”è¾ƒç®€å•ï¼Œè¿™é‡Œç›´æ¥ç”¨å›¾ä¸¾ä¾‹ï¼š</p><p><img src="https://user-gold-cdn.xitu.io/2020/4/25/171ad19928734c82?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="åœ¨çº¿è¡¨å•åˆ¶ä½œå¹³å°"></p><p>æœ€åæˆ‘ä»¬æ¥æ¸²æŸ“è¡¨å•ç”Ÿæˆå™¨ç»„ä»¶ï¼š</p><pre><code class="js">export default (props) =&gt; {  const {     formData,     handleDelete,     handleAdd,     handleEdit,     curEditRowIdx   } = props  return &lt;Form name=&quot;customForm&quot;&gt;            {              formData &amp;&amp; formData.map(item =&gt; {                let CP = formMap[item.type].component                return &lt;CP {...item} key={item.index}                  onDel={handleDelete}                   onAdd={handleAdd}                  onEdit={handleEdit}                  curIndex={curEditRowIdx}                /&gt;              })            }         &lt;/Form&gt;}</code></pre><p>è‡³æ­¤ï¼ŒåŸºæœ¬åŠŸèƒ½æ¨¡å—å·²ç»å¼€å‘å®Œæˆï¼Œæˆ‘ä»¬åªéœ€è¦å°†è¿™äº›ç‰©æ–™å’Œç»„ä»¶å¯¼å…¥åˆ°ç¼–è¾‘é¡µé¢ï¼ŒåŸºäºä¸šåŠ¡æ¥æ“ä½œå’Œè¯·æ±‚å³å¯ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://juejin.im/post/5ea1af9f518825737a316cc3?utm_source=gold_browser_extension&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;åŸæ–‡åœ°å€&lt;/a&gt;&lt;/p&gt;
&lt;
      
    
    </summary>
    
      <category term="React/Vue" scheme="https://zhanghao-web.github.io/categories/React-Vue/"/>
    
    
      <category term="React/Vue" scheme="https://zhanghao-web.github.io/tags/React-Vue/"/>
    
  </entry>
  
  <entry>
    <title>å¼ºå¤§çš„CSS:æ–‡å­—ä¸‹æ³¢æµªçº¿åŠ¨ç”»æ•ˆæœ</title>
    <link href="https://zhanghao-web.github.io/2020/04/23/CSS3/%E5%BC%BA%E5%A4%A7%E7%9A%84CSS-%E6%96%87%E5%AD%97%E4%B8%8B%E6%B3%A2%E6%B5%AA%E7%BA%BF%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/"/>
    <id>https://zhanghao-web.github.io/2020/04/23/CSS3/å¼ºå¤§çš„CSS-æ–‡å­—ä¸‹æ³¢æµªçº¿åŠ¨ç”»æ•ˆæœ/</id>
    <published>2020-04-23T05:01:46.000Z</published>
    <updated>2020-04-23T05:24:05.693Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.imooc.com/article/286988" target="_blank" rel="noopener">åŸæ–‡åœ°å€</a></p><p><img src="http://upload-images.jianshu.io/upload_images/13133049-963e2b89fb9da2ad.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="wave"></p><p>ç±»ä¼¼ä¸‹é¢è¿™ç§æ•ˆæœ<br><img src="http://upload-images.jianshu.io/upload_images/13133049-03fa0c4c990af8f1.gif?imageMogr2/auto-orient/strip" alt="text wave"></p><p>æœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼å¯ä»¥å®ç°è¿™ç§æ•ˆæœ</p><h2 id="å¾„å‘æ¸å˜çº¯CSSçš„æ–¹å¼"><a href="#å¾„å‘æ¸å˜çº¯CSSçš„æ–¹å¼" class="headerlink" title="å¾„å‘æ¸å˜çº¯CSSçš„æ–¹å¼"></a>å¾„å‘æ¸å˜çº¯CSSçš„æ–¹å¼</h2><p>å°±æ˜¯ä½¿ç”¨å¾„å‘æ¸å˜ç»˜åˆ¶æˆ‘ä»¬çš„æ³¢æµªçº¿æ•ˆæœï¼Œä¸€ä¸ªæ³¢æµªçº¿å¾ªç¯æ®µæ˜¯æœ‰ä¸€ä¸ªæœä¸Šçš„åŠä¸ªåœ†å¼§å’Œä¸€ä¸ªæœä¸‹çš„åŠä¸ªåœ†å¼§ç»„åˆè€Œæˆçš„ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬åªè¦ä½¿ç”¨å¾„å‘æ¸å˜ç»˜åˆ¶åœ†å¼§ï¼Œå†é€šè¿‡<code>background-position</code>æ§åˆ¶ä¸¤ä¸ªåœ†å¼§çš„ä½ç½®ï¼Œè®©å…¶å‰åæ‹¼æ¥åœ¨ä¸€èµ·å°±å¯ä»¥å®ç°æ³¢æµªçº¿æ•ˆæœã€‚</p><p>ç›¸å…³CSSä»£ç </p><pre><code class="css">.flow-wave {    background: radial-gradient(circle at 10px -7px, transparent 8px, currentColor 8px, currentColor 9px, transparent 9px) repeat-x,        radial-gradient(circle at 10px 27px, transparent 8px, currentColor 8px, currentColor 9px, transparent 9px) repeat-x;    background-size: 20px 20px;    background-position: -10px calc(100% + 16px), 0 calc(100% - 4px);}</code></pre><p>å®æ—¶æ•ˆæœå¦‚ä¸‹ï¼š<br>æœ‰äº†é™æ€çš„æ³¢æµªçº¿æ•ˆæœï¼Œå‰©ä¸‹çš„å°±åƒè¿™ä¸ªæ³¢æµªçº¿åŠ¨èµ·æ¥ï¼Œç”¨<code>CSS3 animation</code>åŠ¨ç”»æ§åˆ¶<code>background-position</code>ä½ç½®å³å¯ã€‚</p><pre><code class="css">.flow-wave {    animation: waveFlow 1s infinite linear;}@keyframes waveFlow {    from { background-position-x: -10px, 0; }    to { background-position-x: -30px, -20px; }}</code></pre><p>äºæ˜¯æ³¢æµªçº¿åŠ¨ç”»æ•ˆæœå°±å®ç°äº†ã€‚</p><p>è¿™ç§æ–¹æ³•å®ç°çš„ä¼˜ç‚¹æ˜¯é¢œè‰²æ§åˆ¶éå¸¸æ–¹ä¾¿ï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬ä¿®æ”¹æ–‡å­—é¢œè‰²ä¸ºåŸè°…ç»¿ï¼Œå¼¯å¼¯æ°´æ³¢çš„é¢œè‰²ä¹Ÿå˜æˆäº†åŸè°…ç»¿ï¼š</p><p>æ­¤æ–¹æ³•å®ç°çš„ä¸è¶³å°±æ˜¯ï¼šç†è§£æˆæœ¬æœ‰ç‚¹é«˜ï¼Œå¦‚ä½•ä½¿ç”¨CSS radial-gradientæ¨¡æ‹Ÿæ³¢æµªçº¿æ•ˆæœæ˜¯éœ€è¦ç›¸å½“çš„CSSåŠŸåŠ›ç§¯ç´¯çš„ï¼Œä¸Šæ‰‹ä¸å¤ªå®¹æ˜“ï¼Œä»¥åè¦ä¿®æ”¹ä¸ªå°ºå¯¸ä»€ä¹ˆçš„ä¹Ÿä¸å¤ªå¥½ç»´æŠ¤ã€‚åŒæ—¶ï¼Œåœ¨æ™®é€šå±å¹•å¯†åº¦å±å¹•ä¸‹çš„Chromeæµè§ˆå™¨ä¸Šï¼Œçº¿æ¡å¹¶ä¸å¹³æ»‘ï¼Œå¹æ¯›æ±‚ç–µçš„è®¾è®¡å¸ˆä¸ä¸€å®šä¼šæ¥å—ã€‚</p><p>æ­¤æ—¶ï¼Œå¯ä»¥è¯•è¯•ä¸‹é¢è¿™ç§æ›´åˆ©äºç†è§£çš„æ–¹æ³•ã€‚</p><h2 id="ä½¿ç”¨SVGæ³¢å½¢çŸ¢é‡å›¾ä½œä¸ºèƒŒæ™¯"><a href="#ä½¿ç”¨SVGæ³¢å½¢çŸ¢é‡å›¾ä½œä¸ºèƒŒæ™¯" class="headerlink" title="ä½¿ç”¨SVGæ³¢å½¢çŸ¢é‡å›¾ä½œä¸ºèƒŒæ™¯"></a>ä½¿ç”¨SVGæ³¢å½¢çŸ¢é‡å›¾ä½œä¸ºèƒŒæ™¯</h2><p>å°±æ˜¯æˆ‘ä»¬ç›´æ¥ä½¿ç”¨ä¸€ä¸ªä½¿ç”¨SVGæ³¢å½¢çŸ¢é‡å›¾ä½œä¸ºèƒŒæ™¯ï¼Œä¸ç”¨è‡ªå·±å»æ‰‹åŠ¨CSSç»˜åˆ¶ï¼Œä»£ç é‡å·®ä¸å¤šï¼Œè¿˜æ›´å®¹æ˜“ç†è§£ã€‚CSSä»£ç ç¤ºæ„ï¼š</p><pre><code class="css">svg-wave {    background: url(&quot;data:image/svg+xml,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; viewBox=&#39;0 0 20 4&#39;%3E%3Cpath fill=&#39;none&#39; stroke=&#39;%23333&#39; d=&#39;M0 3.5c5 0 5-3 10-3s5 3 10 3 5-3 10-3 5 3 10 3&#39;/%3E%3C/svg%3E&quot;) repeat-x 0 100%;     background-size: 20px auto;}</code></pre><p>å®æ—¶æ•ˆæœå¦‚ä¸‹ï¼š</p><p>æœ‰äº†é™æ€çš„æ³¢æµªçº¿æ•ˆæœï¼Œå‰©ä¸‹çš„å°±åƒè¿™ä¸ªæ³¢æµªçº¿åŠ¨èµ·æ¥ï¼Œç”¨<code>CSS3 animation</code>åŠ¨ç”»æ§åˆ¶<code>background-position</code>ä½ç½®å³å¯ã€‚</p><pre><code class="css">.svg-wave {    animation: waveMove 1s infinite linear;}@keyframes waveMove {    from { background-position: 0 100%; }    to   { background-position: -20px 100%; }}</code></pre><p>ä¼˜ç‚¹æ˜¯çº¿æ¡è¾¹ç¼˜å¹³æ»‘ï¼Œæ•ˆæœç»†è…»ï¼Œæ˜“ç†è§£ï¼Œæ˜“ä¸Šæ‰‹ï¼Œæ˜“ç»´æŠ¤ã€‚</p><p>ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œå°±æ˜¯æ³¢æµªçº¿çš„é¢œè‰²æ— æ³•å®æ—¶è·Ÿç€æ–‡å­—çš„é¢œè‰²å‘ç”Ÿå˜åŒ–ï¼Œé€‚ç”¨äºæ–‡å­—é¢œè‰²ä¸ä¼šå¤šå˜çš„åœºæ™¯ã€‚</p><p>å¦‚æœæˆ‘ä»¬æƒ³è¦æ”¹å˜æ³¢æµªçº¿çš„é¢œè‰²ä¹Ÿå¾ˆç®€å•ï¼Œä¿®æ”¹<code>background</code>ä»£ç ä¸­çš„<code>stroke=&#39;%23333&#39;</code>è¿™éƒ¨åˆ†ï¼Œâ€™%23â€™å°±æ˜¯å°±æ˜¯#ï¼Œå› æ­¤ï¼Œ<code>stroke=&#39;%23333&#39;</code>å…¶å®å°±æ˜¯<code>stroke=&#39;#333&#39;</code>çš„æ„æ€ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬éœ€è¦æ”¹æˆçº¢è‰²ç•¥å¸¦æ©™è‰²ï¼Œå¯ä»¥<code>stroke=&#39;%23F30&#39;</code>ï¼Œä¹Ÿå¯ä»¥å†™å®Œæ•´<code>stroke=&#39;%23FF3300&#39;</code>ã€‚</p><h2 id="text-decoration"><a href="#text-decoration" class="headerlink" title="text-decoration"></a>text-decoration</h2><p><code>text-decoration</code>å±æ€§æ—©å·²æ”¯æŒæ³¢æµªçº¿ä¸‹åˆ’çº¿ï¼š</p><pre><code class="css">text-decoration-style: wavy;</code></pre><p>æ•ˆæœå¦‚ä¸‹æˆªå›¾ï¼š</p><p><img src="http://upload-images.jianshu.io/upload_images/13133049-0b1b797b8f9d40aa.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="text-decoration-style"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œçº¿å¥½ç²—å¥½ä¸åè°ƒï¼Œè€Œä¸”å­—ç¬¦å’Œè£…é¥°çº¿å‘ç”Ÿé‡å çš„æ—¶å€™ï¼Œè£…é¥°çº¿ç›´æ¥æ¶ˆå¤±äº†ï¼Œç»“æœæ³¢æµªçº¿å˜æˆäº†ä¸€æˆªä¸€æˆªçš„ï¼Œè¿˜éœ€è¦ä½¿ç”¨text-decoration-skipè¿›è¡Œé¢å¤–æ§åˆ¶ã€‚å› æ­¤ï¼Œå®é™…å¼€å‘ï¼Œä¸å»ºè®®åœ¨å®é™…é¡¹ç›®ä¸­ä½¿ç”¨ã€‚</p><p>è€Œä¸”ä½ æ— æ³•é¢„çŸ¥æ¯ä¸ªæ³¢æµªçº¿é‡å¤ç‰‡æ®µçš„å®½åº¦ï¼Œæƒ³è¦æ— é™è¿åŠ¨ç†è®ºä¸Šå°±ä¸å¤ªå¯è¡Œã€‚</p><p>å› æ­¤ï¼Œæ–‡å­—æˆ–è€…å›¾å½¢çš„æ³¢æµªçº¿åŠ¨ç”»æ•ˆæœä¸èƒ½ä½¿ç”¨text-decorationçš„æ³¢æµªçº¿ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://www.imooc.com/article/286988&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;åŸæ–‡åœ°å€&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/u
      
    
    </summary>
    
      <category term="CSS" scheme="https://zhanghao-web.github.io/categories/CSS/"/>
    
    
      <category term="CSS" scheme="https://zhanghao-web.github.io/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>å°¤é›¨æºªåœ¨Vue3.0 Betaç›´æ’­é‡ŒèŠåˆ°äº†è¿™äº›â€¦</title>
    <link href="https://zhanghao-web.github.io/2020/04/22/Vue/%E5%B0%A4%E9%9B%A8%E6%BA%AA%E5%9C%A8Vue3-0-Beta%E7%9B%B4%E6%92%AD%E9%87%8C%E8%81%8A%E5%88%B0%E4%BA%86%E8%BF%99%E4%BA%9B%E2%80%A6/"/>
    <id>https://zhanghao-web.github.io/2020/04/22/Vue/å°¤é›¨æºªåœ¨Vue3-0-Betaç›´æ’­é‡ŒèŠåˆ°äº†è¿™äº›â€¦/</id>
    <published>2020-04-22T14:07:49.000Z</published>
    <updated>2020-04-23T05:00:51.297Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://juejin.im/post/5e9f6b3251882573a855cd52?utm_source=gold_browser_extension#heading-15" target="_blank" rel="noopener">åŸæ–‡åœ°å€(https://juejin.im/post/5e9f6b3251882573a855cd52?utm_source=gold_browser_extension#heading-15)</a></p><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>4æœˆ21æ—¥æ™šï¼ŒVueä½œè€…å°¤é›¨æºªåœ¨å“”å“©å“”å“©ç›´æ’­åˆ†äº«äº†Vue.js 3.0 Betaæœ€æ–°è¿›å±•ã€‚ ä»¥ä¸‹æ˜¯ç›´æ’­å†…å®¹æ•´ç†</p><h2 id="å…¨æ–°æ–‡æ¡£RFCs"><a href="#å…¨æ–°æ–‡æ¡£RFCs" class="headerlink" title="å…¨æ–°æ–‡æ¡£RFCs"></a>å…¨æ–°æ–‡æ¡£RFCs</h2><p><img src="https://user-gold-cdn.xitu.io/2020/4/22/1719da838e76e8c7?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="å…¨æ–°æ–‡æ¡£RFCs"></p><p><code>Vue.js 3.0 Beta</code>å‘å¸ƒåçš„å·¥ä½œé‡ç‚¹æ˜¯ä¿è¯ç¨³å®šæ€§å’Œæ¨è¿›å„ç±»åº“é›†æˆ</p><p>æ‰€æœ‰çš„è¿›åº¦å’Œæ–‡æ¡£éƒ½å°†åœ¨å…¨æ–°<code>RFCs</code>æ–‡æ¡£å¯ä»¥çœ‹åˆ°ã€‚</p><h2 id="å…­å¤§äº®ç‚¹"><a href="#å…­å¤§äº®ç‚¹" class="headerlink" title="å…­å¤§äº®ç‚¹"></a>å…­å¤§äº®ç‚¹</h2><p><img src="https://user-gold-cdn.xitu.io/2020/4/22/1719daca80f3b7c2?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="å…­å¤§äº®ç‚¹"></p><blockquote><ul><li>Performanceï¼šæ€§èƒ½æ›´æ¯”Vue 2.0å¼ºã€‚</li><li>Tree shaking supportï¼šå¯ä»¥å°†æ— ç”¨æ¨¡å—â€œå‰ªè¾‘â€ï¼Œä»…æ‰“åŒ…éœ€è¦çš„ã€‚</li><li>Composition APIï¼šç»„åˆAPI</li><li>Fragment, Teleport, Suspenseï¼šâ€œç¢ç‰‡â€ï¼ŒTeleportå³Protalä¼ é€é—¨ï¼Œâ€œæ‚¬å¿µâ€</li><li>Better TypeScript supportï¼šæ›´ä¼˜ç§€çš„Tsæ”¯æŒ</li><li>Custom Renderer APIï¼šæš´éœ²äº†è‡ªå®šä¹‰æ¸²æŸ“API</li></ul></blockquote><h3 id="Performance"><a href="#Performance" class="headerlink" title="Performance"></a>Performance</h3><p><img src="https://user-gold-cdn.xitu.io/2020/4/21/1719d6747e723d03?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="Performance"></p><ul><li><ol><li>é‡å†™äº†è™šæ‹ŸDomçš„å®ç°ï¼ˆä¸”ä¿è¯äº†å…¼å®¹æ€§ï¼Œè„±ç¦»æ¨¡ç‰ˆçš„æ¸²æŸ“éœ€æ±‚æ—ºç››ï¼‰ã€‚</li></ol></li><li><ol start="2"><li>ç¼–è¯‘æ¨¡æ¿çš„ä¼˜åŒ–ã€‚</li></ol></li><li><ol start="3"><li>æ›´é«˜æ•ˆçš„ç»„ä»¶åˆå§‹åŒ–ã€‚</li></ol></li><li><ol start="4"><li>updateæ€§èƒ½æé«˜1.3~2å€ã€‚</li></ol></li><li><ol start="5"><li>SSRé€Ÿåº¦æé«˜äº†2~3å€ã€‚</li></ol></li></ul><p>ä¸‹é¢æ˜¯å„é¡¹æ€§èƒ½å¯¹æ¯”</p><p><img src="https://user-gold-cdn.xitu.io/2020/4/22/1719db04999e3890?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="æ€§èƒ½å¯¹æ¯”"></p><h4 id="è¦ç‚¹1ï¼šç¼–è¯‘æ¨¡æ¿çš„ä¼˜åŒ–"><a href="#è¦ç‚¹1ï¼šç¼–è¯‘æ¨¡æ¿çš„ä¼˜åŒ–" class="headerlink" title="è¦ç‚¹1ï¼šç¼–è¯‘æ¨¡æ¿çš„ä¼˜åŒ–"></a>è¦ç‚¹1ï¼šç¼–è¯‘æ¨¡æ¿çš„ä¼˜åŒ–</h4><p><img src="https://user-gold-cdn.xitu.io/2020/4/22/1719e59cd0f2b668?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="ç¼–è¯‘æ¨¡æ¿çš„ä¼˜åŒ–"></p><p>å‡è®¾è¦ç¼–è¯‘ä»¥ä¸‹ä»£ç </p><pre><code class="js">&lt;div&gt;  &lt;span/&gt;  &lt;span&gt;{{ msg }}&lt;/span&gt;&lt;/div&gt;</code></pre><pre><code class="js">import { createVNode as _createVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createBlock as _createBlock } from &quot;vue&quot;export function render(_ctx, _cache) {  return (_openBlock(), _createBlock(&quot;div&quot;, null, [    _createVNode(&quot;span&quot;, null, &quot;static&quot;),    _createVNode(&quot;span&quot;, null, _toDisplayString(_ctx.msg), 1 /* TEXT */)  ]))}// Check the console for the AST</code></pre><p>æ³¨æ„çœ‹ç¬¬äºŒä¸ª<code>_createVNode</code>ç»“å°¾çš„â€œ1â€ï¼š</p><p>Vueåœ¨è¿è¡Œæ—¶ä¼šç”Ÿæˆnumberï¼ˆå¤§äº0ï¼‰å€¼çš„<code>PatchFlag</code>ï¼Œç”¨ä½œæ ‡è®°ã€‚</p><p><img src="https://user-gold-cdn.xitu.io/2020/4/22/1719e69419edbc4d?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="æ ‡è®°"></p><p>ä»…å¸¦æœ‰<code>PatchFlag</code>æ ‡è®°çš„èŠ‚ç‚¹ä¼šè¢«çœŸæ­£è¿½è¸ªï¼Œä¸”æ— è®ºå±‚çº§åµŒå¥—å¤šæ·±ï¼Œå®ƒçš„åŠ¨æ€èŠ‚ç‚¹éƒ½ç›´æ¥ä¸<code>Block</code>æ ¹èŠ‚ç‚¹ç»‘å®šï¼Œæ— éœ€å†å»éå†é™æ€èŠ‚ç‚¹</p><p>å†çœ‹ä»¥ä¸‹ä¾‹å­ï¼š</p><p><img src="https://user-gold-cdn.xitu.io/2020/4/22/1719e6d7d3efe7f1?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="ä¾‹å­2"></p><pre><code class="js">&lt;div&gt;  &lt;span&gt;static&lt;/span&gt;  &lt;span :id=&quot;hello&quot; class=&quot;bar&quot;&gt;{{ msg }}   &lt;/span&gt;&lt;/div&gt;</code></pre><pre><code class="js">import { createVNode as _createVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createBlock as _createBlock } from &quot;vue&quot;export function render(_ctx, _cache) {  return (_openBlock(), _createBlock(&quot;div&quot;, null, [    _createVNode(&quot;span&quot;, null, &quot;static&quot;),    _createVNode(&quot;span&quot;, {      id: _ctx.hello,      class: &quot;bar&quot;    }, _toDisplayString(_ctx.msg), 9 /* TEXT, PROPS */, [&quot;id&quot;])  ]))}</code></pre><a id="more"></a><p><code>PatchFlag</code> å˜æˆäº†<code>9 /* TEXT, PROPS */, [&quot;id&quot;]</code><br>å®ƒä¼šå‘ŠçŸ¥æˆ‘ä»¬ä¸å…‰æœ‰TEXTå˜åŒ–ï¼Œè¿˜æœ‰PROPSå˜åŒ–ï¼ˆidï¼‰<br>è¿™æ ·æ—¢è·³å‡ºäº†<code>virtual dom</code>æ€§èƒ½çš„ç“¶é¢ˆï¼Œåˆä¿ç•™äº†å¯ä»¥æ‰‹å†™<code>render</code>çš„çµæ´»æ€§ã€‚<br>ç­‰äºæ˜¯ï¼šæ—¢æœ‰reactçš„çµæ´»æ€§ï¼Œåˆæœ‰åŸºäºæ¨¡æ¿çš„æ€§èƒ½ä¿è¯ã€‚</p><h4 id="è¦ç‚¹2-äº‹ä»¶ç›‘å¬ç¼“å­˜ï¼šcacheHandlers"><a href="#è¦ç‚¹2-äº‹ä»¶ç›‘å¬ç¼“å­˜ï¼šcacheHandlers" class="headerlink" title="è¦ç‚¹2: äº‹ä»¶ç›‘å¬ç¼“å­˜ï¼šcacheHandlers"></a>è¦ç‚¹2: äº‹ä»¶ç›‘å¬ç¼“å­˜ï¼šcacheHandlers</h4><p><img src="https://user-gold-cdn.xitu.io/2020/4/22/1719e775146d5a84?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="cacheHandlers"></p><p>å‡è®¾æˆ‘ä»¬è¦ç»‘å®šä¸€ä¸ªäº‹ä»¶ï¼š</p><pre><code class="html">&lt;div&gt;  &lt;span @click=&quot;onClick&quot;&gt;    {{msg}}  &lt;/span&gt;&lt;/div&gt;</code></pre><p>å…³é—­<code>cacheHandlers</code>åï¼š</p><pre><code class="js">import { toDisplayString as _toDisplayString, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock } from &quot;vue&quot;export function render(_ctx, _cache) {  return (_openBlock(), _createBlock(&quot;div&quot;, null, [    _createVNode(&quot;span&quot;, { onClick: _ctx.onClick }, _toDisplayString(_ctx.msg), 9 /* TEXT, PROPS */, [&quot;onClick&quot;])  ]))}</code></pre><p><code>onClick</code>ä¼šè¢«è§†ä¸º<code>PROPS</code>åŠ¨æ€ç»‘å®šï¼Œåç»­æ›¿æ¢ç‚¹å‡»äº‹ä»¶æ—¶éœ€è¦è¿›è¡Œæ›´æ–°ã€‚</p><p>å¼€å¯<code>cacheHandlers</code>åï¼š</p><pre><code class="js">import { toDisplayString as _toDisplayString, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock } from &quot;vue&quot;export function render(_ctx, _cache) {  return (_openBlock(), _createBlock(&quot;div&quot;, null, [    _createVNode(&quot;span&quot;, {      onClick: _cache[1] || (_cache[1] = $event =&gt; (_ctx.onClick($event)))    }, _toDisplayString(_ctx.msg), 1 /* TEXT */)  ]))}</code></pre><p><code>cache[1]</code>ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆå¹¶ç¼“å­˜ä¸€ä¸ªå†…è”å‡½æ•°ï¼Œâ€œç¥å¥‡â€çš„å˜ä¸ºä¸€ä¸ªé™æ€èŠ‚ç‚¹ã€‚ Psï¼šç›¸å½“äº<code>Reactä¸­useCallback</code>è‡ªåŠ¨åŒ–ã€‚</p><p>å¹¶ä¸”æ”¯æŒæ‰‹å†™å†…è”å‡½æ•°ï¼š</p><pre><code class="html">&lt;div&gt;  &lt;span @click=&quot;()=&gt;foo()&quot;&gt;    {{msg}}  &lt;/span&gt;&lt;/div&gt;</code></pre><p>è¡¥å……ï¼š<code>PatchFlags</code>æšä¸¾å®šä¹‰</p><p>è€Œé€šè¿‡æŸ¥è¯¢Tsæšä¸¾å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åˆ†åˆ«å®šä¹‰äº†ä»¥ä¸‹çš„è¿½è¸ªæ ‡è®°ï¼š</p><pre><code class="js">export const enum PatchFlags {  TEXT = 1,// è¡¨ç¤ºå…·æœ‰åŠ¨æ€textContentçš„å…ƒç´   CLASS = 1 &lt;&lt; 1,  // è¡¨ç¤ºæœ‰åŠ¨æ€Classçš„å…ƒç´   STYLE = 1 &lt;&lt; 2,  // è¡¨ç¤ºåŠ¨æ€æ ·å¼ï¼ˆé™æ€å¦‚style=&quot;color: red&quot;ï¼Œä¹Ÿä¼šæå‡è‡³åŠ¨æ€ï¼‰  PROPS = 1 &lt;&lt; 3,  // è¡¨ç¤ºå…·æœ‰éç±»/æ ·å¼åŠ¨æ€é“å…·çš„å…ƒç´ ã€‚  FULL_PROPS = 1 &lt;&lt; 4,  // è¡¨ç¤ºå¸¦æœ‰åŠ¨æ€é”®çš„é“å…·çš„å…ƒç´ ï¼Œä¸ä¸Šé¢ä¸‰ç§ç›¸æ–¥  HYDRATE_EVENTS = 1 &lt;&lt; 5,  // è¡¨ç¤ºå¸¦æœ‰äº‹ä»¶ç›‘å¬å™¨çš„å…ƒç´   STABLE_FRAGMENT = 1 &lt;&lt; 6,   // è¡¨ç¤ºå…¶å­é¡ºåºä¸å˜çš„ç‰‡æ®µï¼ˆæ²¡æ‡‚ï¼‰ã€‚   KEYED_FRAGMENT = 1 &lt;&lt; 7, // è¡¨ç¤ºå¸¦æœ‰é”®æ§æˆ–éƒ¨åˆ†é”®æ§å­å…ƒç´ çš„ç‰‡æ®µã€‚  UNKEYED_FRAGMENT = 1 &lt;&lt; 8, // è¡¨ç¤ºå¸¦æœ‰æ— keyç»‘å®šçš„ç‰‡æ®µ  NEED_PATCH = 1 &lt;&lt; 9,   // è¡¨ç¤ºåªéœ€è¦éå±æ€§è¡¥ä¸çš„å…ƒç´ ï¼Œä¾‹å¦‚refæˆ–hooks  DYNAMIC_SLOTS = 1 &lt;&lt; 10,  // è¡¨ç¤ºå…·æœ‰åŠ¨æ€æ’æ§½çš„å…ƒç´   // ç‰¹æ®Š FLAGS -------------------------------------------------------------  HOISTED = -1,  // ç‰¹æ®Šæ ‡å¿—æ˜¯è´Ÿæ•´æ•°è¡¨ç¤ºæ°¸è¿œä¸ä¼šç”¨ä½œdiff,åªéœ€æ£€æŸ¥ patchFlag === FLAG.  BAIL = -2 // ä¸€ä¸ªç‰¹æ®Šçš„æ ‡å¿—ï¼ŒæŒ‡ä»£å·®å¼‚ç®—æ³•ï¼ˆæ²¡æ‡‚ï¼‰}</code></pre><p>æ„Ÿå…´è¶£çš„å¯ä»¥çœ‹æºç ï¼š<code>packages/shared/src/patchFlags.ts</code></p><h3 id="Tree-shaking-support"><a href="#Tree-shaking-support" class="headerlink" title="Tree shaking support"></a>Tree shaking support</h3><p><img src="https://user-gold-cdn.xitu.io/2020/4/22/1719db10e9e06382?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="Tree shaking support"></p><ul><li>å¯ä»¥å°†æ— ç”¨æ¨¡å—â€œå‰ªè¾‘â€ï¼Œä»…æ‰“åŒ…éœ€è¦çš„ï¼ˆæ¯”å¦‚<code>v-model</code>,<code>&lt;transition&gt;</code>ï¼Œç”¨ä¸åˆ°å°±ä¸ä¼šæ‰“åŒ…ï¼‰ã€‚</li><li>ä¸€ä¸ªç®€å•â€œHelloWorldâ€å¤§å°ä»…ä¸ºï¼š13.5kb11.75kbï¼Œä»…Composition APIã€‚</li><li>åŒ…å«è¿è¡Œæ—¶å®Œæ•´åŠŸèƒ½ï¼š22.5kb,æ‹¥æœ‰æ›´å¤šçš„åŠŸèƒ½ï¼Œå´æ¯”Vue 2æ›´è¿·ä½ ã€‚</li></ul><p>å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬å¹¶ä¸éœ€è¦ vueæä¾›çš„æ‰€æœ‰åŠŸèƒ½ï¼Œåœ¨ vue 2 å¹¶æ²¡æœ‰æ–¹å¼æ’é™¤æ‰ï¼Œä½†æ˜¯ 3.0 éƒ½å¯èƒ½åšæˆäº†æŒ‰éœ€å¼•å…¥ã€‚</p><h3 id="Composition-API"><a href="#Composition-API" class="headerlink" title="Composition API"></a>Composition API</h3><p><img src="https://user-gold-cdn.xitu.io/2020/4/22/1719dc2469bd375c?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="Composition API"></p><p>ä¸React Hooks ç±»ä¼¼çš„ä¸œè¥¿ï¼Œå®ç°æ–¹å¼ä¸åŒã€‚</p><ul><li>å¯ä¸ç°æœ‰çš„ Options APIä¸€èµ·ä½¿ç”¨</li><li>çµæ´»çš„é€»è¾‘ç»„åˆä¸å¤ç”¨</li><li>vue 3çš„å“åº”å¼æ¨¡å—å¯ä»¥å’Œå…¶ä»–æ¡†æ¶æ­é…ä½¿ç”¨</li></ul><p>æ··å…¥<code>(mixin)</code> å°†ä¸å†ä½œä¸ºæ¨èä½¿ç”¨ï¼Œ <code>Composition API</code>å¯ä»¥å®ç°æ›´çµæ´»ä¸”æ— å‰¯ä½œç”¨çš„å¤ç”¨ä»£ç ã€‚</p><p>æ„Ÿå…´è¶£çš„å¯ä»¥æŸ¥çœ‹ï¼š<a href="https://composition-api.vuejs.org/#summary" target="_blank" rel="noopener">composition-api.vuejs.org/#summary</a></p><p><img src="https://user-gold-cdn.xitu.io/2020/4/22/1719dc20717835c1?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="omposition-api.vuejs.org"></p><p>Composition APIåŒ…å«äº†å…­ä¸ªä¸»è¦API</p><p><a href="https://composition-api.vuejs.org/api.html#setup" target="_blank" rel="noopener">composition-api.vuejs.org/api.html#setup</a></p><p>Psï¼šå…¶å®ƒçš„å‡ä¸ºå¸¸è§çš„å·¥å…·å‡½æ•°ï¼Œå¯å…ˆå¿½ç•¥ä¸çœ‹ã€‚</p><h3 id="Fragment"><a href="#Fragment" class="headerlink" title="Fragment"></a>Fragment</h3><p><img src="https://user-gold-cdn.xitu.io/2020/4/22/1719dcd5c5f2b631?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="Fragment"></p><p>Fragmentç¿»è¯‘ä¸ºï¼šâ€œç¢ç‰‡â€</p><ul><li>ä¸å†é™äºæ¨¡æ¿ä¸­çš„å•ä¸ªæ ¹èŠ‚ç‚¹</li><li>render å‡½æ•°ä¹Ÿå¯ä»¥è¿”å›æ•°ç»„äº†ï¼Œç±»ä¼¼å®ç°äº† React.Fragments çš„åŠŸèƒ½ ã€‚</li><li>â€˜Just worksâ€™</li></ul><h4 id=""><a href="#" class="headerlink" title=""></a><Teleport></h4><p><img src="https://user-gold-cdn.xitu.io/2020/4/22/1719dd2d18fe0d55?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="Teleport"></p><ul><li>ä»¥å‰ç§°ä¸º<code>&lt;Portal&gt;</code>ï¼Œè¯‘ä½œä¼ é€é—¨ã€‚</li><li>æ›´å¤šç»†èŠ‚å°†ç”±@<code>Linusborg</code> åˆ†äº«</li></ul><p><code>&lt;Teleport&gt;</code>åŸå…ˆæ˜¯å¯¹æ ‡ <code>React Portal</code>ï¼ˆå¢åŠ å¤šä¸ªæ–°åŠŸèƒ½ï¼Œæ›´å¼ºï¼‰</p><p>ä½†å› ä¸ºChromeæœ‰ä¸ªææ¡ˆï¼Œä¼šå¢åŠ ä¸€ä¸ªåä¸º<code>Portal</code>çš„åŸç”Ÿ<code>element</code>ï¼Œä¸ºé¿å…å‘½åå†²çªï¼Œæ”¹ä¸º<code>Teleport</code></p><h4 id="-1"><a href="#-1" class="headerlink" title=""></a><Suspense></h4><p><img src="https://user-gold-cdn.xitu.io/2020/4/22/1719ddbaf6d0f226?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="Suspense"></p><p>Suspenseç¿»è¯‘ä¸ºï¼šâ€œæ‚¬å¿µâ€</p><ul><li>å¯åœ¨åµŒå¥—å±‚çº§ä¸­ç­‰å¾…åµŒå¥—çš„å¼‚æ­¥ä¾èµ–é¡¹</li><li>æ”¯æŒasync setup()</li><li>æ”¯æŒå¼‚æ­¥ç»„ä»¶</li></ul><p>è™½ç„¶React 16å¼•å…¥äº†<code>Suspense</code>ï¼Œä½†ç›´è‡³ç°åœ¨éƒ½ä¸å¤ªèƒ½ç”¨ã€‚å¦‚ä½•å°†å…¶ä¸å¼‚æ­¥æ•°æ®ç»“åˆï¼Œè¿˜æ²¡å®Œæ•´è®¾è®¡å‡ºæ¥ã€‚<br>Vue 3 çš„<code>&lt;Suspense&gt;</code>æ›´åŠ è½»é‡ï¼š<br><strong>ä»…5%åº”ç”¨èƒ½æ„ŸçŸ¥è¿è¡Œæ—¶çš„è°ƒåº¦å·®å¼‚ï¼Œç»¼åˆè€ƒè™‘ä¸‹ï¼ŒVue3 çš„<code>&lt;Suspense&gt;</code> æ²¡å’ŒReactä¸€æ ·åšè¿è¡Œè°ƒåº¦å¤„ç†</strong></p><h3 id="æ›´å¥½çš„TypeScriptæ”¯æŒ"><a href="#æ›´å¥½çš„TypeScriptæ”¯æŒ" class="headerlink" title="æ›´å¥½çš„TypeScriptæ”¯æŒ"></a>æ›´å¥½çš„TypeScriptæ”¯æŒ</h3><p><img src="https://user-gold-cdn.xitu.io/2020/4/22/1719de6ad581aa38?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="TypeScript"></p><ul><li>Vue 3æ˜¯ç”¨TypeScriptç¼–å†™çš„åº“ï¼Œå¯ä»¥äº«å—åˆ°è‡ªåŠ¨çš„ç±»å‹å®šä¹‰æç¤º</li><li>JavaScriptå’ŒTypeScriptä¸­çš„APIæ˜¯ç›¸åŒçš„ã€‚äº‹å®ä¸Šï¼Œä»£ç ä¹ŸåŸºæœ¬ç›¸åŒ</li><li>æ”¯æŒTSX,classç»„ä»¶è¿˜ä¼šç»§ç»­æ”¯æŒï¼Œä½†æ˜¯éœ€è¦å¼•å…¥<code>vue-class-component@next</code>ï¼Œè¯¥æ¨¡å—ç›®å‰è¿˜å¤„åœ¨ alpha é˜¶æ®µã€‚</li></ul><p>è¿˜æœ‰<code>Vue 3 + TypeScript</code> æ’ä»¶æ­£åœ¨å¼€å‘ï¼Œæœ‰ç±»å‹æ£€æŸ¥ï¼Œè‡ªåŠ¨è¡¥å…¨ç­‰åŠŸèƒ½ã€‚ç›®å‰è¿›å±•å¯å–œã€‚</p><p><img src="https://user-gold-cdn.xitu.io/2020/4/22/1719deb6563506b7?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="Vue 3 + TypeScript"></p><h3 id="Custom-Renderer-APIï¼šè‡ªå®šä¹‰æ¸²æŸ“å™¨API"><a href="#Custom-Renderer-APIï¼šè‡ªå®šä¹‰æ¸²æŸ“å™¨API" class="headerlink" title="Custom Renderer APIï¼šè‡ªå®šä¹‰æ¸²æŸ“å™¨API"></a>Custom Renderer APIï¼šè‡ªå®šä¹‰æ¸²æŸ“å™¨API</h3><p><img src="https://user-gold-cdn.xitu.io/2020/4/22/1719df0e878dbeb3?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="Custom Renderer API"></p><ul><li>æ­£åœ¨è¿›è¡ŒNativeScript Vueé›†æˆ</li><li>ç”¨æˆ·å¯ä»¥å°è¯•WebGLè‡ªå®šä¹‰æ¸²æŸ“å™¨ï¼Œä¸æ™®é€šVueåº”ç”¨ç¨‹åºä¸€èµ·ä½¿ç”¨ï¼ˆVugelï¼‰ã€‚</li></ul><p>æ„å‘³ç€ä»¥åå¯ä»¥é€šè¿‡ <code>vue</code>ï¼Œ <code>Dom</code> ç¼–ç¨‹çš„æ–¹å¼æ¥è¿›è¡Œ <code>webgl</code> ç¼–ç¨‹ ã€‚æ„Ÿå…´è¶£å¯ä»¥çœ‹è¿™é‡Œï¼š<a href="https://vugel.planning.nl/#application" target="_blank" rel="noopener">Getting started vugel</a></p><h2 id="å‰©ä½™å·¥ä½œ"><a href="#å‰©ä½™å·¥ä½œ" class="headerlink" title="å‰©ä½™å·¥ä½œ"></a>å‰©ä½™å·¥ä½œ</h2><p><img src="https://user-gold-cdn.xitu.io/2020/4/22/1719df667b34919f?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="å‰©ä½™å·¥ä½œ"></p><h3 id="Docs-amp-Migration-Guides"><a href="#Docs-amp-Migration-Guides" class="headerlink" title="Docs &amp; Migration Guides"></a>Docs &amp; Migration Guides</h3><p><img src="https://user-gold-cdn.xitu.io/2020/4/22/1719df8c7c95f9b9?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="Docs &amp; Migration Guides"></p><ul><li>æ–°çš„æ–‡æ¡£ç¼–å†™äº¤ç”±<code>@NataliaTepluhina, @sdras, @bencodezen &amp; @phanan</code> è´Ÿè´£</li><li><code>@sdras</code> æ­£åœ¨åšè‡ªåŠ¨å‡çº§è¿ç§»å·¥å…·</li><li><code>@sodatea</code> å·²ç»å¼€å§‹ç ”ç©¶<code>CodeMods</code></li></ul><h3 id="Router"><a href="#Router" class="headerlink" title="Router"></a>Router</h3><p><img src="https://user-gold-cdn.xitu.io/2020/4/22/1719dfcab0e73db6?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="Router"></p><ul><li>ä¸‹ä¸€ä»£ Routerï¼š<code>vue-router@next</code>å·²åœ¨alphaé˜¶æ®µï¼Œæ„Ÿè°¢<code>@posva</code></li></ul><p>æœ‰éƒ¨åˆ†çš„<code>API</code>å˜åŠ¨ï¼Œå¯åˆ°<code>RFC</code>ä¸Šçœ‹ã€‚</p><h3 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h3><p><img src="https://user-gold-cdn.xitu.io/2020/4/22/1719dfed3afd961b?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="Vuex"></p><ul><li>ä¸‹ä¸€ä»£Vuexï¼šï¼Œ<code>vuex@next</code>ï¼ˆä¸Vue 3 compatç›¸åŒçš„APIï¼‰ï¼Œå·²åœ¨alphaé˜¶æ®µï¼Œæ„Ÿè°¢<code>@KiaKing</code>ã€‚</li><li>å›¢é˜Ÿæ­£åœ¨ä¸ºä¸‹ä¸€æ¬¡è¿­ä»£è¯•éªŒVuex APIçš„ç®€åŒ–</li></ul><p>ç›®å‰ä»¥å…¼å®¹Vue 3ä¸ºä¸»ï¼ŒåŸºæœ¬ä¸Šæ²¡æœ‰APIå˜åŠ¨ï¼Œè«æ…Œã€‚</p><h3 id="CLI"><a href="#CLI" class="headerlink" title="CLI"></a>CLI</h3><p><img src="https://user-gold-cdn.xitu.io/2020/4/22/1719e043616c018f?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="CLI"></p><ul><li>CLIæ’ä»¶ï¼š<code>vue-cli-plugin-vue-next</code> by <code>@sodatea</code></li><li>ï¼ˆwipï¼‰CodeModsæ”¯æŒå‡çº§Vue 2åº”ç”¨</li></ul><h3 id="æ–°å·¥å…·ï¼šviteï¼ˆæ³•è¯­-â€œå¿«â€ï¼‰"><a href="#æ–°å·¥å…·ï¼šviteï¼ˆæ³•è¯­-â€œå¿«â€ï¼‰" class="headerlink" title="æ–°å·¥å…·ï¼šviteï¼ˆæ³•è¯­ â€œå¿«â€ï¼‰"></a>æ–°å·¥å…·ï¼šviteï¼ˆæ³•è¯­ â€œå¿«â€ï¼‰</h3><p><img src="https://user-gold-cdn.xitu.io/2020/4/22/1719e0c133c3367f?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="vite"></p><p>åœ°å€ï¼š<a href="https://github.com/vuejs/vite" target="_blank" rel="noopener">github.com/vuejs/vite</a></p><p>ä¸€ä¸ªç®€æ˜“çš„httpæœåŠ¡å™¨ï¼Œæ— éœ€<code>webpack</code>ç¼–è¯‘æ‰“åŒ…ï¼Œæ ¹æ®è¯·æ±‚çš„Vueæ–‡ä»¶ï¼Œç›´æ¥å‘å›æ¸²æŸ“ï¼Œä¸”æ”¯æŒçƒ­æ›´æ–°ï¼ˆéå¸¸å¿«ï¼‰</p><h3 id="vue-test-utils"><a href="#vue-test-utils" class="headerlink" title="vue-test-utils"></a>vue-test-utils</h3><p><img src="https://user-gold-cdn.xitu.io/2020/4/22/1719e0d602d57dc6?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="vue-test-utils"></p><h3 id="DevTools"><a href="#DevTools" class="headerlink" title="DevTools"></a>DevTools</h3><p><img src="https://user-gold-cdn.xitu.io/2020/4/22/1719e0d0e479ec8b?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="devtools"></p><h3 id="IDE-Support-Vetur"><a href="#IDE-Support-Vetur" class="headerlink" title="IDE Support (Vetur)"></a>IDE Support (Vetur)</h3><p><img src="https://user-gold-cdn.xitu.io/2020/4/22/1719e12c5bfa38e3?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="IDE"></p><h3 id="Nuxt"><a href="#Nuxt" class="headerlink" title="Nuxt"></a>Nuxt</h3><p><img src="https://user-gold-cdn.xitu.io/2020/4/22/1719e15306126103?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="Nuxt"></p><h3 id="Vue-2-xè¿˜æœ‰2-7ç‰ˆæœ¬"><a href="#Vue-2-xè¿˜æœ‰2-7ç‰ˆæœ¬" class="headerlink" title="Vue 2.xè¿˜æœ‰2.7ç‰ˆæœ¬"></a>Vue 2.xè¿˜æœ‰2.7ç‰ˆæœ¬</h3><p><img src="https://user-gold-cdn.xitu.io/2020/4/22/1719e16b0eaabdd2?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="Vue 2.xè¿˜æœ‰2.7ç‰ˆæœ¬"></p><ul><li>å°†æœ‰æœ€åä¸€ä¸ªå°ç‰ˆæœ¬ï¼ˆ2.7ï¼‰</li><li>ä»Vue 3å‘åç§»æ¤å…¼å®¹çš„æ”¹è¿›(ä¸æŸåå…¼å®¹æ€§å‰æä¸‹)</li><li>åŠ ä¸Šåœ¨Vue 3ä¸­åˆ é™¤çš„åŠŸèƒ½çš„å¼ƒç”¨è­¦å‘Š</li><li>LTS1 18ä¸ªæœˆã€‚</li></ul><p><strong>æœ€åå»ºè®®ï¼šVue 3è™½å¥½ï¼Œå¦‚æœä½ çš„é¡¹ç›®å¾ˆç¨³å®šï¼Œä¸”å¯¹æ–°åŠŸèƒ½æ— è¿‡å¤šçš„è¦æ±‚æˆ–è€…è¿ç§»æˆæœ¬è¿‡é«˜ï¼Œåˆ™ä¸å»ºè®®å‡çº§ã€‚</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://juejin.im/post/5e9f6b3251882573a855cd52?utm_source=gold_browser_extension#heading-15&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;åŸæ–‡åœ°å€(https://juejin.im/post/5e9f6b3251882573a855cd52?utm_source=gold_browser_extension#heading-15)&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h1&gt;&lt;p&gt;4æœˆ21æ—¥æ™šï¼ŒVueä½œè€…å°¤é›¨æºªåœ¨å“”å“©å“”å“©ç›´æ’­åˆ†äº«äº†Vue.js 3.0 Betaæœ€æ–°è¿›å±•ã€‚ ä»¥ä¸‹æ˜¯ç›´æ’­å†…å®¹æ•´ç†&lt;/p&gt;
&lt;h2 id=&quot;å…¨æ–°æ–‡æ¡£RFCs&quot;&gt;&lt;a href=&quot;#å…¨æ–°æ–‡æ¡£RFCs&quot; class=&quot;headerlink&quot; title=&quot;å…¨æ–°æ–‡æ¡£RFCs&quot;&gt;&lt;/a&gt;å…¨æ–°æ–‡æ¡£RFCs&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;https://user-gold-cdn.xitu.io/2020/4/22/1719da838e76e8c7?imageView2/0/w/1280/h/960/format/webp/ignore-error/1&quot; alt=&quot;å…¨æ–°æ–‡æ¡£RFCs&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Vue.js 3.0 Beta&lt;/code&gt;å‘å¸ƒåçš„å·¥ä½œé‡ç‚¹æ˜¯ä¿è¯ç¨³å®šæ€§å’Œæ¨è¿›å„ç±»åº“é›†æˆ&lt;/p&gt;
&lt;p&gt;æ‰€æœ‰çš„è¿›åº¦å’Œæ–‡æ¡£éƒ½å°†åœ¨å…¨æ–°&lt;code&gt;RFCs&lt;/code&gt;æ–‡æ¡£å¯ä»¥çœ‹åˆ°ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å…­å¤§äº®ç‚¹&quot;&gt;&lt;a href=&quot;#å…­å¤§äº®ç‚¹&quot; class=&quot;headerlink&quot; title=&quot;å…­å¤§äº®ç‚¹&quot;&gt;&lt;/a&gt;å…­å¤§äº®ç‚¹&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;https://user-gold-cdn.xitu.io/2020/4/22/1719daca80f3b7c2?imageView2/0/w/1280/h/960/format/webp/ignore-error/1&quot; alt=&quot;å…­å¤§äº®ç‚¹&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Performanceï¼šæ€§èƒ½æ›´æ¯”Vue 2.0å¼ºã€‚&lt;/li&gt;
&lt;li&gt;Tree shaking supportï¼šå¯ä»¥å°†æ— ç”¨æ¨¡å—â€œå‰ªè¾‘â€ï¼Œä»…æ‰“åŒ…éœ€è¦çš„ã€‚&lt;/li&gt;
&lt;li&gt;Composition APIï¼šç»„åˆAPI&lt;/li&gt;
&lt;li&gt;Fragment, Teleport, Suspenseï¼šâ€œç¢ç‰‡â€ï¼ŒTeleportå³Protalä¼ é€é—¨ï¼Œâ€œæ‚¬å¿µâ€&lt;/li&gt;
&lt;li&gt;Better TypeScript supportï¼šæ›´ä¼˜ç§€çš„Tsæ”¯æŒ&lt;/li&gt;
&lt;li&gt;Custom Renderer APIï¼šæš´éœ²äº†è‡ªå®šä¹‰æ¸²æŸ“API&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;Performance&quot;&gt;&lt;a href=&quot;#Performance&quot; class=&quot;headerlink&quot; title=&quot;Performance&quot;&gt;&lt;/a&gt;Performance&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;https://user-gold-cdn.xitu.io/2020/4/21/1719d6747e723d03?imageView2/0/w/1280/h/960/format/webp/ignore-error/1&quot; alt=&quot;Performance&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;ol&gt;
&lt;li&gt;é‡å†™äº†è™šæ‹ŸDomçš„å®ç°ï¼ˆä¸”ä¿è¯äº†å…¼å®¹æ€§ï¼Œè„±ç¦»æ¨¡ç‰ˆçš„æ¸²æŸ“éœ€æ±‚æ—ºç››ï¼‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;ç¼–è¯‘æ¨¡æ¿çš„ä¼˜åŒ–ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;æ›´é«˜æ•ˆçš„ç»„ä»¶åˆå§‹åŒ–ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;ol start=&quot;4&quot;&gt;
&lt;li&gt;updateæ€§èƒ½æé«˜1.3~2å€ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;ol start=&quot;5&quot;&gt;
&lt;li&gt;SSRé€Ÿåº¦æé«˜äº†2~3å€ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸‹é¢æ˜¯å„é¡¹æ€§èƒ½å¯¹æ¯”&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-gold-cdn.xitu.io/2020/4/22/1719db04999e3890?imageView2/0/w/1280/h/960/format/webp/ignore-error/1&quot; alt=&quot;æ€§èƒ½å¯¹æ¯”&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;è¦ç‚¹1ï¼šç¼–è¯‘æ¨¡æ¿çš„ä¼˜åŒ–&quot;&gt;&lt;a href=&quot;#è¦ç‚¹1ï¼šç¼–è¯‘æ¨¡æ¿çš„ä¼˜åŒ–&quot; class=&quot;headerlink&quot; title=&quot;è¦ç‚¹1ï¼šç¼–è¯‘æ¨¡æ¿çš„ä¼˜åŒ–&quot;&gt;&lt;/a&gt;è¦ç‚¹1ï¼šç¼–è¯‘æ¨¡æ¿çš„ä¼˜åŒ–&lt;/h4&gt;&lt;p&gt;&lt;img src=&quot;https://user-gold-cdn.xitu.io/2020/4/22/1719e59cd0f2b668?imageView2/0/w/1280/h/960/format/webp/ignore-error/1&quot; alt=&quot;ç¼–è¯‘æ¨¡æ¿çš„ä¼˜åŒ–&quot;&gt;&lt;/p&gt;
&lt;p&gt;å‡è®¾è¦ç¼–è¯‘ä»¥ä¸‹ä»£ç &lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;&amp;lt;div&amp;gt;
  &amp;lt;span/&amp;gt;
  &amp;lt;span&amp;gt;{{ msg }}&amp;lt;/span&amp;gt;
&amp;lt;/div&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;import { createVNode as _createVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createBlock as _createBlock } from &amp;quot;vue&amp;quot;

export function render(_ctx, _cache) {
  return (_openBlock(), _createBlock(&amp;quot;div&amp;quot;, null, [
    _createVNode(&amp;quot;span&amp;quot;, null, &amp;quot;static&amp;quot;),
    _createVNode(&amp;quot;span&amp;quot;, null, _toDisplayString(_ctx.msg), 1 /* TEXT */)
  ]))
}

// Check the console for the AST
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ³¨æ„çœ‹ç¬¬äºŒä¸ª&lt;code&gt;_createVNode&lt;/code&gt;ç»“å°¾çš„â€œ1â€ï¼š&lt;/p&gt;
&lt;p&gt;Vueåœ¨è¿è¡Œæ—¶ä¼šç”Ÿæˆnumberï¼ˆå¤§äº0ï¼‰å€¼çš„&lt;code&gt;PatchFlag&lt;/code&gt;ï¼Œç”¨ä½œæ ‡è®°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-gold-cdn.xitu.io/2020/4/22/1719e69419edbc4d?imageView2/0/w/1280/h/960/format/webp/ignore-error/1&quot; alt=&quot;æ ‡è®°&quot;&gt;&lt;/p&gt;
&lt;p&gt;ä»…å¸¦æœ‰&lt;code&gt;PatchFlag&lt;/code&gt;æ ‡è®°çš„èŠ‚ç‚¹ä¼šè¢«çœŸæ­£è¿½è¸ªï¼Œä¸”æ— è®ºå±‚çº§åµŒå¥—å¤šæ·±ï¼Œå®ƒçš„åŠ¨æ€èŠ‚ç‚¹éƒ½ç›´æ¥ä¸&lt;code&gt;Block&lt;/code&gt;æ ¹èŠ‚ç‚¹ç»‘å®šï¼Œæ— éœ€å†å»éå†é™æ€èŠ‚ç‚¹&lt;/p&gt;
&lt;p&gt;å†çœ‹ä»¥ä¸‹ä¾‹å­ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-gold-cdn.xitu.io/2020/4/22/1719e6d7d3efe7f1?imageView2/0/w/1280/h/960/format/webp/ignore-error/1&quot; alt=&quot;ä¾‹å­2&quot;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;&amp;lt;div&amp;gt;
  &amp;lt;span&amp;gt;static&amp;lt;/span&amp;gt;
  &amp;lt;span :id=&amp;quot;hello&amp;quot; class=&amp;quot;bar&amp;quot;&amp;gt;{{ msg }}   &amp;lt;/span&amp;gt;
&amp;lt;/div&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;import { createVNode as _createVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createBlock as _createBlock } from &amp;quot;vue&amp;quot;

export function render(_ctx, _cache) {
  return (_openBlock(), _createBlock(&amp;quot;div&amp;quot;, null, [
    _createVNode(&amp;quot;span&amp;quot;, null, &amp;quot;static&amp;quot;),
    _createVNode(&amp;quot;span&amp;quot;, {
      id: _ctx.hello,
      class: &amp;quot;bar&amp;quot;
    }, _toDisplayString(_ctx.msg), 9 /* TEXT, PROPS */, [&amp;quot;id&amp;quot;])
  ]))
}
&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
      <category term="Vue" scheme="https://zhanghao-web.github.io/categories/Vue/"/>
    
    
      <category term="Vue3.x" scheme="https://zhanghao-web.github.io/tags/Vue3-x/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºSaaSäº§å“çš„ä¸€äº›æ€è€ƒå’Œæ€»ç»“</title>
    <link href="https://zhanghao-web.github.io/2020/04/20/%E6%9D%82%E6%96%87/%E5%85%B3%E4%BA%8ESaaS%E4%BA%A7%E5%93%81%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83%E5%92%8C%E6%80%BB%E7%BB%93/"/>
    <id>https://zhanghao-web.github.io/2020/04/20/æ‚æ–‡/å…³äºSaaSäº§å“çš„ä¸€äº›æ€è€ƒå’Œæ€»ç»“/</id>
    <published>2020-04-20T09:38:27.000Z</published>
    <updated>2020-04-20T12:30:12.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="SaaSçš„æ”¶è´¹æ¨¡å¼"><a href="#SaaSçš„æ”¶è´¹æ¨¡å¼" class="headerlink" title="SaaSçš„æ”¶è´¹æ¨¡å¼"></a>SaaSçš„æ”¶è´¹æ¨¡å¼</h1><p>é¦–å¹´æ”¶å–çš„æ˜¯å¼€æˆ·è´¹(è½¯ä»¶ç³»ç»Ÿè´¹å’Œè´¦å·è´¹ç­‰)ï¼Œä»ç¬¬äºŒå¹´å¼€å§‹æ”¶å–å¹´è´¹ï¼ŒSassè¦æä¾›æŒç»­çš„è¿è¥æœåŠ¡æ‰èƒ½å¤ŸæŒç»­æ”¶è´¹</p><h1 id="SaaSçš„è¿è¥æ¡†æ¶"><a href="#SaaSçš„è¿è¥æ¡†æ¶" class="headerlink" title="SaaSçš„è¿è¥æ¡†æ¶"></a>SaaSçš„è¿è¥æ¡†æ¶</h1><h2 id="åŸºç¡€å·¥ä½œ"><a href="#åŸºç¡€å·¥ä½œ" class="headerlink" title="åŸºç¡€å·¥ä½œ"></a>åŸºç¡€å·¥ä½œ</h2><h3 id="å¼„æ‡‚äº§å“"><a href="#å¼„æ‡‚äº§å“" class="headerlink" title="å¼„æ‡‚äº§å“"></a>å¼„æ‡‚äº§å“</h3><p>äº†è§£äº§å“ï¼Œå¯ä¸æ˜¯æ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œéšä¾¿ç©ç©ï¼Œç„¶åæå‡ ä¸ªä¼˜åŒ–å»ºè®®å°±å®Œäº‹äº†ï¼Œè¿™æ˜¯æ•·è¡ã€‚çœŸæ­£å¼„æ‡‚äº§å“ï¼Œå¯ä»¥ä»è¿™4æ–¹é¢å…¥æ‰‹ã€‚</p><p>ç¬¬ä¸€ã€äº†è§£äº§å“ç›¸å…³çš„è¡Œä¸šèƒŒæ™¯ï¼Œå¦‚è¡Œä¸šå†å²ã€ç°çŠ¶ã€æœ€æ–°åŠ¨æ€ã€‚äº†è§£äº§å“æ¶‰åŠçš„åŸºç¡€çŸ¥è¯†ï¼Œå¦‚æŠ€æœ¯åŸç†ï¼Œåœ¨è¡Œä¸šçš„ä¼˜åŠ¿ã€‚</p><p>ç¬¬äºŒã€é˜…è¯»äº§å“ç›¸å…³çš„ææ–™ï¼ŒåŒ…æ‹¬å†…éƒ¨çš„æ–‡æ¡£ã€ä»‹ç»ã€ç™½çš®ä¹¦ï¼Œå¤–éƒ¨çš„æŠ¥é“ã€æŠ€æœ¯åˆ†æç­‰ã€‚</p><p>ç¬¬ä¸‰ã€ç»å¸¸å’ŒæŠ€æœ¯ã€äº§å“ã€å®¢æœåŒå­¦äº¤æµï¼Œäº†è§£å†…éƒ¨äººå¯¹äº§å“çš„åˆ‡èº«æ„Ÿå—å’Œæƒ³æ³•ã€‚</p><p>ç¬¬å››ã€è‡ªå·±æ·±åº¦ä½“éªŒäº§å“ï¼Œå¤šé—®å‡ ä¸ªä¸ºä»€ä¹ˆã€‚ä¸ºä»€ä¹ˆè¿™ä¸ªåŠŸèƒ½æ˜¯è¿™æ ·è®¾è®¡çš„ï¼Œåœ¨ä»€ä¹ˆåœºæ™¯ä¸‹ä¸ºè°è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ</p><h3 id="å¼„æ‡‚ä¸šåŠ¡"><a href="#å¼„æ‡‚ä¸šåŠ¡" class="headerlink" title="å¼„æ‡‚ä¸šåŠ¡"></a>å¼„æ‡‚ä¸šåŠ¡</h3><p>é¦–å…ˆï¼Œè¦å¼„æ‡‚è‡ªå·±å†…éƒ¨çš„ä¸šåŠ¡ã€‚è¦æŠŠåŒäº‹å˜æˆè‡ªå·±çš„åŠ©æ‰‹ï¼Œè€Œä¸æ˜¯é˜»åŠ›ã€‚ä¸€å®šè¦ç†Ÿæ‚‰å„éƒ¨é—¨çš„åŠäº‹æµç¨‹ã€å„éƒ¨é—¨èƒ½æ”¯æŒçš„èµ„æºã€è€æ¿èƒ½æ”¯æŒçš„èµ„æºï¼Œæ´æ‚‰å’ŒæŒæ¡è¿™äº›ä¿¡æ¯ï¼Œæœ‰åˆ©äºä½ å¼€å±•å·¥ä½œï¼Œå¿«é€Ÿæ¨è¿›ã€‚</p><p>å…¶æ¬¡ï¼Œè¦äº†è§£å®¢æˆ·çš„ä¸šåŠ¡ã€‚ä»–ä»¬çš„ä¸šåŠ¡æ˜¯æ€ä¹ˆè¿ä½œçš„ï¼Œæ¯ä¸ªäººæ˜¯å¦‚ä½•åˆ†å·¥é…åˆçš„ï¼Œé‡åˆ°çš„é—®é¢˜æ˜¯ä»€ä¹ˆã€‚å¼„æ‡‚å®¢æˆ·çš„ä¸šåŠ¡ï¼Œæ‰èƒ½æ›´å¥½çš„åŒ¹é…å®¢æˆ·éœ€æ±‚ï¼Œä¸ç„¶æ°¸è¿œæ˜¯é—¨å¤–æ±‰ã€‚</p><h3 id="å¼„æ‡‚ç”¨æˆ·è·¯å¾„"><a href="#å¼„æ‡‚ç”¨æˆ·è·¯å¾„" class="headerlink" title="å¼„æ‡‚ç”¨æˆ·è·¯å¾„"></a>å¼„æ‡‚ç”¨æˆ·è·¯å¾„</h3><p>ç”¨æˆ·æ˜¯æ€ä¹ˆè®¤è¯†ä½ ï¼Œä¸ºä»€ä¹ˆé€‰æ‹©äº†ä½ ï¼Œæœ€ååˆæ˜¯æ€ä¹ˆæµå¤±çš„ï¼Ÿå¦‚æœä½ èƒ½å¼„æ‡‚ç”¨æˆ·è·¯å¾„ï¼Œé‚£ä¹ˆå°±çŸ¥é“æ¯ä¸ªç¯èŠ‚åº”è¯¥åšä»€ä¹ˆï¼Œå¼ å¼›æœ‰åº¦ï¼Œæ•´ä½“çš„è¿è¥å·¥ä½œå¼€å±•å°±ä¼šå¾ˆé¡ºåˆ©ã€‚è¿™ä¸€ç‚¹éå¸¸é‡è¦ï¼Œå¾ˆå¤šäººå°±æ˜¯æ²¡ææ‡‚ç”¨æˆ·è·¯å¾„ï¼Œä¸çŸ¥é“å·¥ä½œä»å“ªç€æ‰‹ï¼Œæƒ³åˆ°ä¸€ç‚¹å°±åšä¸€ç‚¹ï¼Œå®Œå…¨æ²¡æœ‰ç« æ³•ï¼Œå·¥ä½œè‡ªç„¶éš¾å‡ºæˆç»©ã€‚</p><h1 id="SaaSçš„æ ¸å¿ƒç»„ä»¶"><a href="#SaaSçš„æ ¸å¿ƒç»„ä»¶" class="headerlink" title="SaaSçš„æ ¸å¿ƒç»„ä»¶"></a>SaaSçš„æ ¸å¿ƒç»„ä»¶</h1><h2 id="å®‰å…¨ç»„ä»¶ï¼ˆä¿æŠ¤ç”¨æˆ·æ•°æ®ï¼‰"><a href="#å®‰å…¨ç»„ä»¶ï¼ˆä¿æŠ¤ç”¨æˆ·æ•°æ®ï¼‰" class="headerlink" title="å®‰å…¨ç»„ä»¶ï¼ˆä¿æŠ¤ç”¨æˆ·æ•°æ®ï¼‰"></a>å®‰å…¨ç»„ä»¶ï¼ˆä¿æŠ¤ç”¨æˆ·æ•°æ®ï¼‰</h2><h2 id="æ•°æ®éš”ç¦»ç»„ä»¶"><a href="#æ•°æ®éš”ç¦»ç»„ä»¶" class="headerlink" title="æ•°æ®éš”ç¦»ç»„ä»¶"></a>æ•°æ®éš”ç¦»ç»„ä»¶</h2><h2 id="å¯é…ç½®ç»„ä»¶"><a href="#å¯é…ç½®ç»„ä»¶" class="headerlink" title="å¯é…ç½®ç»„ä»¶"></a>å¯é…ç½®ç»„ä»¶</h2><h2 id="å¯æ‰©å±•ç»„ä»¶"><a href="#å¯æ‰©å±•ç»„ä»¶" class="headerlink" title="å¯æ‰©å±•ç»„ä»¶"></a>å¯æ‰©å±•ç»„ä»¶</h2><h2 id="0åœæœºæ—¶é—´å‡çº§ç»´æŠ¤äº§å“"><a href="#0åœæœºæ—¶é—´å‡çº§ç»´æŠ¤äº§å“" class="headerlink" title="0åœæœºæ—¶é—´å‡çº§ç»´æŠ¤äº§å“"></a>0åœæœºæ—¶é—´å‡çº§ç»´æŠ¤äº§å“</h2><h2 id="å¤šç§Ÿæˆ·ç»„ä»¶"><a href="#å¤šç§Ÿæˆ·ç»„ä»¶" class="headerlink" title="å¤šç§Ÿæˆ·ç»„ä»¶"></a>å¤šç§Ÿæˆ·ç»„ä»¶</h2><h1 id="SaaSå¤šç§Ÿæˆ·ä¸‹çš„æ•°æ®æ¨¡å‹åˆ†æ"><a href="#SaaSå¤šç§Ÿæˆ·ä¸‹çš„æ•°æ®æ¨¡å‹åˆ†æ" class="headerlink" title="SaaSå¤šç§Ÿæˆ·ä¸‹çš„æ•°æ®æ¨¡å‹åˆ†æ"></a>SaaSå¤šç§Ÿæˆ·ä¸‹çš„æ•°æ®æ¨¡å‹åˆ†æ</h1><h2 id="æ•°æ®å­˜å‚¨æ¶æ„"><a href="#æ•°æ®å­˜å‚¨æ¶æ„" class="headerlink" title="æ•°æ®å­˜å‚¨æ¶æ„"></a>æ•°æ®å­˜å‚¨æ¶æ„</h2><p>ç°æœ‰çš„å¤šç§Ÿæˆ·ç”¨æˆ·æ•°æ®å­˜å‚¨ä¸»è¦åˆ†ä¸ºä¸‰ç§æ–¹å¼ï¼š</p><ul><li>ç‹¬ç«‹æ•°æ®åº“</li><li>å…±äº«æ•°æ®åº“ä½†éš”ç¦»æ•°æ®</li><li>å…±äº«æ•°æ®åº“ä¸”å…±äº«æ•°æ®</li></ul><h2 id="æ€»ä½“ä¸šåŠ¡æ¶æ„"><a href="#æ€»ä½“ä¸šåŠ¡æ¶æ„" class="headerlink" title="æ€»ä½“ä¸šåŠ¡æ¶æ„"></a>æ€»ä½“ä¸šåŠ¡æ¶æ„</h2><p>SaaSå¹³å°çš„ç”¨æˆ·ç®¡ç†ç³»ç»Ÿä¸»è¦æ˜¯ç»Ÿä¸€ç®¡ç†ç”¨æˆ·ä¿¡æ¯ï¼Œç”¨æˆ·é€šè¿‡SaaSå¹³å°ç»Ÿä¸€æ³¨å†Œã€ç™»å½•åï¼Œèƒ½å¤Ÿè¯•ç”¨ã€é‡‡è´­å„ä¼ä¸šåº”ç”¨ï¼Œå®ç°å„ä¸ªç¬¬ä¸‰æ–¹ä¼ä¸šåº”ç”¨çš„é›†æˆ</p><p>ä»åŠŸèƒ½ç»“æ„ä¸Šå¤§è‡´å¯ä»¥åˆ†æˆ4ä¸ªä¸šåŠ¡åŸŸï¼šç§Ÿæˆ·åŸŸã€ç§Ÿæˆ·ç®¡ç†åŸŸã€ç”¨æˆ·åŸŸã€ç”¨æˆ·æƒé™åŸŸç­‰ï¼›</p><ul><li>ç§Ÿæˆ·åŸŸï¼šä¸»è¦æè¿°ç§Ÿæˆ·çš„åŸºæœ¬ä¿¡æ¯ï¼Œä»¥åŠç§Ÿæˆ·çš„ç»„ç»‡ç»“æ„ã€ç§Ÿæˆ·çš„ç”¨æˆ·æˆå‘˜ï¼ˆæˆå‘˜èŒä½ï¼‰ç­‰ä¿¡æ¯ï¼›</li><li>ç§Ÿæˆ·ç®¡ç†åŸŸï¼šä¸»è¦æè¿°ç§Ÿæˆ·å¤šçº§ç®¡ç†å‘˜è¯¦æƒ…ï¼Œä»¥åŠç®¡ç†å‘˜å¯¹åº”ç®¡ç†çš„ä¼ä¸šåº”ç”¨æƒé™ã€æ•°æ®èŒƒå›´æƒé™ï¼›</li><li>ç”¨æˆ·åŸŸï¼šä¸»è¦æè¿°ç”¨æˆ·åŸºæœ¬ä¿¡æ¯ï¼Œç”¨æˆ·ç™»å½•è´¦å·ã€å®åè®¤è¯ã€ç™»å½•çš„ç¬¬ä¸‰æ–¹è´¦å·ç»‘å®šç­‰ä¿¡æ¯ï¼›</li><li>ç”¨æˆ·æƒé™åŸŸï¼šä¸»è¦æè¿°ç”¨æˆ·èƒ½å¤Ÿä½¿ç”¨çš„ä¼ä¸šåº”ç”¨ä»¥åŠæ•°æ®èŒƒå›´çš„æƒé™ä¿¡æ¯ï¼›</li></ul><p><img src="https://img-blog.csdn.net/20180622144116115?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2hvdF9zdW1tZXJ5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="å¤šç§Ÿæˆ·æ¨¡å‹å›¾"><br><img src="https://img-blog.csdnimg.cn/20200404205531179.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0hvdGljZTg4OA==,size_16,color_FFFFFF,t_70" alt="åˆ†æä»‹ç»"></p><h1 id="æˆç†ŸSaaSäº§å“çš„4ä¸ªæ ‡å¿—"><a href="#æˆç†ŸSaaSäº§å“çš„4ä¸ªæ ‡å¿—" class="headerlink" title="æˆç†ŸSaaSäº§å“çš„4ä¸ªæ ‡å¿—"></a>æˆç†ŸSaaSäº§å“çš„4ä¸ªæ ‡å¿—</h1><p>æˆç†Ÿå¯ç”¨æ˜¯ä¼ä¸šé€‰æ‹©SaaSäº§å“çš„æœ€é‡è¦æ ‡å‡†ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬è¡Œä¸šä¸ºä»€ä¹ˆè¦åšæŒæ½œè¡Œç›¸å½“é•¿æ—¶é—´çš„åŸå› ã€‚ä¼ä¸šå¢ƒå†µè¯´æ˜¯é æ—¶é—´ç†¬å‡ºæ¥çš„ï¼Œæ›´å‡†ç¡®åœ°è¯´æ˜¯é äº§å“çš„æˆç†ŸåŒ–ç†¬å‡ºæ¥çš„ã€‚æˆç†Ÿçš„SaaSæœå®ä¸€å¦‚è¤šæ©™èˆ¬ç”œèœœã€‚</p><p>é‚£ä¹ˆå¦‚ä½•åˆ¤æ–­ä¸€ä¸ªäº§å“æ˜¯å·²ç»æˆç†Ÿçš„ï¼Ÿ</p><h2 id="ç¨³å®šçš„å•†ä¸šæ¨¡å¼ï¼Œç»„åˆ†å¸‚åœºå’Œé¡¾å®¢åˆ†å±‚"><a href="#ç¨³å®šçš„å•†ä¸šæ¨¡å¼ï¼Œç»„åˆ†å¸‚åœºå’Œé¡¾å®¢åˆ†å±‚" class="headerlink" title="ç¨³å®šçš„å•†ä¸šæ¨¡å¼ï¼Œç»„åˆ†å¸‚åœºå’Œé¡¾å®¢åˆ†å±‚"></a>ç¨³å®šçš„å•†ä¸šæ¨¡å¼ï¼Œç»„åˆ†å¸‚åœºå’Œé¡¾å®¢åˆ†å±‚</h2><p>å½“ä¸€ä¸ªå•†ä¸šæ¨¡å¼å’Œå¯¹åº”çš„ä»·æ ¼æ°´å¹³èƒ½å¤Ÿç¨³å®šä¸€åˆ°ä¸¤å¹´ï¼Œæ„Ÿè§‰å·²ç»æ²¡æœ‰å¤§å¹…ä¿®è®¢çš„å¿…è¦æ—¶ï¼ŒSaaSäº§å“åœ¨å•†ä¸šæ¨¡å¼ä¸Šæ‰ç®—ç¨³å®šä¸‹æ¥ï¼Œå®ƒæ˜¯å¯¹äº§å“æˆç†Ÿåº¦çš„ç¬¬ä¸€å¤§è´¡çŒ®ã€‚</p><h2 id="äº§å“æŠ•å°„äº†ä¸“ä¸šå’Œè¡Œä¸šçš„æœ€ä½³å®è·µ"><a href="#äº§å“æŠ•å°„äº†ä¸“ä¸šå’Œè¡Œä¸šçš„æœ€ä½³å®è·µ" class="headerlink" title="äº§å“æŠ•å°„äº†ä¸“ä¸šå’Œè¡Œä¸šçš„æœ€ä½³å®è·µ"></a>äº§å“æŠ•å°„äº†ä¸“ä¸šå’Œè¡Œä¸šçš„æœ€ä½³å®è·µ</h2><p>ä¸€ä¸ªæˆç†Ÿçš„CRMåº”ç”¨å¿…ç„¶éœ€è¦å°†é”€å”®ç®¡ç†æ–¹æ³•ã€æµç¨‹å’Œå·¥å…·å†…ç½®åœ¨äº§å“ä¸­ï¼Œå®ƒä¸ä»…éœ€è¦æä¾›ä¸€ä¸ªç¨‹åºï¼Œè¿˜éœ€è¦æä¾›ä¸€ä¸ªä½¿ç”¨ç¨‹åºçš„ç¨‹åºã€‚</p><h2 id="å¥å…¨çš„ç”¨æˆ·å…¥åœºååŠ©"><a href="#å¥å…¨çš„ç”¨æˆ·å…¥åœºååŠ©" class="headerlink" title="å¥å…¨çš„ç”¨æˆ·å…¥åœºååŠ©"></a>å¥å…¨çš„ç”¨æˆ·å…¥åœºååŠ©</h2><p>ä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹ï¼ŒSaaSäº§å“éœ€è¦é¦–å…ˆæ‹¥æœ‰å®Œå–„çš„å›¢é˜Ÿè´¦æˆ·æ¶æ„ï¼Œèƒ½å¤Ÿæ”¯æŒæ¯ä¸ªä¸ªä½“ç”¨æˆ·ä½¿ç”¨å®åè´¦æˆ·ï¼Œè¢«åˆå§‹ç®¡ç†å‘˜æˆäºˆåˆé€‚çš„æƒé™ï¼Œå¦‚æœæœ‰å¤šä¸ªå›¢é˜Ÿï¼Œè¿˜å¯èƒ½éœ€è¦å›¢é˜Ÿç®¡ç†å‘˜è¿™ä¸ªè§’è‰²æ¥å‡è½»å¤§ç®¡å®¶çš„å‹åŠ›ã€‚ä¸ºäº†åŠ å…¥æ–°æˆå‘˜ï¼Œè°ƒæ•´æˆå‘˜å’Œåˆ†ç»„çš„è¿‡ç¨‹å¿…é¡»è¶³å¤Ÿæ¸…æ™°å’Œç®€å•ï¼Œè®©å®¢æˆ·æœ‰åŠ¨åŠ›æ¥ç»´æŒè¿™ä¸ªç”¨æˆ·ç³»ç»Ÿã€‚ç›¸åï¼Œå¦‚æœæˆ‘ä»¬åœ¨è¿™ä¸ªé—®é¢˜ä¸Šå¿½è§†ï¼Œèƒ¡ä¹±åœ°åˆ†é…ä¸€äº›001ï¼Œ002å·¥å·å‡ºå»ï¼Œç”šè‡³å…è®¸ç”¨æˆ·åˆç”¨è´¦å·ï¼Œé‚£å®¢æˆ·æ€»æ˜¯ä¼šèµ°åˆ°æ··ä¹±å¤±åºçš„é‚£ä¸€å¤©ï¼Œè·ç¦»å®¢æˆ·æµå¤±ä¹Ÿå°±ä¸è¿œäº†ã€‚</p><p>ä»…ä»…æœ‰äº†ç§‘å­¦å®Œå–„çš„è´¦æˆ·ç»“æ„ä½“ç³»è¿˜ä¸å¤Ÿï¼Œæˆ‘ä»¬è¿˜è¦å¸®åŠ©ä¼ä¸šç©¿é’ˆå¼•çº¿ï¼Œè®©å¤šæˆå‘˜è¿›å…¥è¿™ä¸ªç³»ç»Ÿéå¸¸ç®€å•å’Œè½»æ¾ã€‚æ¯”å¦‚ä¸€ä¸ªBIåº”ç”¨ï¼Œåœ¨é…ç½®å¤–éƒ¨æ•°æ®æºçš„æ—¶å€™ï¼Œéœ€è¦ç”¨æˆ·æ·»åŠ Google Analyticsçš„Profileï¼Œé—®é¢˜æ˜¯æŒæ¡è¿™ä¸ªä¿¡æ¯çš„äººå¯èƒ½ä¸æ˜¯ç®¡ç†å‘˜æœ¬äººï¼Œä»–å¯èƒ½éœ€è¦åŒäº‹çš„å¸®å¿™æ‰èƒ½å®Œæˆè¿™ä¸ªé…ç½®ï¼Œè¿™æ—¶å€™è½¯ä»¶å¯èƒ½éœ€è¦ç›´æ¥å°†é‚€è¯·æˆå‘˜å®Œæˆä¸€ä¸ªé…ç½®ä½œä¸ºä¸€ä¸ªç”¨ä¾‹æ¥å¯¹å¾…ï¼Œè®¾è®¡å‡ºä¸“é—¨çš„äº¤äº’ç•Œé¢ã€‚</p><p>æœ‰ä¸€æ¬¡åœ¨æœºåœºé¡¿æ‚Ÿï¼Œæ˜‚è´µçš„æœºåœºè®¾æ–½å’Œå‡ ä¹æ‰€æœ‰çš„æœºåœºåœ°å‹¤äººå‘˜å…¶å®åªä¸ºä¸€ä¸ªäº‹æƒ…ï¼Œè®©ä¹˜å®¢ç™»ä¸Šé£æœºã€‚è€Œæˆ‘ä»¬å»æœºåœºï¼Œå…¶å®æ˜¯ä¸ºäº†åé£æœºæ—…è¡Œï¼Œæˆ‘ä»¬ä¸ä¸€å®šæ„è¯†åˆ°onboardingçš„è¿‡ç¨‹è¿™ä¹ˆé‡è¦å’Œæ˜‚è´µã€‚</p><p>å½“ä¸€ä¸ªSaaSäº§å“æ„è¯†åˆ°è¿™ä¸€ç‚¹ï¼ŒæŠŠå¸®åŠ©ç”¨æˆ·ä¸Šèˆ¹ï¼Œä¸Šé£æœºä½œä¸ºä¸€ä¸ªå¤§å‹é¡¹ç›®æ¥çœ‹å¾…ï¼Œå®ƒè·ç¦»æˆç†Ÿå°±ä¸è¿œäº†ã€‚</p><h2 id="æ”¯æŒå¤–éƒ¨æ•°æ®æ•´åˆçš„å¼€æ”¾æ€§"><a href="#æ”¯æŒå¤–éƒ¨æ•°æ®æ•´åˆçš„å¼€æ”¾æ€§" class="headerlink" title="æ”¯æŒå¤–éƒ¨æ•°æ®æ•´åˆçš„å¼€æ”¾æ€§"></a>æ”¯æŒå¤–éƒ¨æ•°æ®æ•´åˆçš„å¼€æ”¾æ€§</h2><p>æœ€åä¸€ç‚¹ï¼Œæˆç†Ÿçš„SaaSäº§å“å¿…ç„¶è€ƒè™‘å¼€æ”¾æ€§ï¼Œå¦‚æœæ²¡æœ‰APIï¼Œå‡ ä¹å°±ä¸å¯èƒ½æˆä¸ºä¸€ä¸ªé•¿æœŸå­˜åœ¨çš„SaaSäº§å“</p><p>ä¸€ä¸ªæ ‡å‡†åŒ–çš„SaaSè½¯ä»¶å¯èƒ½å¢å¼ºåˆ°ç‰¹æ€§ä¸°å¯Œï¼Œç»„ç»‡æœ‰åºçš„è‰¯å¥½çŠ¶æ€ï¼Œä½†æ˜¯å®ƒç»æ— å¯èƒ½æä¾›ç”¨æˆ·æ‰€è¦çš„æ‰€æœ‰åŠŸèƒ½ï¼Œä¼ä¸šç”¨æˆ·ç»“åˆä½¿ç”¨å¤šä¸ªäº§å“å·¥å…·è§£å†³ä¸šåŠ¡é—®é¢˜æ˜¯ä¸€ä¸ªå¸¸æ€ã€‚æœ‰äº†ä¸°å¯Œçš„ç¼–ç¨‹æ¥å£ï¼Œè‡³å°‘è®©ç”¨æˆ·æœ‰æœºä¼šèƒ½å¤Ÿé€šè¿‡å˜é€šçš„åŠæ³•æ¥å®ç°ä»–ä¹‹æ‰€æƒ³ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;SaaSçš„æ”¶è´¹æ¨¡å¼&quot;&gt;&lt;a href=&quot;#SaaSçš„æ”¶è´¹æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot;SaaSçš„æ”¶è´¹æ¨¡å¼&quot;&gt;&lt;/a&gt;SaaSçš„æ”¶è´¹æ¨¡å¼&lt;/h1&gt;&lt;p&gt;é¦–å¹´æ”¶å–çš„æ˜¯å¼€æˆ·è´¹(è½¯ä»¶ç³»ç»Ÿè´¹å’Œè´¦å·è´¹ç­‰)ï¼Œä»ç¬¬äºŒå¹´å¼€å§‹æ”¶å–å¹´è´¹ï¼ŒSassè¦æä¾›æŒç»­
      
    
    </summary>
    
      <category term="æ‚æ–‡" scheme="https://zhanghao-web.github.io/categories/%E6%9D%82%E6%96%87/"/>
    
    
      <category term="æ‚æ–‡" scheme="https://zhanghao-web.github.io/tags/%E6%9D%82%E6%96%87/"/>
    
  </entry>
  
  <entry>
    <title>&lt;æ·±å…¥ç†è§£TypeScriptè¯»ä¹¦ç¬”è®°&gt;ï¼ˆä¸€ï¼‰</title>
    <link href="https://zhanghao-web.github.io/2020/04/19/Ts/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3TypeScript%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
    <id>https://zhanghao-web.github.io/2020/04/19/Ts/æ·±å…¥ç†è§£TypeScriptè¯»ä¹¦ç¬”è®°ï¼ˆäºŒï¼‰/</id>
    <published>2020-04-19T08:18:50.000Z</published>
    <updated>2020-04-19T08:18:52.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="TypeScriptç±»å‹ç³»ç»Ÿ"><a href="#TypeScriptç±»å‹ç³»ç»Ÿ" class="headerlink" title="TypeScriptç±»å‹ç³»ç»Ÿ"></a>TypeScriptç±»å‹ç³»ç»Ÿ</h1><h2 id="types"><a href="#types" class="headerlink" title="@types"></a>@types</h2><h3 id="å…¨å±€-types"><a href="#å…¨å±€-types" class="headerlink" title="å…¨å±€@types"></a>å…¨å±€@types</h3><p>@types æ”¯æŒå…¨å±€å’Œæ¨¡å—ç±»å‹å®šä¹‰</p><pre><code class="js">npm install @type/jquery --save-dev</code></pre><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒTypeScript ä¼šè‡ªåŠ¨åŒ…å«æ”¯æŒå…¨å±€ä½¿ç”¨çš„ä»»ä½•å£°æ˜å®šä¹‰</p><h3 id="å±€éƒ¨-types"><a href="#å±€éƒ¨-types" class="headerlink" title="å±€éƒ¨@types"></a>å±€éƒ¨@types</h3><p>å®‰è£…å®Œæˆåä¸éœ€è¦åšç‰¹åˆ«é…ç½®ï¼Œåªè¦æƒ³ä½¿ç”¨æ¨¡å—ä¸€æ ·ä½¿ç”¨å®ƒä¸€æ ·</p><pre><code class="js">import * as $ from &#39;jquery&#39;</code></pre><p>å¯ä»¥åœ¨<code>typeconfig.json</code>ä¸­å¯ä»¥é…ç½®æœ‰æ„ä¹‰çš„ç±»å‹</p><pre><code class="js">{    compilerOptions{        &quot;type&quot; :[            &quot;jquery&quot;        ]    }}</code></pre><h2 id="å£°æ˜æ–‡ä»¶"><a href="#å£°æ˜æ–‡ä»¶" class="headerlink" title="å£°æ˜æ–‡ä»¶"></a>å£°æ˜æ–‡ä»¶</h2><p>å¯ä»¥ä½¿ç”¨<code>declear</code>å…³é”®å­—æ¥å‘Šè¯‰typescriptï¼Œä½ è¯•å›¾è¡¨è¯‰ä¸€ä¸ªå…¶ä»–åœ°æ–¹å·²ç»å­˜åœ¨çš„ä»£ç </p><pre><code class="ts">foo = 123declear var foo:anyfoo = 123</code></pre><p>åœ¨å®é™…é¡¹ç›®å¯ä»¥æ–°å»ºä¸€ä¸ª<code>global.d.ts</code>æ–‡ä»¶æ¥æŠŠè¿™äº›å£°æ˜æ”¾åˆ°é‡Œé¢</p><h2 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h2><p>æ¥å£è¿è¡Œæ—¶çš„å½±å“ä¸º0.æœ‰å¤šç§æ–¹å¼å¯ä»¥å£°æ˜å˜é‡çš„ç»“æ„</p><pre><code class="js">//ç­‰æ•ˆå£°æ˜//å†…è”æ³¨è§£declear const myPoint = {x:number,y:number}//æ¥å£å®ç°  interface myPoint{    x: number,    y: number}</code></pre><h3 id="ç±»æ¥å®ç°æ¥å£"><a href="#ç±»æ¥å®ç°æ¥å£" class="headerlink" title="ç±»æ¥å®ç°æ¥å£"></a>ç±»æ¥å®ç°æ¥å£</h3><pre><code class="js">interface myPoint{    x: string,    y: string}class point implements myPoint{    x: string,    y: string}</code></pre><p><strong>æ³¨æ„ï¼šå¹¶éæ¯ä¸ªæ¥å£éƒ½å®¹æ˜“å®ç°</strong></p><pre><code class="js">interface Crazy{    new() {        value: number    }}class CrazyClass implements Crazy{    constructor(){        return {            value: 123        }    }}const crazy = new CrazyClass()</code></pre><h2 id="æšä¸¾"><a href="#æšä¸¾" class="headerlink" title="æšä¸¾"></a>æšä¸¾</h2><p>æšä¸¾æ˜¯æ”¶é›†æœ‰å…³è¿å˜é‡çš„ä¸€ç§æ–¹å¼, ä½œç”¨å°±æ˜¯ç®¡ç†å¸¸é‡ï¼Œè®©å¸¸é‡æ›´è§„èŒƒç»Ÿä¸€</p><h3 id="æ•°å­—æšä¸¾"><a href="#æ•°å­—æšä¸¾" class="headerlink" title="æ•°å­—æšä¸¾"></a>æ•°å­—æšä¸¾</h3><pre><code class="js">enum CradSuit{    Clubs,    Diamonds,    Hearts,    Spades}let clubs = CradSuot.Clubs</code></pre><h3 id="å­—ç¬¦ä¸²æšä¸¾"><a href="#å­—ç¬¦ä¸²æšä¸¾" class="headerlink" title="å­—ç¬¦ä¸²æšä¸¾"></a>å­—ç¬¦ä¸²æšä¸¾</h3><pre><code class="js">enum CradSuit{    Clubs,    Diamonds,    Hearts,    Spades}console.log(CardSuit.Clubs[0]) // &#39;Clubs&#39;console.log(CardSuit.[&#39;Diamonds&#39;]) // 0</code></pre><p>æ”¹å˜ä¸æšä¸¾å…³è”çš„æ•°å­—</p><pre><code class="js">enum CradSuit{    Clubs , // 0    Diamonds, // 1    Hearts, // 2    Spades // 3}enum CradSuit{    Clubs  = 3, // 3    Diamonds, // 4    Hearts, // 5    Spades // 6</code></pre><h3 id="å¸¸é‡æšä¸¾"><a href="#å¸¸é‡æšä¸¾" class="headerlink" title="å¸¸é‡æšä¸¾"></a>å¸¸é‡æšä¸¾</h3><pre><code class="js">enum Fruit {    Apple,    banner,    orange}console.log(Fruit.orange) // 2</code></pre><h4 id="é™æ€æ–¹æ³•çš„æšä¸¾"><a href="#é™æ€æ–¹æ³•çš„æšä¸¾" class="headerlink" title="é™æ€æ–¹æ³•çš„æšä¸¾"></a>é™æ€æ–¹æ³•çš„æšä¸¾</h4><pre><code class="js">enum Weekday{    Monday,    Tuesday,    Wednesday,    Thursday,    Friday,    Saturday    Sunday}namesapce Weekday{    export function isBusinessDay(weekday: Weekday){        switch(weekday){            case Weekday.Saturday:        case Weekday.Sunday:            return false;        default:            return true;        }    }}const mon = Weekday.Monday;const sun = Weekday.Sunday;console.log(Weekday.isBusinessDay(mon)); // trueconsole.log(Weekday.isBusinessDay(sun));</code></pre><h2 id="lib-d-ts"><a href="#lib-d-ts" class="headerlink" title="lib.d.ts"></a>lib.d.ts</h2><p>å®‰è£…typescriptçš„æ—¶å€™ä¼šæœ‰é™„å¸¦ä¸€ä¸ª<code>lib.d.ts</code>çš„æ–‡ä»¶ï¼Œé‡Œé¢çš„å†…å®¹å®šä¹‰äº†(window,document,mathï¼Œdata,string)çš„å˜é‡å£°æ˜</p><h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><p>å¯ç»„åˆç³»ç»Ÿçš„æ ¸å¿ƒæ„å»ºå—</p><h3 id="è¿”å›å‡½æ•°ç±»å‹æ³¨è§£"><a href="#è¿”å›å‡½æ•°ç±»å‹æ³¨è§£" class="headerlink" title="è¿”å›å‡½æ•°ç±»å‹æ³¨è§£"></a>è¿”å›å‡½æ•°ç±»å‹æ³¨è§£</h3><pre><code class="js">interface Foo {    foo: string}function foo(sameple: foo) :foo{    console.log(foo)}</code></pre><h3 id="å¯é€‰å‚æ•°åŠé»˜è®¤å‚æ•°å€¼å±æ€§"><a href="#å¯é€‰å‚æ•°åŠé»˜è®¤å‚æ•°å€¼å±æ€§" class="headerlink" title="å¯é€‰å‚æ•°åŠé»˜è®¤å‚æ•°å€¼å±æ€§"></a>å¯é€‰å‚æ•°åŠé»˜è®¤å‚æ•°å€¼å±æ€§</h3><pre><code class="js">function person(speak:string =&quot;hello world&quot;,age?:number){    console.log(speak,age)}person(&#39;ä½ å¥½&#39;)person(...12)</code></pre><h3 id="å‡½æ•°é‡è½½"><a href="#å‡½æ•°é‡è½½" class="headerlink" title="å‡½æ•°é‡è½½"></a>å‡½æ•°é‡è½½</h3><pre><code class="js">function addOne(a:number,y?:number,z?:number,x?:number){    if(x === undefined &amp;&amp; y === undefined &amp;&amp; z === undefined){        x = y = z = a    }else if( y === undefined &amp;&amp; z === undefined ){        z = a         x = y    }    return {        top: a,        left: x,        right: y,        bottom: z    }}addOne(1)addOne(1,1,1,1)</code></pre><h3 id="å‡½æ•°å£°æ˜"><a href="#å‡½æ•°å£°æ˜" class="headerlink" title="å‡½æ•°å£°æ˜"></a>å‡½æ•°å£°æ˜</h3><pre><code class="js">type londHand = {    (a:number) : number}type ShortHand = (a:number) =&gt;{number}</code></pre><h2 id="å¯è°ƒç”¨çš„"><a href="#å¯è°ƒç”¨çš„" class="headerlink" title="å¯è°ƒç”¨çš„"></a>å¯è°ƒç”¨çš„</h2><pre><code class="js">interface Complex {    (foo:string,age?:number,...other,boolean[]):number}</code></pre><h2 id="ç±»å‹æ–­è¨€"><a href="#ç±»å‹æ–­è¨€" class="headerlink" title="ç±»å‹æ–­è¨€"></a>ç±»å‹æ–­è¨€</h2><p>TypeScript å…è®¸ä½ è¦†ç›–å®ƒçš„æ¨æ–­ï¼Œå¹¶ä¸”èƒ½ä»¥ä½ ä»»ä½•ä½ æƒ³è¦çš„æ–¹å¼åˆ†æå®ƒï¼Œè¿™ç§æœºåˆ¶è¢«ç§°ä¸ºã€Œç±»å‹æ–­è¨€ã€</p><p><code>as foo ä¸ &lt;foo&gt;</code></p><p><code>&lt;foo&gt;</code>å¯èƒ½ä¼šä¸jsxä¸­å†²çªï¼Œæ¨èä½¿ç”¨<code>as foo</code></p><h3 id="åŒé‡æ–­è¨€"><a href="#åŒé‡æ–­è¨€" class="headerlink" title="åŒé‡æ–­è¨€"></a>åŒé‡æ–­è¨€</h3><pre><code class="js">function handle(event:Event){    console.log(element = (event as any) as HTMLElement)}</code></pre><h2 id="Freshness"><a href="#Freshness" class="headerlink" title="Freshness"></a>Freshness</h2><p>ä¸ºäº†èƒ½è®©æ£€æŸ¥å¯¹è±¡å­—é¢é‡ç±»å‹æ›´å®¹æ˜“ï¼Œæä¾›Freshnessæ›´ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥</p><h2 id="ç±»å‹ä¿æŠ¤"><a href="#ç±»å‹ä¿æŠ¤" class="headerlink" title="ç±»å‹ä¿æŠ¤"></a>ç±»å‹ä¿æŠ¤</h2><p>ä½ å¯ä»¥ä½¿ç”¨æ›´å°èŒƒå›´çš„å¯¹è±¡ç±»å‹</p><p><code>typeof</code> <code>instanceof</code></p><h2 id="å­—é¢é‡ç±»å‹"><a href="#å­—é¢é‡ç±»å‹" class="headerlink" title="å­—é¢é‡ç±»å‹"></a>å­—é¢é‡ç±»å‹</h2><p>ä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå‡†å¤‡çš„ç±»å‹æ¥å®šä¹‰ä¸€ä¸ªå¯¹è±¡</p><h2 id="readOnly"><a href="#readOnly" class="headerlink" title="readOnly"></a>readOnly</h2><p>å¦‚å­—é¢æ„æ€ä¸€æ ·ï¼Œæ˜¯åªè¯»çš„ï¼Œä¸èƒ½éšä¾¿æ›´æ”¹çš„ï¼Œæ˜¯ä¸€ç§æ›´å®‰å…¨çš„æ–¹å¼</p><pre><code class="js">type Foo = {  readonly bar: number;  readonly bas: number;};// åˆå§‹åŒ–const foo: Foo = { bar: 123, bas: 456 };// ä¸èƒ½è¢«æ”¹å˜foo.bar = 456; // Error: foo.bar ä¸ºä»…è¯»å±æ€§</code></pre><h3 id="ä¸constä¸åŒ"><a href="#ä¸constä¸åŒ" class="headerlink" title="ä¸constä¸åŒ"></a>ä¸constä¸åŒ</h3><ul><li>const ç”¨äºå˜é‡ï¼Œå˜é‡ä¸èƒ½é‡æ–°èµ‹ç»™å…¶ä»–ä»»ä½•äº‹ç‰©</li><li>readOnly ç”¨äºå±æ€§ï¼Œç”¨äºåˆ«åå¯ä»¥ä¿®æ”¹å±æ€§</li></ul><h2 id="æ³›å‹"><a href="#æ³›å‹" class="headerlink" title="æ³›å‹"></a>æ³›å‹</h2><p>ä»–çš„ç”¨é€”å°±æ˜¯åœ¨ä½ ä¸ç¡®å®šè¦ç©¿çš„å€¼çš„å±æ€§æ—¶ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨æ³›å‹å»ç¡®å®š<br>åœ¨æˆå‘˜ä¹‹é—´æä¾›æœ‰æ„ä¹‰çš„çº¦æŸï¼Œè¿™äº›æˆå‘˜å¯ä»¥æ˜¯ï¼š</p><ul><li>ç±»çš„å®ä¾‹æˆå‘˜</li><li>ç±»çš„æ–¹æ³•</li><li>å‡½æ•°å‚æ•°</li><li>å‡½æ•°è¿”å›å€¼</li></ul><pre><code class="js">class Queue&lt;T&gt;{    private data: T[] = []    push = (item:&lt;T&gt;) =&gt; {this.data.push(item)}    pop = ():T | undefiend =&gt; {this.data.shift()}}const queue = new Queue&lt;number&gt;()queue.push(1)queue.shift(&#39;1&#39;) //  error &#39;1&#39; is string</code></pre><p>ä½ å¯ä»¥éšæ„è°ƒç”¨æ³›å‹å‚æ•°ï¼Œå½“ä½ ä½¿ç”¨ç®€å•çš„æ³›å‹æ—¶ï¼Œæ³›å‹å¸¸ç”¨ Tã€Uã€V è¡¨ç¤º</p><h2 id="ç±»å‹æ¨æ–­"><a href="#ç±»å‹æ¨æ–­" class="headerlink" title="ç±»å‹æ¨æ–­"></a>ç±»å‹æ¨æ–­</h2><p>TypeScript èƒ½æ ¹æ®ä¸€äº›ç®€å•çš„è§„åˆ™æ¨æ–­ï¼ˆæ£€æŸ¥ï¼‰å˜é‡çš„ç±»å‹ï¼Œä½ å¯ä»¥é€šè¿‡å®è·µï¼Œå¾ˆå¿«çš„äº†è§£å®ƒä»¬ã€‚</p><p>å®šä¹‰å˜é‡ï¼Œå‡½æ•°è¿”å›ç±»å‹ï¼Œèµ‹å€¼ï¼Œè§£æ„ï¼Œç»“æ„åŒ–ç­‰éƒ½å¯ä»¥æ¨æ–­å‡ºç±»å‹</p><h2 id="ç±»å‹å…¼å®¹æ€§"><a href="#ç±»å‹å…¼å®¹æ€§" class="headerlink" title="ç±»å‹å…¼å®¹æ€§"></a>ç±»å‹å…¼å®¹æ€§</h2><p>ç”¨äºç¡®å®šä¸€ä¸ªç±»å‹æ˜¯å¦èƒ½èµ‹å€¼ç»™å…¶ä»–ç±»å‹</p><p>åå˜<br>é€†å˜ï¼Œ<br>åŒå‘åå˜ï¼Œ<br>ä¸å˜</p><h2 id="never"><a href="#never" class="headerlink" title="never"></a>never</h2><p><code>never</code> ç±»å‹æ˜¯ TypeScript ä¸­çš„åº•å±‚ç±»å‹ã€‚å®ƒè‡ªç„¶è¢«åˆ†é…çš„ä¸€äº›ä¾‹å­ï¼š</p><p>ä¸€ä¸ªä»æ¥ä¸ä¼šæœ‰è¿”å›å€¼çš„å‡½æ•°ï¼ˆå¦‚ï¼šå¦‚æœå‡½æ•°å†…å«æœ‰ <code>while(true) {}</code>ï¼‰ï¼›<br>ä¸€ä¸ªæ€»æ˜¯ä¼šæŠ›å‡ºé”™è¯¯çš„å‡½æ•°ï¼ˆå¦‚ï¼š<code>function foo() { throw new Error(&#39;Not Implemented&#39;)</code> }ï¼Œfoo çš„è¿”å›ç±»å‹æ˜¯ neverï¼‰ï¼›</p><p>ä½†æ˜¯ï¼Œnever ç±»å‹ä»…èƒ½è¢«èµ‹å€¼ç»™å¦å¤–ä¸€ä¸ª never</p><h3 id="ç”¨ä¾‹ï¼šè¯¦ç»†çš„æ£€æŸ¥"><a href="#ç”¨ä¾‹ï¼šè¯¦ç»†çš„æ£€æŸ¥" class="headerlink" title="ç”¨ä¾‹ï¼šè¯¦ç»†çš„æ£€æŸ¥"></a>ç”¨ä¾‹ï¼šè¯¦ç»†çš„æ£€æŸ¥</h3><pre><code class="js">function foo(x:string | number):boolean {    if (typeof x === &#39;string&#39;) {        return true;    } else if (typeof x === &#39;number&#39;) {        return false;    }    // å¦‚æœä¸æ˜¯ä¸€ä¸ª never ç±»å‹ï¼Œè¿™ä¼šæŠ¥é”™ï¼š    // - ä¸æ˜¯æ‰€æœ‰æ¡ä»¶éƒ½æœ‰è¿”å›å€¼ ï¼ˆä¸¥æ ¼æ¨¡å¼ä¸‹ï¼‰    // - æˆ–è€…æ£€æŸ¥åˆ°æ— æ³•è®¿é—®çš„ä»£ç     // ä½†æ˜¯ç”±äº TypeScript ç†è§£ `fail` å‡½æ•°è¿”å›ä¸º `never` ç±»å‹    // å®ƒå¯ä»¥è®©ä½ è°ƒç”¨å®ƒï¼Œå› ä¸ºä½ å¯èƒ½ä¼šåœ¨è¿è¡Œæ—¶ç”¨å®ƒæ¥åšå®‰å…¨æˆ–è€…è¯¦ç»†çš„æ£€æŸ¥ã€‚    return fail(&#39;Unexhaustive&#39;);} function fail(message: string): never {  throw new Error(message);}</code></pre><h3 id="neverä¸voidçš„åŒºåˆ«"><a href="#neverä¸voidçš„åŒºåˆ«" class="headerlink" title="neverä¸voidçš„åŒºåˆ«"></a>neverä¸voidçš„åŒºåˆ«</h3><p>void è¡¨ç¤ºæ²¡æœ‰ä»»ä½•ç±»å‹ï¼Œnever è¡¨ç¤ºæ°¸è¿œä¸å­˜åœ¨çš„å€¼çš„ç±»å‹ã€‚</p><h2 id="è¾¨æè”åˆç±»å‹"><a href="#è¾¨æè”åˆç±»å‹" class="headerlink" title="è¾¨æè”åˆç±»å‹"></a>è¾¨æè”åˆç±»å‹</h2><p>å½“ç±»ä¸­å«æœ‰å­—é¢é‡æˆå‘˜æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨è¯¥ç±»çš„å±æ€§æ¥è¾¨æè”åˆç±»å‹ã€‚</p><pre><code class="js">interface Square {  kind: &#39;square&#39;;  size: number;}interface Rectangle {  kind: &#39;rectangle&#39;;  width: number;  height: number;}type Shape = Square | Rectangle;</code></pre><h2 id="æµåŠ¨çš„ç±»å‹"><a href="#æµåŠ¨çš„ç±»å‹" class="headerlink" title="æµåŠ¨çš„ç±»å‹"></a>æµåŠ¨çš„ç±»å‹</h2><p>TypeScript ç±»å‹ç³»ç»Ÿéå¸¸å¼ºå¤§ï¼Œå®ƒæ”¯æŒå…¶ä»–ä»»ä½•å•ä¸€è¯­è¨€æ— æ³•å®ç°çš„ç±»å‹æµåŠ¨å’Œç±»å‹ç‰‡æ®µã€‚<br>å…³é”®çš„åŠ¨æœºï¼šå½“ä½ æ”¹å˜äº†å…¶ä¸­ä¸€ä¸ªæ—¶ï¼Œå…¶ä»–ç›¸å…³çš„ä¼šè‡ªåŠ¨æ›´æ–°ï¼Œå¹¶ä¸”å½“æœ‰äº‹æƒ…å˜ç³Ÿç³•æ—¶ï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ªå‹å¥½çš„æç¤ºï¼Œå°±å¥½åƒä¸€ä¸ªè¢«ç²¾å¿ƒè®¾è®¡è¿‡çš„çº¦æŸç³»ç»Ÿã€‚</p><h3 id="å¤åˆ¶ç±»å‹å’Œå€¼"><a href="#å¤åˆ¶ç±»å‹å’Œå€¼" class="headerlink" title="å¤åˆ¶ç±»å‹å’Œå€¼"></a>å¤åˆ¶ç±»å‹å’Œå€¼</h3><p>å¦‚æœä½ æƒ³ç§»åŠ¨ä¸€ä¸ªç±»ï¼Œä½ å¯èƒ½ä¼šæƒ³è¦åšä»¥ä¸‹äº‹æƒ…ï¼š</p><pre><code class="js">class Foo {}const Bar = Foo;let bar: Bar; // Error: ä¸èƒ½æ‰¾åˆ°åç§° &#39;Bar&#39;//è¿™ä¼šå¾—åˆ°ä¸€ä¸ªé”™è¯¯ï¼Œå› ä¸º const ä»…ä»…æ˜¯å¤åˆ¶äº† Foo åˆ°ä¸€ä¸ªå˜é‡å£°æ˜ç©ºé—´ï¼Œå› æ­¤ä½ æ— æ³•æŠŠ Bar å½“ä½œä¸€ä¸ªç±»å‹å£°æ˜ä½¿ç”¨ã€‚æ­£ç¡®çš„æ–¹å¼æ˜¯ä½¿ç”¨ import å…³é”®å­—ï¼Œè¯·æ³¨æ„ï¼Œå¦‚æœä½ åœ¨ä½¿ç”¨ namespace æˆ–è€… modulesï¼Œä½¿ç”¨ import æ˜¯ä½ å”¯ä¸€èƒ½ç”¨çš„æ–¹å¼ï¼šnamespace importing {  export class Foo {}}import Bar = importing.Foo;let bar: Bar; // ok//è¿™ä¸ª import æŠ€å·§ï¼Œä»…é€‚åˆäºç±»å‹å’Œå˜é‡ã€‚</code></pre><h3 id="æ•è·å˜é‡çš„ç±»å‹"><a href="#æ•è·å˜é‡çš„ç±»å‹" class="headerlink" title="æ•è·å˜é‡çš„ç±»å‹"></a>æ•è·å˜é‡çš„ç±»å‹</h3><p>ä½ å¯ä»¥é€šè¿‡ typeof æ“ä½œç¬¦åœ¨ç±»å‹æ³¨è§£ä¸­ä½¿ç”¨å˜é‡    </p><h2 id="å¼‚å¸¸å¤„ç†"><a href="#å¼‚å¸¸å¤„ç†" class="headerlink" title="å¼‚å¸¸å¤„ç†"></a>å¼‚å¸¸å¤„ç†</h2><p>JavaScript æœ‰ä¸€ä¸ª Error ç±»ï¼Œç”¨äºå¤„ç†å¼‚å¸¸ã€‚ä½ å¯ä»¥é€šè¿‡ throw å…³é”®å­—æ¥æŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚ç„¶åé€šè¿‡ try/catch å—æ¥æ•è·æ­¤é”™è¯¯ï¼š</p><pre><code class="js">try{    throw new Error(&#39;Something bad happened&#39;);}catch(e){    console.log(e)}</code></pre><p>é™¤å†…ç½®çš„ Error ç±»å¤–ï¼Œè¿˜æœ‰ä¸€äº›é¢å¤–çš„å†…ç½®é”™è¯¯ï¼Œå®ƒä»¬ç»§æ‰¿è‡ª Error ç±»ï¼š<code>RangeError,ReferenceError,SyntaxError,TypeError,URIError</code></p><h2 id="æ··åˆ"><a href="#æ··åˆ" class="headerlink" title="æ··åˆ"></a>æ··åˆ</h2><p>TypeScript (å’Œ JavaScript) ç±»åªèƒ½ä¸¥æ ¼çš„å•ç»§æ‰¿ï¼Œå› æ­¤ä½ ä¸èƒ½åšï¼š</p><pre><code class="js">class User extends Tagged, Timestamped { // ERROR : ä¸èƒ½å¤šé‡ç»§æ‰¿  // ..}</code></pre><p>ä»å¯é‡ç”¨ç»„ä»¶æ„å»ºç±»çš„å¦ä¸€ç§æ–¹å¼æ˜¯é€šè¿‡åŸºç±»æ¥æ„å»ºå®ƒä»¬ï¼Œè¿™ç§æ–¹å¼ç§°ä¸ºæ··åˆã€‚</p><h2 id="å¸¸è§çš„typescripté”™è¯¯"><a href="#å¸¸è§çš„typescripté”™è¯¯" class="headerlink" title="å¸¸è§çš„typescripté”™è¯¯"></a>å¸¸è§çš„typescripté”™è¯¯</h2><p><a href="https://jkchao.github.io/typescript-book-chinese/error/common.html#ts2304" target="_blank" rel="noopener">å¸¸è§çš„typescripté”™è¯¯</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;TypeScriptç±»å‹ç³»ç»Ÿ&quot;&gt;&lt;a href=&quot;#TypeScriptç±»å‹ç³»ç»Ÿ&quot; class=&quot;headerlink&quot; title=&quot;TypeScriptç±»å‹ç³»ç»Ÿ&quot;&gt;&lt;/a&gt;TypeScriptç±»å‹ç³»ç»Ÿ&lt;/h1&gt;&lt;h2 id=&quot;types&quot;&gt;&lt;a href=&quot;#
      
    
    </summary>
    
      <category term="Js" scheme="https://zhanghao-web.github.io/categories/Js/"/>
    
    
      <category term="Ts" scheme="https://zhanghao-web.github.io/tags/Ts/"/>
    
  </entry>
  
  <entry>
    <title>ä»€ä¹ˆæ˜¯laaS,PaaS,SaaS?</title>
    <link href="https://zhanghao-web.github.io/2020/04/16/%E6%9C%8D%E5%8A%A1/%E4%BB%80%E4%B9%88%E6%98%AFlaaS-PaaS-SaaS/"/>
    <id>https://zhanghao-web.github.io/2020/04/16/æœåŠ¡/ä»€ä¹ˆæ˜¯laaS-PaaS-SaaS/</id>
    <published>2020-04-16T01:54:46.000Z</published>
    <updated>2020-04-16T14:19:40.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>é¦–å…ˆäº‘æœåŠ¡å™¨å¯ä»¥åˆ†ä¸º</p><ul><li>IaaSï¼šåŸºç¡€è®¾æ–½å³æœåŠ¡ï¼Œ<code>Infrastructure-as-a-service</code></li><li>PaaSï¼šå¹³å°å³æœåŠ¡ï¼Œ<code>Platform-as-a-service</code></li><li>SaaSï¼šè½¯ä»¶å³æœåŠ¡ï¼Œ<code>Software-as-a-service</code></li><li>æ•°æ®å³æœåŠ¡ï¼šå¦‚é˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨ï¼Œä¸ƒç‰›äº‘å­˜å‚¨ç­‰</li><li>å…¶ä»–è½¯ä»¶æœåŠ¡ï¼šæœºå™¨å­¦ä¹ ã€äººå·¥æ™ºèƒ½ç­‰</li></ul></blockquote><p>å…¬å¸è¦å¼€å‘ä¸€ä¸ª<code>SaaSäº‘æœåŠ¡å™¨</code>çš„è½¯ä»¶ï¼Œå€Ÿæ­¤æ¥åŠ æ·±ä¸‹lasS,PaaS,SaaSçš„æ¦‚å¿µåŠåŒºåˆ«</p><h2 id="æ¯”å–»lasS-PaaS-SaaS"><a href="#æ¯”å–»lasS-PaaS-SaaS" class="headerlink" title="æ¯”å–»lasS,PaaS,SaaS"></a>æ¯”å–»lasS,PaaS,SaaS</h2><p><a href="http://www.ruanyifeng.com/blog/2017/07/iaas-paas-saas.html" target="_blank" rel="noopener">æ¯”å–»æ¥è‡ªé˜®ä¸€å³°çš„ç½‘ç«™</a></p><p>è¯·è®¾æƒ³ä½ æ˜¯ä¸€ä¸ªé¤é¥®ä¸šè€…ï¼Œæ‰“ç®—åšæŠ«è¨ç”Ÿæ„ã€‚</p><p>ä½ å¯ä»¥ä»å¤´åˆ°å°¾ï¼Œè‡ªå·±ç”Ÿäº§æŠ«è¨ï¼Œä½†æ˜¯è¿™æ ·æ¯”è¾ƒéº»çƒ¦ï¼Œéœ€è¦å‡†å¤‡çš„ä¸œè¥¿å¤šï¼Œå› æ­¤ä½ å†³å®šå¤–åŒ…ä¸€éƒ¨åˆ†å·¥ä½œï¼Œé‡‡ç”¨ä»–äººçš„æœåŠ¡ã€‚ä½ æœ‰ä¸‰ä¸ªæ–¹æ¡ˆã€‚</p><p>ï¼ˆ1ï¼‰æ–¹æ¡ˆä¸€ï¼šIaaS</p><p>ä»–äººæä¾›å¨æˆ¿ã€ç‚‰å­ã€ç…¤æ°”ï¼Œä½ ä½¿ç”¨è¿™äº›åŸºç¡€è®¾æ–½ï¼Œæ¥çƒ¤ä½ çš„æŠ«è¨ã€‚</p><p>ï¼ˆ2ï¼‰æ–¹æ¡ˆäºŒï¼šPaaS</p><p>é™¤äº†åŸºç¡€è®¾æ–½ï¼Œä»–äººè¿˜æä¾›æŠ«è¨é¥¼çš®ã€‚<br>ä½ åªè¦æŠŠè‡ªå·±çš„é…æ–™æ´’åœ¨é¥¼çš®ä¸Šï¼Œè®©ä»–å¸®ä½ çƒ¤å‡ºæ¥å°±è¡Œäº†ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ è¦åšçš„å°±æ˜¯è®¾è®¡æŠ«è¨çš„å‘³é“ï¼ˆæµ·é²œæŠ«è¨æˆ–è€…é¸¡è‚‰æŠ«è¨ï¼‰ï¼Œä»–äººæä¾›å¹³å°æœåŠ¡ï¼Œè®©ä½ æŠŠè‡ªå·±çš„è®¾è®¡å®ç°ã€‚</p><p>ï¼ˆ3ï¼‰æ–¹æ¡ˆä¸‰ï¼šSaaS</p><p>ä»–äººç›´æ¥åšå¥½äº†æŠ«è¨ï¼Œä¸ç”¨ä½ çš„ä»‹å…¥ï¼Œåˆ°æ‰‹çš„å°±æ˜¯ä¸€ä¸ªæˆå“ã€‚ä½ è¦åšçš„å°±æ˜¯æŠŠå®ƒå–å‡ºå»ï¼Œæœ€å¤šå†åŒ…è£…ä¸€ä¸‹ï¼Œå°ä¸Šä½ è‡ªå·±çš„ Logoã€‚</p><p><img src="http://www.ruanyifeng.com/blogimg/asset/2017/bg2017072306.png" alt="æŠ«è¨"></p><p>ä»å·¦åˆ°å³ï¼Œè‡ªå·±æ‰¿æ‹…çš„å·¥ä½œé‡ï¼ˆä¸Šå›¾è“è‰²éƒ¨åˆ†ï¼‰è¶Šæ¥è¶Šå°‘ï¼ŒIaaS &gt; PaaS &gt; SaaSã€‚</p><p>å¯¹åº”è½¯ä»¶å¼€å‘ï¼Œåˆ™æ˜¯ä¸‹é¢è¿™å¼ å›¾ã€‚</p><p><img src="http://www.ruanyifeng.com/blogimg/asset/2017/bg2017072307.jpg" alt="å¼€å‘æµç¨‹"></p><p>SaaS æ˜¯è½¯ä»¶çš„å¼€å‘ã€ç®¡ç†ã€éƒ¨ç½²éƒ½äº¤ç»™ç¬¬ä¸‰æ–¹ï¼Œä¸éœ€è¦å…³å¿ƒæŠ€æœ¯é—®é¢˜ï¼Œå¯ä»¥æ‹¿æ¥å³ç”¨ã€‚æ™®é€šç”¨æˆ·æ¥è§¦åˆ°çš„äº’è”ç½‘æœåŠ¡ï¼Œå‡ ä¹éƒ½æ˜¯ SaaSï¼Œä¸‹é¢æ˜¯ä¸€äº›ä¾‹å­ã€‚</p><blockquote><ul><li>å®¢æˆ·ç®¡ç†æœåŠ¡ Salesforce</li><li>å›¢é˜ŸååŒæœåŠ¡ Google Apps</li><li>å‚¨å­˜æœåŠ¡ Box</li><li>å‚¨å­˜æœåŠ¡ Dropbox</li><li>ç¤¾äº¤æœåŠ¡ Facebook / Twitter / Instagram</li></ul></blockquote><p>PaaS æä¾›è½¯ä»¶éƒ¨ç½²å¹³å°ï¼ˆruntimeï¼‰ï¼ŒæŠ½è±¡æ‰äº†ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿç»†èŠ‚ï¼Œå¯ä»¥æ— ç¼åœ°æ‰©å±•ï¼ˆscalingï¼‰ã€‚å¼€å‘è€…åªéœ€è¦å…³æ³¨è‡ªå·±çš„ä¸šåŠ¡é€»è¾‘ï¼Œä¸éœ€è¦å…³æ³¨åº•å±‚ã€‚ä¸‹é¢è¿™äº›éƒ½å±äº PaaSã€‚</p><blockquote><ul><li>Heroku</li><li>Google App Engine</li><li>OpenShift</li></ul></blockquote><p>IaaS æ˜¯äº‘æœåŠ¡çš„æœ€åº•å±‚ï¼Œä¸»è¦æä¾›ä¸€äº›åŸºç¡€èµ„æºã€‚å®ƒä¸ PaaS çš„åŒºåˆ«æ˜¯ï¼Œç”¨æˆ·éœ€è¦è‡ªå·±æ§åˆ¶åº•å±‚ï¼Œå®ç°åŸºç¡€è®¾æ–½çš„ä½¿ç”¨é€»è¾‘ã€‚ä¸‹é¢è¿™äº›éƒ½å±äº IaaSã€‚</p><blockquote><ul><li>Amazon EC2</li><li>Digital Ocean</li><li>RackSpace Cloud</li></ul></blockquote><h2 id="SaaSè¯¦ç»†ä»‹ç»"><a href="#SaaSè¯¦ç»†ä»‹ç»" class="headerlink" title="SaaSè¯¦ç»†ä»‹ç»"></a>SaaSè¯¦ç»†ä»‹ç»</h2><p>æˆ‘ä»¬å°†ç€é‡ä»‹ç»SaaSæ¶æ„è®¾è®¡,å¹¶å›´ç»•WHATï¼ˆæ˜¯ä»€ä¹ˆï¼Ÿï¼‰ã€WHYï¼ˆä¸ºä»€ä¹ˆï¼Ÿï¼‰ã€WHEREï¼ˆåœ¨å“ªé‡Œï¼Ÿï¼‰å’ŒHOWï¼ˆæ€ä¹ˆæ ·ï¼Ÿï¼‰è¿™å››ä¸ªé—®é¢˜</p><h3 id="ä»€ä¹ˆæ˜¯SaaSï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯SaaSï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯SaaSï¼Ÿ"></a>ä»€ä¹ˆæ˜¯SaaSï¼Ÿ</h3><p><img src="https://user-gold-cdn.xitu.io/2019/6/3/16b1a96e7d4e0ce5?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="SaaS"></p><p>ä»å®è§‚çš„è§’åº¦æ¥çœ‹ï¼ŒSaaSæ˜¯ä¸€ç§è½¯ä»¶åº”ç”¨ç¨‹åºäº¤ä»˜æ–¹å¼ï¼Œè½¯ä»¶æä¾›å•†é›†ä¸­åŒ–æ‰˜ç®¡ä¸€ä¸ªæˆ–å¤šä¸ªè½¯ä»¶åº”ç”¨ç¨‹åºï¼Œå¹¶é€šè¿‡äº’è”ç½‘å‘ç§Ÿæˆ·ä½“ç”¨è¿™äº›è½¯ä»¶åº”ç”¨ç¨‹åº;ä»åˆ†ç±»ä¸Šè®²SaaSä¹Ÿæ˜¯äº‘è®¡ç®—çš„ä¸€éƒ¨åˆ†</p><p>SaaSåº”ç”¨ç¨‹åºçš„ä»»ä½•æ›´æ–°æˆ–è€…ä¿®å¤æ¼æ´æ“ä½œéƒ½æ˜¯ç”±è½¯ä»¶æä¾›å•†è´Ÿè´£å®æ–½å’Œå¤„ç†çš„ï¼Œç”±äºç§Ÿæˆ·æ˜¯é€šè¿‡äº’è”ç½‘è·å–è½¯ä»¶æœåŠ¡ï¼Œæ‰€ä»¥ç§Ÿæˆ·ç«¯æ— éœ€ä¸‹è½½ä»»ä½•çš„å‡çº§åŒ…æˆ–è€…ä¿®å¤è¡¥ä¸ï¼Œæ˜¯ä¸€ç§å¼€ç®±å³è·å–æœ€æ–°è½¯ä»¶äº§å“çš„æœåŠ¡æ–¹å¼ã€‚</p><h3 id="ä¸ºä»€ä¹ˆé€‰æ‹©SaaSï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆé€‰æ‹©SaaSï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆé€‰æ‹©SaaSï¼Ÿ"></a>ä¸ºä»€ä¹ˆé€‰æ‹©SaaSï¼Ÿ</h3><h4 id="1-æ¶ˆè´¹è€…è§’åº¦"><a href="#1-æ¶ˆè´¹è€…è§’åº¦" class="headerlink" title="1.æ¶ˆè´¹è€…è§’åº¦"></a>1.æ¶ˆè´¹è€…è§’åº¦</h4><p>è·å–è½¯ä»¶æœåŠ¡çš„æ–¹å¼è¶³å¤Ÿç®€å•ï¼ŒSaaSä¹Ÿè®¸æ˜¯è¿„ä»Šä¸ºæ­¢ä½¿ç”¨è½¯ä»¶æœ€ç®€å•çš„æ–¹å¼ä¹‹ä¸€ï¼Œç§Ÿæˆ·åªéœ€è¦åŠ¨åŠ¨é¼ æ ‡å’Œé”®ç›˜ï¼Œå³å¯åœ¨å‡ å°æ—¶ç”šè‡³å‡ åˆ†é’Ÿå†…è·å¾—ä¸€ä¸ªå¤§å‹çš„è½¯ä»¶æœåŠ¡ã€‚ç›¸æ¯”äºä¼ ç»Ÿä½¿ç”¨è½¯ä»¶çš„æ–¹å¼ï¼Œç§Ÿæˆ·çœå»äº†ç ”å‘ã€éƒ¨ç½²ã€è¿ç»´ç­‰ä¸€ç³»åˆ—ç¹å¤çš„è¿‡ç¨‹ï¼Œä¸”è·å¾—è½¯ä»¶çš„æ—¶é—´å’Œè´¹ç”¨æˆæœ¬éƒ½å¤§å¹…åº¦é™ä½</p><h4 id="2-å•†ä¸šè§’åº¦"><a href="#2-å•†ä¸šè§’åº¦" class="headerlink" title="2.å•†ä¸šè§’åº¦"></a>2.å•†ä¸šè§’åº¦</h4><p>SaaSå¯ä»¥ä½“ç”¨è·¨åœ°åŸŸã€è·¨å¹³å°çš„è½¯ä»¶æœåŠ¡ã€‚ä¸æ­¤åŒæ—¶ï¼Œè½¯ä»¶æœåŠ¡å•†å¯ä»¥ç»Ÿä¸€å¯¹è½¯ä»¶è¿›è¡Œç‰ˆæœ¬ç®¡ç†ï¼Œè¿™å°†å¸¦æ¥ä»¥ä¸‹å‡ ç‚¹å¥½å¤„ï¼ˆåŒ…æ‹¬ä½†ä¸é™äºï¼‰ï¼š</p><p>1ã€ç¼©çŸ­äº§å“ä¸Šçº¿æ—¶é—´ï¼šå¤šç«¯é€‚é…ï¼Œç»Ÿä¸€ç‰ˆæœ¬ï¼Œç»Ÿä¸€æ›´æ–°<br>2ã€é™ä½ç»´æŠ¤æˆæœ¬ï¼šä¸éœ€è¦åŒæ—¶ç»´æŠ¤å¤šä¸ªç‰ˆæœ¬çš„è½¯ä»¶å®ä¾‹ï¼Œè¿ç»´å‹åŠ›å‡å°<br>3ã€å®¹æ˜“å‡çº§ï¼šç”±äºç‰ˆæœ¬å¾—åˆ°æœ‰æ•ˆæ§åˆ¶ï¼Œä¸€æ¬¡å‡çº§ï¼Œå³å¯è¦†ç›–æ‰€æœ‰ç§Ÿæˆ·ç«¯</p><h3 id="SaaSçš„ç‰¹æ€§åŠä¼˜åŠ¿æ˜¯ä»€ä¹ˆ"><a href="#SaaSçš„ç‰¹æ€§åŠä¼˜åŠ¿æ˜¯ä»€ä¹ˆ" class="headerlink" title="SaaSçš„ç‰¹æ€§åŠä¼˜åŠ¿æ˜¯ä»€ä¹ˆ?"></a>SaaSçš„ç‰¹æ€§åŠä¼˜åŠ¿æ˜¯ä»€ä¹ˆ?</h3><p>1.ç®€å•<br>2.ç»æµå®æƒ <br>3.å®‰å…¨<br>4.å…¼ä»»æ€§</p><h3 id="SaaSè½¯ä»¶çš„é€‚ç”¨èŒƒå›´"><a href="#SaaSè½¯ä»¶çš„é€‚ç”¨èŒƒå›´" class="headerlink" title="SaaSè½¯ä»¶çš„é€‚ç”¨èŒƒå›´"></a>SaaSè½¯ä»¶çš„é€‚ç”¨èŒƒå›´</h3><p>ä»ç†è®ºä¸Šè®²ï¼ŒSaaSå¯ä»¥å°†ä»»ä½•çš„è½¯ä»¶SaaSï¼Œä¸‹é¢åˆ—ä¸¾ä¸€äº›é€šç”¨çš„åˆ†ç±»ä¾›å¤§å®¶å‚è€ƒï¼š</p><p>1ã€Officeåœ¨çº¿åŠå…¬ç±»SaaSäº§å“<br>2ã€ç”µå­é‚®ä»¶å’Œå³æ—¶æ¶ˆæ¯ç±»SaaSäº§å“<br>3ã€ç¤¾äº¤åª’ä½“ç±»SaaSäº§å“<br>4ã€ç¬¬ä¸‰æ–¹APIç±»SaaSäº§å“<br>5ã€å®‰å…¨å’Œè®¿é—®æ§åˆ¶ç±»SaaSäº§å“<br>6ã€æœºå™¨å­¦ä¹ ç±»SaaSäº§å“<br>7ã€äººå·¥æ™ºèƒ½ç±»SaaSäº§å“<br>8ã€åœ°ç†ä½ç½®æœåŠ¡ç±»SaaSäº§å“<br>9ã€æ•°æ®æµå’Œæ•°æ®æ£€ç´¢ç±»SaaSäº§å“</p><h3 id="SaaSäº§å“çš„ç¼ºé™·"><a href="#SaaSäº§å“çš„ç¼ºé™·" class="headerlink" title="SaaSäº§å“çš„ç¼ºé™·"></a>SaaSäº§å“çš„ç¼ºé™·</h3><h4 id="1-è½¯ä»¶æ§åˆ¶æƒ"><a href="#1-è½¯ä»¶æ§åˆ¶æƒ" class="headerlink" title="1.è½¯ä»¶æ§åˆ¶æƒ"></a>1.è½¯ä»¶æ§åˆ¶æƒ</h4><p>ä¸ä¼ä¸šå†…éƒ¨éƒ¨ç½²çš„è½¯ä»¶ä¸åŒï¼Œç”±äºSaaSè½¯ä»¶è¢«å‡»ä¸­æ‰˜ç®¡åœ¨æœåŠ¡æä¾›å•†çš„WebæœåŠ¡å™¨ä¸­ï¼Œæ‰€ä»¥ç§Ÿæˆ·æ— æ³•æ§åˆ¶æ‰€æœ‰çš„è½¯ä»¶åº”ç”¨ç¨‹åºï¼ŒSaaSåŒ–çš„è½¯ä»¶æ¯”ä¼ä¸šè‡ªè¡Œéƒ¨ç½²çš„è½¯ä»¶è·å¾—çš„æ§åˆ¶æƒæ›´å°‘ï¼Œç§Ÿæˆ·å¯æ“ä½œçš„è‡ªå®šä¹‰æ§åˆ¶æƒæåº¦æœ‰é™ã€‚</p><h4 id="2-æ¶ˆè´¹è€…åŸºæ•°å°"><a href="#2-æ¶ˆè´¹è€…åŸºæ•°å°" class="headerlink" title="2.æ¶ˆè´¹è€…åŸºæ•°å°"></a>2.æ¶ˆè´¹è€…åŸºæ•°å°</h4><p>ç”±äºSaaSè½¯ä»¶æ˜¯å°†ä¸€å¥—åº”ç”¨ç¨‹åºå…±äº«ç»™ä¸€ä¸ªæˆ–è€…å¤šä¸ªç§Ÿæˆ·å…±åŒä½¿ç”¨ï¼Œè¿™ç§å…±äº«çš„æ¶ˆè´¹æ–¹å¼è¿˜æœªè¢«å¤§å¤šæ•°çš„æ¶ˆè´¹è€…æ‰€æ¥å—ã€‚åŒæ—¶ï¼Œå—åˆ¶äºå¸‚åœºç¯å¢ƒçš„å½±å“ï¼Œç›®å‰è¿˜æœ‰å¤§å¤šæ•°çš„è½¯ä»¶è¿˜æœªSaaSåŒ–</p><h4 id="3-æ€§èƒ½ç“¶é¢ˆ"><a href="#3-æ€§èƒ½ç“¶é¢ˆ" class="headerlink" title="3.æ€§èƒ½ç“¶é¢ˆ"></a>3.æ€§èƒ½ç“¶é¢ˆ</h4><p>å…±äº«åº”ç”¨ç¨‹åºå¿…ç„¶ä¼šå¸¦æ¥æœåŠ¡å™¨æ€§èƒ½çš„ä¸‹é™ã€å¦‚è®¡ç®—é€Ÿåº¦ã€ç½‘ç»œèµ„æºã€I/Oè¯»å†™ç­‰éƒ½å°†é¢ä¸´ä¸¥å³»çš„è€ƒéªŒã€‚åœ¨æ€§èƒ½æ–¹é¢ï¼Œä¼ä¸šå†…éƒ¨éƒ¨ç½²çš„â€œç‹¬äº«æ¨¡å¼â€çš„åº”ç”¨ç¨‹åºæ¯”SaaSè½¯ä»¶çš„â€œå…±äº«æ¨¡å¼â€ç•¥èƒœä¸€ç­¹ã€‚</p><h4 id="4-å®‰å…¨é—®é¢˜"><a href="#4-å®‰å…¨é—®é¢˜" class="headerlink" title="4.å®‰å…¨é—®é¢˜"></a>4.å®‰å…¨é—®é¢˜</h4><p>å½“ç§Ÿæˆ·åœ¨é€‰æ‹©ä¸€æ¬¾SaaSäº§å“æ—¶ï¼Œäº§å“çš„å®‰å…¨æ€§å°†ä¼šè¢«æ”¾ç½®åœ¨ç¬¬ä¸€ä½è¿›è¡Œè€ƒè™‘ã€‚å¦‚æ•°æ®çš„éš”ç¦»ã€æ•æ„Ÿæ•°æ®çš„åŠ å¯†ã€æ•°æ®è®¿é—®æƒé™æ§åˆ¶ã€ä¸ªäººéšç§ç­‰é—®é¢˜ã€‚</p><h3 id="SaaSäº§å“çš„æ ¸å¿ƒç»„ä»¶"><a href="#SaaSäº§å“çš„æ ¸å¿ƒç»„ä»¶" class="headerlink" title="SaaSäº§å“çš„æ ¸å¿ƒç»„ä»¶"></a>SaaSäº§å“çš„æ ¸å¿ƒç»„ä»¶</h3><p>ä¸åŒç±»å‹çš„SaaSäº§å“ï¼Œç”±äºè¦é¢å¯¹ä¸åŒçš„ç”¨æˆ·æ„¿æ™¯ï¼Œå¯èƒ½åœ¨åŠŸèƒ½å’Œä¸šåŠ¡ä¸Šä¼šæœ‰æ‰€ä¸åŒï¼Œä½†ä»»ä½•ä¸€ä¸ªSaaSäº§å“ï¼Œéƒ½å…·å¤‡ä»¥ä¸‹å‡ ä¸ªå…±åŒçš„æ ¸å¿ƒç»„ä»¶ã€‚</p><p><img src="https://user-gold-cdn.xitu.io/2019/6/3/16b1a96e7628ebeb?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="æ ¸å¿ƒç»„ä»¶"></p><h4 id="å®‰å…¨ç»„ä»¶"><a href="#å®‰å…¨ç»„ä»¶" class="headerlink" title="å®‰å…¨ç»„ä»¶"></a>å®‰å…¨ç»„ä»¶</h4><p>åœ¨SaaSäº§å“ä¸­ï¼Œç³»ç»Ÿå®‰å…¨æ°¸è¿œæ˜¯ç¬¬ä¸€ä½éœ€è¦è€ƒè™‘çš„äº‹æƒ…ï¼Œå¦‚ä½•ä¿éšœç§Ÿæˆ·æ•°æ®çš„å®‰å…¨ï¼Œæ˜¯ä½ é¦–è¦çš„äº‹æƒ…ã€‚è¿™å¦‚åŒé“¶è¡Œé¦–é€‰éœ€è¦ä¿éšœå‚¨æˆ·èµ„é‡‘å®‰å…¨ä¸€æ ·ã€‚å®‰å…¨ç»„ä»¶å°±æ˜¯ç»Ÿä¸€çš„å¯¹SaaSäº§å“è¿›è¡Œå®‰å…¨é˜²æŠ¤ï¼Œä¿éšœç³»ç»Ÿæ•°æ®å®‰å…¨ã€‚</p><h4 id="æ•°æ®éš”ç¦»ç»„ä»¶"><a href="#æ•°æ®éš”ç¦»ç»„ä»¶" class="headerlink" title="æ•°æ®éš”ç¦»ç»„ä»¶"></a>æ•°æ®éš”ç¦»ç»„ä»¶</h4><p>å®‰å…¨ç»„ä»¶è§£å†³äº†ç”¨æˆ·æ•°æ®å®‰å…¨å¯é çš„é—®é¢˜ï¼Œä½†æ•°æ®å¾€å¾€è¿˜éœ€è¦è§£å†³éšç§é—®é¢˜ï¼Œå„ä¼ä¸šä¹‹é—´çš„æ•°æ®å¿…é¡»ç›¸äº’ä¸å¯è§ï¼Œå³ç›¸äº’éš”ç¦»ã€‚åœ¨SaaSäº§å“ä¸­ï¼Œå¦‚ä½•è¯†åˆ«ã€åŒºåˆ†ã€éš”ç¦»ä¸ªç§Ÿæˆ·çš„æ•°æ®æ—¶ä½ åœ¨å®æ–½SaaSè½¯ä»¶æ¶æ„è®¾è®¡æ—¶éœ€è¦è€ƒè™‘çš„ç¬¬äºŒä¸ªé—®é¢˜ã€‚</p><h4 id="å¯é…ç½®ç»„ä»¶"><a href="#å¯é…ç½®ç»„ä»¶" class="headerlink" title="å¯é…ç½®ç»„ä»¶"></a>å¯é…ç½®ç»„ä»¶</h4><p>å°½ç®¡SaaSäº§å“åœ¨è®¾è®¡ä¹‹åˆå°±è€ƒè™‘äº†å¤§å¤šæ•°é€šç”¨çš„åŠŸèƒ½ï¼Œè®©ç§Ÿæˆ·å¼€ç®±å³ç”¨ï¼Œä½†ä»»ç„¶æœ‰ä¸ºæ•°ä¸å°‘çš„ç§Ÿæˆ·éœ€è¦å®šåˆ¶æœåŠ¡è‡ªèº«ä¸šåŠ¡éœ€æ±‚çš„é…ç½®é¡¹ï¼Œå¦‚UIå¸ƒå±€ã€ä¸»é¢˜ã€æ ‡è¯†ï¼ˆLogoï¼‰ç­‰ä¿¡æ¯ã€‚æ­£å› ä¸ºæ— æ³•æŠ½è±¡å‡ºä¸€ä¸ªå®Œå…¨é€šç”¨çš„åº”ç”¨ç¨‹åºï¼Œæ‰€ä»¥åœ¨SaaSäº§å“ä¸­ï¼Œä½ éœ€è¦æä¾›ä¸€ä¸ªå¯ç”¨äºè‡ªå®šä¹‰é…ç½®çš„ç»„ä»¶ã€‚</p><h4 id="å¯æ‰©å±•ç»„ä»¶"><a href="#å¯æ‰©å±•ç»„ä»¶" class="headerlink" title="å¯æ‰©å±•ç»„ä»¶"></a>å¯æ‰©å±•ç»„ä»¶</h4><p>éšç€SaaSäº§å“ä¸šåŠ¡å’Œç§Ÿæˆ·æ•°é‡çš„å¢é•¿ï¼ŒåŸæœ‰çš„æœåŠ¡å™¨é…ç½®å°†æ— æ³•ç»§ç»­æ»¡è¶³æ–°çš„éœ€æ±‚ï¼Œç³»ç»Ÿæ€§èƒ½å°†ä¼šä¸ä¸šåŠ¡é‡å’Œç”¨æˆ·é‡æˆåæ¯”ã€‚æ­¤æ—¶ï¼ŒSaaSäº§å“åº”è¯¥å…·å¤‡æ°´å¹³æ‰©å±•çš„èƒ½åŠ›ã€‚å¦‚é€šè¿‡ç½‘ç»œè´Ÿè½½å‡è¡¡å…¶å’Œå®¹å™¨æŠ€æœ¯ï¼Œåœ¨å¤šä¸ªæœåŠ¡å™¨ä¸Šéƒ¨ç½²å¤šä¸ªè½¯ä»¶è¿è¡Œç¤ºä¾‹å¹¶æä¾›ç›¸åŒçš„è½¯ä»¶æœåŠ¡ï¼Œä»¥æ­¤å®ç°æ°´å¹³æ‰©å±•SaaSäº§å“çš„æ•´ä½“æœåŠ¡æ€§èƒ½ã€‚ä¸ºäº†å®ç°å¯æ‰©å±•èƒ½åŠ›ï¼Œå°±éœ€è¦SaaSå±•ç¤ºå±‚çš„ä»£ç ä¸ä¸šåŠ¡é€»è¾‘éƒ¨åˆ†çš„ä»£ç è¿›è¡Œåˆ†ç¦»ï¼Œä¸¤è€…ç‹¬ç«‹éƒ¨ç½²ã€‚ä¾‹å¦‚<strong>ä½¿ç”¨VUE+å¾®æœåŠ¡æ„å»ºå‰åç«¯åˆ†ç¦»ä¸”å¯æ°´å¹³è¿›è¡Œæ‰©å±•çš„åˆ†å¸ƒå¼SaaSåº”ç”¨äº§å“</strong>ã€‚å¯¹äºå¯æ‰©å±•ï¼Œè¿˜æœ‰å¦å¤–ä¸€ç§æ–¹å¼ï¼Œå³<strong>å‚ç›´æ‰©å±•</strong>ï¼Œå…¶åšæ³•æ¯”è¾ƒç®€å•ï¼Œä¹Ÿæ¯”è¾ƒç²—æš´ï¼šé€šè¿‡å¢åŠ å•å°æœåŠ¡å™¨çš„é…ç½®ï¼Œå¦‚è´­ä¹°æ€§èƒ½æ›´å¥½çš„CUPã€å­˜å‚¨æ›´å¤§çš„å†…å­˜æ¡ã€å¢å¤§å¸¦å®½ç­‰æªæ–½ï¼Œè®©æœåŠ¡å™¨èƒ½å¤Ÿå¤„ç†æ›´å¤šçš„ç”¨æˆ·è¯·æ±‚ã€‚ä½†æ­¤åšæ³•å¯¹äºæå‡äº§å“æ€§èƒ½æ²¡æœ‰è´¨çš„æ”¹å˜ï¼Œä¸”æˆæœ¬å¾ˆé«˜ã€‚</p><h4 id="0åœæœºæ—¶é—´å‡çº§äº§å“"><a href="#0åœæœºæ—¶é—´å‡çº§äº§å“" class="headerlink" title="0åœæœºæ—¶é—´å‡çº§äº§å“"></a>0åœæœºæ—¶é—´å‡çº§äº§å“</h4><p>ä»¥å¾€çš„è½¯ä»¶åœ¨å‡çº§æˆ–è€…ä¿®å¤Bugæ—¶ï¼Œéƒ½éœ€è¦å°†è¿è¡Œçš„ç¨‹åºè„±æœºä¸€æ®µæ—¶é—´ï¼Œç­‰å¾…å‡çº§æˆ–ä¿®å¤å·¥ä½œå®Œæˆåï¼Œå†é‡æ–°å¯åŠ¨åº”ç”¨ç¨‹åºã€‚è€ŒSaaSäº§å“åˆ™éœ€è¦å…¨å¤©å€™ä¿éšœæœåŠ¡çš„å¯ç”¨æ€§ã€‚è¿™å°±éœ€è¦ä½ è€ƒè™‘å¦‚ä½•å®ç°åœ¨ä¸é‡å¯åŸæœ‰åº”ç”¨ç¨‹åºçš„æƒ…å†µä¸‹ï¼Œå®Œæˆåº”ç”¨ç¨‹åºçš„å‡çº§ä¿®å¤å·¥ä½œã€‚</p><h4 id="å¤šç§Ÿæˆ·ç»„ä»¶"><a href="#å¤šç§Ÿæˆ·ç»„ä»¶" class="headerlink" title="å¤šç§Ÿæˆ·ç»„ä»¶"></a>å¤šç§Ÿæˆ·ç»„ä»¶</h4><p>è¦å°†åŸæœ‰äº§å“SaaSåŒ–ï¼Œå°±å¿…é¡»æä¾›å¤šç§Ÿæˆ·ç»„ä»¶ï¼Œå¤šç§Ÿæˆ·ç»„ä»¶æ˜¯è¡¡é‡ä¸€ä¸ªåº”ç”¨ç¨‹åºæ˜¯å¦å…·å¤‡SaaSæœåŠ¡èƒ½åŠ›çš„é‡è¦æŒ‡æ ‡ä¹‹ä¸€ã€‚SaaSäº§å“éœ€è¦åŒæ—¶å®¹çº³å¤šä¸ªç§Ÿæˆ·çš„æ•°æ®ï¼ŒåŒæ—¶è¿˜éœ€è¦ä¿è¯å„ç§Ÿæˆ·ä¹‹é—´çš„æ•°æ®ä¸ä¼šç›¸äº’å¹²æ‰°ï¼Œä¿è¯ç§Ÿæˆ·ä¸­çš„ç”¨æˆ·èƒ½å¤ŸæŒ‰æœŸæœ›ç´¢å¼•åˆ°æ­£ç¡®çš„æ•°æ®ï¼Œå¤šç§Ÿæˆ·ç»„ä»¶æ˜¯ä½ å¿…é¡»è¦è§£å†³çš„ä¸€ä¸ªé—®é¢˜ã€‚å…¶ä½™çš„ç»„ä»¶éƒ½å°†å›´ç»•æ­¤ç»„ä»¶å±•å¼€å„è‡ªçš„ä¸šåŠ¡ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;é¦–å…ˆäº‘æœåŠ¡å™¨å¯ä»¥åˆ†ä¸º&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;IaaSï¼šåŸºç¡€è®¾æ–½å³æœåŠ¡ï¼Œ&lt;code&gt;Infrastructure
      
    
    </summary>
    
      <category term="Serve" scheme="https://zhanghao-web.github.io/categories/Serve/"/>
    
    
      <category term="æœåŠ¡ç«¯" scheme="https://zhanghao-web.github.io/tags/%E6%9C%8D%E5%8A%A1%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>vue.config.jsåŸºæœ¬é…ç½®</title>
    <link href="https://zhanghao-web.github.io/2020/04/01/Vue/vue-config-js%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE/"/>
    <id>https://zhanghao-web.github.io/2020/04/01/Vue/vue-config-jsåŸºæœ¬é…ç½®/</id>
    <published>2020-04-01T08:06:12.000Z</published>
    <updated>2020-04-01T08:07:04.000Z</updated>
    
    <content type="html"><![CDATA[<pre><code class="js">// vue.config.js åŸºæœ¬é…ç½®æ–¹æ³•module.exports = {  // é¡¹ç›®éƒ¨ç½²çš„åŸºç¡€è·¯å¾„  // æˆ‘ä»¬é»˜è®¤å‡è®¾ä½ çš„åº”ç”¨å°†ä¼šéƒ¨ç½²åœ¨åŸŸåçš„æ ¹éƒ¨ï¼Œ  // æ¯”å¦‚ https://www.my-app.com/  // å¦‚æœä½ çš„åº”ç”¨æ—¶éƒ¨ç½²åœ¨ä¸€ä¸ªå­è·¯å¾„ä¸‹ï¼Œé‚£ä¹ˆä½ éœ€è¦åœ¨è¿™é‡Œ  // æŒ‡å®šå­è·¯å¾„ã€‚æ¯”å¦‚ï¼Œå¦‚æœä½ çš„åº”ç”¨éƒ¨ç½²åœ¨  // https://www.foobar.com/my-app/  // é‚£ä¹ˆå°†è¿™ä¸ªå€¼æ”¹ä¸º `/my-app/`  // åŸºæœ¬è·¯å¾„ baseURLå·²ç»è¿‡æ—¶  publicPath: &#39;./&#39;,    // æ‰“åŒ…é¡¹ç›®æ—¶æ„å»ºçš„æ–‡ä»¶ç›®å½•ï¼Œç”¨æ³•ä¸webpackæœ¬èº«çš„output.pathä¸€è‡´  outputDir: &#39;dist&#39;,   // é™æ€èµ„æºç›®å½• (js, css, img, fonts)  assetsDir: &#39;assets&#39;,  // eslint-loader æ˜¯å¦åœ¨ä¿å­˜çš„æ—¶å€™æ£€æŸ¥ï¼Œç¼–è¯‘ä¸è§„èŒƒæ—¶ï¼Œè®¾ä¸ºtrueåœ¨å‘½ä»¤è¡Œä¸­è­¦å‘Šï¼Œè‹¥è®¾ä¸ºerroråˆ™ä¸ä»…è­¦å‘Šï¼Œå¹¶ä¸”ç¼–è¯‘å¤±è´¥  lintOnSave: true,  // è°ƒæ•´å†…éƒ¨çš„ webpack é…ç½®ã€‚æŸ¥é˜… https://github.com/vuejs/vue-docs-zh-cn/blob/master/vue-cli/webpack.md  chainWebpack: () =&gt; {},  configureWebpack: () =&gt; {},  // vue-loader é…ç½®é¡¹ https://vue-loader.vuejs.org/en/options.html   vueLoader: {},  // ç”Ÿäº§ç¯å¢ƒæ˜¯å¦ç”Ÿæˆ sourceMap æ–‡ä»¶ï¼Œé»˜è®¤trueï¼Œè‹¥ä¸éœ€è¦ç”Ÿäº§ç¯å¢ƒçš„sourceMapï¼Œå¯ä»¥è®¾ç½®ä¸ºfalseï¼ŒåŠ é€Ÿç”Ÿäº§ç¯å¢ƒçš„æ„å»º  productionSourceMap: true,  // cssç›¸å…³é…ç½®  css: {   // æ˜¯å¦ä½¿ç”¨cssåˆ†ç¦»æ’ä»¶ ExtractTextPluginï¼Œé‡‡ç”¨ç‹¬ç«‹æ ·å¼æ–‡ä»¶è½½å…¥ï¼Œä¸é‡‡ç”¨&lt;style&gt;æ–¹å¼å†…è”è‡³htmlæ–‡ä»¶ä¸­   extract: true,   // æ˜¯å¦åœ¨æ„å»ºæ ·å¼åœ°å›¾ï¼Œfalseå°†æé«˜æ„å»ºé€Ÿåº¦   sourceMap: false,   // cssé¢„è®¾å™¨é…ç½®é¡¹   loaderOptions: {},   // å¯ç”¨ CSS modules for all css / pre-processor files.   // è¿™ä¸ªé€‰é¡¹ä¸ä¼šå½±å“ `*.vue` æ–‡ä»¶   modules: false  },  // åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ä¸º Babel å’Œ TypeScript ä½¿ç”¨ `thread-loader`  // åœ¨å¤šæ ¸æœºå™¨ä¸‹ä¼šé»˜è®¤å¼€å¯ã€‚  parallel: require(&#39;os&#39;).cpus().length &gt; 1,  // æ˜¯å¦å¯ç”¨dll See https://github.com/vuejs/vue-cli/blob/dev/docs/cli-service.md#dll-mode  dll: false,  // PWA æ’ä»¶ç›¸å…³é…ç½® see https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-pwa  pwa: {},  // webpack-dev-server ç›¸å…³é…ç½®  devServer: {   open: process.platform === &#39;darwin&#39;,   host: &#39;0.0.0.0&#39;,//å¦‚æœæ˜¯çœŸæœºæµ‹è¯•ï¼Œå°±ä½¿ç”¨è¿™ä¸ªIP   port: 1234,   https: false,   hotOnly: false,   proxy: null, // è®¾ç½®ä»£ç†   // proxy: {   //     &#39;/api&#39;: {   //         target: &#39;&lt;url&gt;&#39;,   //         ws: true,   //         changOrigin: true   //     }   // },   before: app =&gt; {}  },  // ç¬¬ä¸‰æ–¹æ’ä»¶é…ç½®  pluginOptions: {   // ...  } }</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;pre&gt;&lt;code class=&quot;js&quot;&gt;// vue.config.js åŸºæœ¬é…ç½®æ–¹æ³•
module.exports = {
  // é¡¹ç›®éƒ¨ç½²çš„åŸºç¡€è·¯å¾„
  // æˆ‘ä»¬é»˜è®¤å‡è®¾ä½ çš„åº”ç”¨å°†ä¼šéƒ¨ç½²åœ¨åŸŸåçš„æ ¹éƒ¨ï¼Œ
  // æ¯”å¦‚ https://www.my-app.com/
 
      
    
    </summary>
    
      <category term="Vue" scheme="https://zhanghao-web.github.io/categories/Vue/"/>
    
    
      <category term="Vue" scheme="https://zhanghao-web.github.io/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>&lt;æ·±å…¥ç†è§£TypeScriptè¯»ä¹¦ç¬”è®°&gt;ï¼ˆä¸€ï¼‰</title>
    <link href="https://zhanghao-web.github.io/2020/03/25/Ts/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3TypeScript%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-%EF%BC%88%E4%B8%80%EF%BC%89/"/>
    <id>https://zhanghao-web.github.io/2020/03/25/Ts/æ·±å…¥ç†è§£TypeScriptè¯»ä¹¦ç¬”è®°-ï¼ˆä¸€ï¼‰/</id>
    <published>2020-03-25T13:07:50.000Z</published>
    <updated>2020-03-25T14:41:04.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ä¹¦æœ¬åœ°å€"><a href="#ä¹¦æœ¬åœ°å€" class="headerlink" title="ä¹¦æœ¬åœ°å€"></a>ä¹¦æœ¬åœ°å€</h1><p><a href="https://jkchao.github.io/typescript-book-chinese/#why" target="_blank" rel="noopener">https://jkchao.github.io/typescript-book-chinese/#why</a></p><h2 id="ä»€ä¹ˆæ˜¯TypeScript-ä¸ºä»€ä¹ˆè¦ä½¿ç”¨TypeScript"><a href="#ä»€ä¹ˆæ˜¯TypeScript-ä¸ºä»€ä¹ˆè¦ä½¿ç”¨TypeScript" class="headerlink" title="ä»€ä¹ˆæ˜¯TypeScript,ä¸ºä»€ä¹ˆè¦ä½¿ç”¨TypeScript?"></a>ä»€ä¹ˆæ˜¯TypeScript,ä¸ºä»€ä¹ˆè¦ä½¿ç”¨TypeScript?</h2><p>æ ¹æ®TypeScriptå®˜ç½‘ä¸­çš„ä»‹ç»ï¼ŒTypeScript - JavaScript the scales (å±äºJsçš„è¶…é›†)ï¼ŒTså‘å±•è‡³ä»Šå·²ç»æ˜¯å¾ˆå¤šå¤§å‹é¡¹ç›®çš„æ ‡é…ï¼Œå®ƒæä¾›çš„é™æ€ç±»å‹æ£€æŸ¥ï¼Œå¤§å¤§çš„æé«˜äº†ä»£ç çš„å¯ç»´æŠ¤æ€§åŠå¯è¯»æ€§ï¼›åŒæ—¶æä¾›æœ€æ–°å’Œä¸æ–­å‘å±•çš„Javascriptç‰¹æ€§ï¼Œè®©æˆ‘ä»¬èƒ½å»ºç«‹æ›´åŠ å¼ºå£®çš„ç»„ä»¶ã€‚</p><h2 id="ä»tsconfig-jsoné…ç½®çœ‹tsæ•´ä½“"><a href="#ä»tsconfig-jsoné…ç½®çœ‹tsæ•´ä½“" class="headerlink" title="ä»tsconfig.jsoné…ç½®çœ‹tsæ•´ä½“"></a>ä»tsconfig.jsoné…ç½®çœ‹tsæ•´ä½“</h2><h3 id="åˆ›å»ºtsconfig-jsonæ–‡ä»¶ï¼Œé…ç½®ä¿¡æ¯"><a href="#åˆ›å»ºtsconfig-jsonæ–‡ä»¶ï¼Œé…ç½®ä¿¡æ¯" class="headerlink" title="åˆ›å»ºtsconfig.jsonæ–‡ä»¶ï¼Œé…ç½®ä¿¡æ¯"></a>åˆ›å»ºtsconfig.jsonæ–‡ä»¶ï¼Œé…ç½®ä¿¡æ¯</h3><p>é€šè¿‡compilerOptionæ¥å®šåˆ¶ä½ çš„ç¼–è¯‘é€‰é¡¹</p><pre><code class="json">{  &quot;compilerOptions&quot;: {    /* åŸºæœ¬é€‰é¡¹ */    &quot;target&quot;: &quot;es5&quot;,                       // æŒ‡å®š ECMAScript ç›®æ ‡ç‰ˆæœ¬: &#39;ES3&#39; (default), &#39;ES5&#39;, &#39;ES2015&#39;, &#39;ES2016&#39;, &#39;ES2017&#39;, or &#39;ESNEXT&#39;    &quot;module&quot;: &quot;commonjs&quot;,                  // æŒ‡å®šä½¿ç”¨æ¨¡å—: &#39;commonjs&#39;, &#39;amd&#39;, &#39;system&#39;, &#39;umd&#39; or &#39;es2015&#39;    &quot;lib&quot;: [],                             // æŒ‡å®šè¦åŒ…å«åœ¨ç¼–è¯‘ä¸­çš„åº“æ–‡ä»¶    &quot;allowJs&quot;: true,                       // å…è®¸ç¼–è¯‘ javascript æ–‡ä»¶    &quot;checkJs&quot;: true,                       // æŠ¥å‘Š javascript æ–‡ä»¶ä¸­çš„é”™è¯¯    &quot;jsx&quot;: &quot;preserve&quot;,                     // æŒ‡å®š jsx ä»£ç çš„ç”Ÿæˆ: &#39;preserve&#39;, &#39;react-native&#39;, or &#39;react&#39;    &quot;declaration&quot;: true,                   // ç”Ÿæˆç›¸åº”çš„ &#39;.d.ts&#39; æ–‡ä»¶    &quot;sourceMap&quot;: true,                     // ç”Ÿæˆç›¸åº”çš„ &#39;.map&#39; æ–‡ä»¶    &quot;outFile&quot;: &quot;./&quot;,                       // å°†è¾“å‡ºæ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ªæ–‡ä»¶    &quot;outDir&quot;: &quot;./&quot;,                        // æŒ‡å®šè¾“å‡ºç›®å½•    &quot;rootDir&quot;: &quot;./&quot;,                       // ç”¨æ¥æ§åˆ¶è¾“å‡ºç›®å½•ç»“æ„ --outDir.    &quot;removeComments&quot;: true,                // åˆ é™¤ç¼–è¯‘åçš„æ‰€æœ‰çš„æ³¨é‡Š    &quot;noEmit&quot;: true,                        // ä¸ç”Ÿæˆè¾“å‡ºæ–‡ä»¶    &quot;importHelpers&quot;: true,                 // ä» tslib å¯¼å…¥è¾…åŠ©å·¥å…·å‡½æ•°    &quot;isolatedModules&quot;: true,               // å°†æ¯ä¸ªæ–‡ä»¶åšä¸ºå•ç‹¬çš„æ¨¡å— ï¼ˆä¸ &#39;ts.transpileModule&#39; ç±»ä¼¼ï¼‰.    /* ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥é€‰é¡¹ */    &quot;strict&quot;: true,                        // å¯ç”¨æ‰€æœ‰ä¸¥æ ¼ç±»å‹æ£€æŸ¥é€‰é¡¹    &quot;noImplicitAny&quot;: true,                 // åœ¨è¡¨è¾¾å¼å’Œå£°æ˜ä¸Šæœ‰éšå«çš„ anyç±»å‹æ—¶æŠ¥é”™    &quot;strictNullChecks&quot;: true,              // å¯ç”¨ä¸¥æ ¼çš„ null æ£€æŸ¥    &quot;noImplicitThis&quot;: true,                // å½“ this è¡¨è¾¾å¼å€¼ä¸º any ç±»å‹çš„æ—¶å€™ï¼Œç”Ÿæˆä¸€ä¸ªé”™è¯¯    &quot;alwaysStrict&quot;: true,                  // ä»¥ä¸¥æ ¼æ¨¡å¼æ£€æŸ¥æ¯ä¸ªæ¨¡å—ï¼Œå¹¶åœ¨æ¯ä¸ªæ–‡ä»¶é‡ŒåŠ å…¥ &#39;use strict&#39;    /* é¢å¤–çš„æ£€æŸ¥ */    &quot;noUnusedLocals&quot;: true,                // æœ‰æœªä½¿ç”¨çš„å˜é‡æ—¶ï¼ŒæŠ›å‡ºé”™è¯¯    &quot;noUnusedParameters&quot;: true,            // æœ‰æœªä½¿ç”¨çš„å‚æ•°æ—¶ï¼ŒæŠ›å‡ºé”™è¯¯    &quot;noImplicitReturns&quot;: true,             // å¹¶ä¸æ˜¯æ‰€æœ‰å‡½æ•°é‡Œçš„ä»£ç éƒ½æœ‰è¿”å›å€¼æ—¶ï¼ŒæŠ›å‡ºé”™è¯¯    &quot;noFallthroughCasesInSwitch&quot;: true,    // æŠ¥å‘Š switch è¯­å¥çš„ fallthrough é”™è¯¯ã€‚ï¼ˆå³ï¼Œä¸å…è®¸ switch çš„ case è¯­å¥è´¯ç©¿ï¼‰    /* æ¨¡å—è§£æé€‰é¡¹ */    &quot;moduleResolution&quot;: &quot;node&quot;,            // é€‰æ‹©æ¨¡å—è§£æç­–ç•¥ï¼š &#39;node&#39; (Node.js) or &#39;classic&#39; (TypeScript pre-1.6)    &quot;baseUrl&quot;: &quot;./&quot;,                       // ç”¨äºè§£æéç›¸å¯¹æ¨¡å—åç§°çš„åŸºç›®å½•    &quot;paths&quot;: {},                           // æ¨¡å—ååˆ°åŸºäº baseUrl çš„è·¯å¾„æ˜ å°„çš„åˆ—è¡¨    &quot;rootDirs&quot;: [],                        // æ ¹æ–‡ä»¶å¤¹åˆ—è¡¨ï¼Œå…¶ç»„åˆå†…å®¹è¡¨ç¤ºé¡¹ç›®è¿è¡Œæ—¶çš„ç»“æ„å†…å®¹    &quot;typeRoots&quot;: [],                       // åŒ…å«ç±»å‹å£°æ˜çš„æ–‡ä»¶åˆ—è¡¨    &quot;types&quot;: [],                           // éœ€è¦åŒ…å«çš„ç±»å‹å£°æ˜æ–‡ä»¶ååˆ—è¡¨    &quot;allowSyntheticDefaultImports&quot;: true,  // å…è®¸ä»æ²¡æœ‰è®¾ç½®é»˜è®¤å¯¼å‡ºçš„æ¨¡å—ä¸­é»˜è®¤å¯¼å…¥ã€‚    /* Source Map Options */    &quot;sourceRoot&quot;: &quot;./&quot;,                    // æŒ‡å®šè°ƒè¯•å™¨åº”è¯¥æ‰¾åˆ° TypeScript æ–‡ä»¶è€Œä¸æ˜¯æºæ–‡ä»¶çš„ä½ç½®    &quot;mapRoot&quot;: &quot;./&quot;,                       // æŒ‡å®šè°ƒè¯•å™¨åº”è¯¥æ‰¾åˆ°æ˜ å°„æ–‡ä»¶è€Œä¸æ˜¯ç”Ÿæˆæ–‡ä»¶çš„ä½ç½®    &quot;inlineSourceMap&quot;: true,               // ç”Ÿæˆå•ä¸ª soucemaps æ–‡ä»¶ï¼Œè€Œä¸æ˜¯å°† sourcemaps ç”Ÿæˆä¸åŒçš„æ–‡ä»¶    &quot;inlineSources&quot;: true,                 // å°†ä»£ç ä¸ sourcemaps ç”Ÿæˆåˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œè¦æ±‚åŒæ—¶è®¾ç½®äº† --inlineSourceMap æˆ– --sourceMap å±æ€§    /* å…¶ä»–é€‰é¡¹ */    &quot;experimentalDecorators&quot;: true,        // å¯ç”¨è£…é¥°å™¨    &quot;emitDecoratorMetadata&quot;: true          // ä¸ºè£…é¥°å™¨æä¾›å…ƒæ•°æ®çš„æ”¯æŒ  }}</code></pre><h3 id="Tsç¼–è¯‘ç”ŸæˆJsæ–‡ä»¶"><a href="#Tsç¼–è¯‘ç”ŸæˆJsæ–‡ä»¶" class="headerlink" title="Tsç¼–è¯‘ç”ŸæˆJsæ–‡ä»¶"></a>Tsç¼–è¯‘ç”ŸæˆJsæ–‡ä»¶</h3><p>åœ¨ç›®å½•ä¸‹è¿è¡Œ <code>tsc</code>å‘½ä»¤ï¼Œä¼šåœ¨å½“å‰ç›®å½•æˆ–è€…çˆ¶çº§ç›®å½•ä¸‹æ‰¾<code>tsconfig.json</code>æ–‡ä»¶<br>è¿è¡Œ <code>tsc -p ./path-to-project-directory</code> ã€‚å½“ç„¶ï¼Œè¿™ä¸ªè·¯å¾„å¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›¸å¯¹äºå½“å‰ç›®å½•çš„ç›¸å¯¹è·¯å¾„ã€‚<br>ä½¿ç”¨ <code>tsc -w</code> æ¥å¯ç”¨ TypeScript ç¼–è¯‘å™¨çš„è§‚æµ‹æ¨¡å¼ï¼Œåœ¨æ£€æµ‹åˆ°æ–‡ä»¶æ”¹åŠ¨ä¹‹åï¼Œå®ƒå°†é‡æ–°ç¼–è¯‘ã€‚</p><h3 id="æ˜¾ç¤ºçš„æŒ‡å®šç¼–è¯‘æ–‡ä»¶"><a href="#æ˜¾ç¤ºçš„æŒ‡å®šç¼–è¯‘æ–‡ä»¶" class="headerlink" title="æ˜¾ç¤ºçš„æŒ‡å®šç¼–è¯‘æ–‡ä»¶"></a>æ˜¾ç¤ºçš„æŒ‡å®šç¼–è¯‘æ–‡ä»¶</h3><pre><code class="js">{  &quot;files&quot;: [    &quot;./some/file.ts&quot;  ]}</code></pre><h2 id="å£°æ˜ç©ºé—´"><a href="#å£°æ˜ç©ºé—´" class="headerlink" title="å£°æ˜ç©ºé—´"></a>å£°æ˜ç©ºé—´</h2><h3 id="ç±»å‹å£°æ˜ç©ºé—´ï¼ˆclass-interface-typeï¼‰"><a href="#ç±»å‹å£°æ˜ç©ºé—´ï¼ˆclass-interface-typeï¼‰" class="headerlink" title="ç±»å‹å£°æ˜ç©ºé—´ï¼ˆclass interface typeï¼‰"></a>ç±»å‹å£°æ˜ç©ºé—´ï¼ˆclass interface typeï¼‰</h3><pre><code class="js">class Foo{}interface Bar{}type Bas{}</code></pre><p><strong>æ³¨æ„ï¼š</strong>å°½ç®¡ä½ å®šä¹‰äº† interface Barï¼Œå´å¹¶ä¸èƒ½å¤ŸæŠŠå®ƒä½œä¸ºä¸€ä¸ªå˜é‡æ¥ä½¿ç”¨ï¼Œå› ä¸ºå®ƒæ²¡æœ‰å®šä¹‰åœ¨å˜é‡å£°æ˜ç©ºé—´ä¸­ã€‚</p><h3 id="å˜é‡å£°æ˜ç©ºé—´"><a href="#å˜é‡å£°æ˜ç©ºé—´" class="headerlink" title="å˜é‡å£°æ˜ç©ºé—´"></a>å˜é‡å£°æ˜ç©ºé—´</h3><pre><code class="js">class Foo {}const someOne = Fooconst someOneVar = 123</code></pre><p><strong>æ³¨æ„</strong> ä¸€äº›ç”¨ var å£°æ˜çš„å˜é‡ï¼Œä¹Ÿåªèƒ½åœ¨å˜é‡å£°æ˜ç©ºé—´ä½¿ç”¨ï¼Œä¸èƒ½ç”¨ä½œç±»å‹æ³¨è§£ã€‚</p><a id="more"></a><h2 id="æ¨¡å—"><a href="#æ¨¡å—" class="headerlink" title="æ¨¡å—"></a>æ¨¡å—</h2><h3 id="å…¨å±€æ¨¡å—"><a href="#å…¨å±€æ¨¡å—" class="headerlink" title="å…¨å±€æ¨¡å—"></a>å…¨å±€æ¨¡å—</h3><p>ç±»ä¼¼jsçš„ä¸­å…¨å±€å¯¹è±¡ï¼Œæ˜¯ä¸€ç§ä¸å®‰å…¨çš„æ–¹å¼ï¼Œå¯ä½¿ç”¨æ–‡ä»¶æ¨¡å—ä»£æ›¿</p><pre><code class="js">const Foo = 123const Bar = Foo</code></pre><h3 id="æ–‡ä»¶æ¨¡å—"><a href="#æ–‡ä»¶æ¨¡å—" class="headerlink" title="æ–‡ä»¶æ¨¡å—"></a>æ–‡ä»¶æ¨¡å—</h3><p>æ–‡ä»¶æ¨¡å—ä¹Ÿå¯ä»¥å«åšå¤–éƒ¨æ¨¡å—ï¼Œé€šè¿‡import,exportå¯¼å…¥å¯¼å‡ºï¼Œä»è€Œæ‰èƒ½ä½¿ç”¨</p><pre><code class="js">//foo.jsexport const foo = 123//bar.jsimport {foo} from &#39;./foo.js&#39;const bar = foo</code></pre><h4 id="æ–‡ä»¶æ¨¡å—è¯¦æƒ…"><a href="#æ–‡ä»¶æ¨¡å—è¯¦æƒ…" class="headerlink" title="æ–‡ä»¶æ¨¡å—è¯¦æƒ…"></a>æ–‡ä»¶æ¨¡å—è¯¦æƒ…</h4><h5 id="ESæ¨¡å—è¯­æ³•"><a href="#ESæ¨¡å—è¯­æ³•" class="headerlink" title="ESæ¨¡å—è¯­æ³•"></a>ESæ¨¡å—è¯­æ³•</h5><p>å¯¼å‡º</p><pre><code class="js">//ä½¿ç”¨ export å…³é”®å­—å¯¼å‡ºä¸€ä¸ªå˜é‡æˆ–ç±»å‹export const someVar = 123;export type someType = {  foo: string;};// export çš„å†™æ³•é™¤äº†ä¸Šé¢è¿™ç§ï¼Œè¿˜æœ‰å¦å¤–ä¸€ç§ï¼šconst someVar = 123;type someType = {  type: string;};export { someVar, someType };// å¯ä»¥ç”¨é‡å‘½åå˜é‡çš„æ–¹å¼å¯¼å‡ºï¼šconst someVar = 123;export { someVar as aDifferentName };</code></pre><p>å¯¼å…¥</p><pre><code class="js">//ä½¿ç”¨ import å…³é”®å­—å¯¼å…¥ä¸€ä¸ªå˜é‡æˆ–è€…æ˜¯ä¸€ä¸ªç±»å‹ï¼šimport { someVar, someType } from &#39;./foo&#39;;//é€šè¿‡é‡å‘½åçš„æ–¹å¼å¯¼å…¥å˜é‡æˆ–è€…ç±»å‹ï¼šimport { someVar as aDifferentName } from &#39;./foo&#39;//å¯ä»¥ä½¿ç”¨æ•´ä½“åŠ è½½ï¼Œå³ç”¨æ˜Ÿå·ï¼ˆ*ï¼‰æŒ‡å®šä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€æœ‰è¾“å‡ºå€¼éƒ½åŠ è½½åœ¨è¿™ä¸ªå¯¹è±¡ä¸Šé¢ï¼š// ä½ å¯ä»¥ä½¿ç”¨ `foo.someVar` å’Œ `foo.someType` ä»¥åŠå…¶ä»–ä»»ä½•ä» `foo` å¯¼å‡ºçš„å˜é‡æˆ–è€…ç±»å‹import * as foo from &#39;./foo&#39;;//åªå¯¼å…¥æ¨¡å—ï¼šimport &#39;core-js&#39;; // ä¸€ä¸ªæ™®é€šçš„ polyfill åº“//ä»å…¶ä»–æ¨¡å—å¯¼å…¥åæ•´ä½“å¯¼å‡ºï¼šexport * from &#39;./foo&#39;;//ä»å…¶ä»–æ¨¡å—å¯¼å…¥åï¼Œéƒ¨åˆ†å¯¼å‡ºï¼šexport { someVar } from &#39;./foo&#39;;//é€šè¿‡é‡å‘½åï¼Œéƒ¨åˆ†å¯¼å‡ºä»å¦ä¸€ä¸ªæ¨¡å—å¯¼å…¥çš„é¡¹ç›®ï¼šexport { someVar as aDifferentName } from &#39;./foo&#39;;//é»˜è®¤å¯¼å…¥ï¼å¯¼å‡º,ä½¿ç”¨ export default// some varexport default (someVar = 123);//å¯¼å…¥ä½¿ç”¨ import someName from &#39;someModule&#39; è¯­æ³•ï¼ˆä½ å¯ä»¥æ ¹æ®éœ€è¦ä¸ºå¯¼å…¥å‘½åï¼‰ï¼šimport someLocalNameForThisFile from &#39;./foo&#39;;</code></pre><h5 id="æ¨¡å—è·¯å¾„"><a href="#æ¨¡å—è·¯å¾„" class="headerlink" title="æ¨¡å—è·¯å¾„"></a>æ¨¡å—è·¯å¾„</h5><p>è¿™é‡Œå­˜åœ¨ä¸¤ç§æˆªç„¶ä¸åŒçš„æ¨¡å—ï¼š</p><blockquote><p>ç›¸å¯¹æ¨¡å—è·¯å¾„ï¼ˆè·¯å¾„ä»¥ . å¼€å¤´ï¼Œä¾‹å¦‚ï¼š./someFile æˆ–è€… ../../someFolder/someFile ç­‰ï¼‰ï¼›<br>å…¶ä»–åŠ¨æ€æŸ¥æ‰¾æ¨¡å—ï¼ˆå¦‚ï¼šcore-jsï¼Œtypestyleï¼Œreact æˆ–è€…ç”šè‡³æ˜¯ react/core ç­‰ï¼‰ã€‚</p></blockquote><h5 id="ä»€ä¹ˆæ˜¯-place"><a href="#ä»€ä¹ˆæ˜¯-place" class="headerlink" title="ä»€ä¹ˆæ˜¯ place"></a>ä»€ä¹ˆæ˜¯ place</h5><p>è¿™ä¸ªç‚¹æŒ‡çš„åº”è¯¥æ˜¯ä¸€ä¸ªæ¨¡å—æŸ¥æ‰¾çš„è¿‡ç¨‹</p><h5 id="é‡å†™ç±»å‹çš„åŠ¨æ€æŸ¥æ‰¾"><a href="#é‡å†™ç±»å‹çš„åŠ¨æ€æŸ¥æ‰¾" class="headerlink" title="é‡å†™ç±»å‹çš„åŠ¨æ€æŸ¥æ‰¾"></a>é‡å†™ç±»å‹çš„åŠ¨æ€æŸ¥æ‰¾</h5><p>åœ¨é¡¹ç›®é‡Œï¼Œå¯ä»¥é€šè¿‡<code>declare module &#39;somePath&#39;</code> å£°æ˜ä¸€ä¸ªå…¨å±€æ¨¡å—çš„æ–¹å¼ï¼Œæ¥è§£å†³æŸ¥æ‰¾æ¨¡å—è·¯å¾„çš„é—®é¢˜ã€‚</p><h5 id="import-require-ä»…ä»…æ˜¯å¯¼å…¥ç±»å‹"><a href="#import-require-ä»…ä»…æ˜¯å¯¼å…¥ç±»å‹" class="headerlink" title="import/require ä»…ä»…æ˜¯å¯¼å…¥ç±»å‹"></a>import/require ä»…ä»…æ˜¯å¯¼å…¥ç±»å‹</h5><p>å®ƒå®é™…ä¸Šåªåšäº†ä¸¤ä»¶äº‹ï¼š</p><ul><li>å¯¼å…¥ foo æ¨¡å—çš„æ‰€æœ‰ç±»å‹ä¿¡æ¯ï¼›</li><li>ç¡®å®š foo æ¨¡å—è¿è¡Œæ—¶çš„ä¾èµ–å…³ç³»ã€‚</li></ul><h2 id="å‘½åç©ºé—´"><a href="#å‘½åç©ºé—´" class="headerlink" title="å‘½åç©ºé—´"></a>å‘½åç©ºé—´</h2><p>åœ¨ JavaScript å¯ä»¥ä½¿ç”¨åŒ¿åå‡½æ•°åˆ›å»ºä¸€ä¸ªå‘½åç©ºé—´</p><pre><code class="js">(function(something) {  something.foo = 123;})(something || (something = {}));</code></pre><p>TypeScript æä¾›äº† namespace å…³é”®å­—æ¥æè¿°è¿™ç§åˆ†ç»„</p><pre><code class="js">namespace Utility {  export function log(msg) {    console.log(msg);  }  export function error(msg) {    console.log(msg);  }}// usageUtility.log(&#39;Call me&#39;);Utility.error(&#39;maybe&#39;);</code></pre><h2 id="åŠ¨æ€å¯¼å…¥è¡¨è¾¾å¼"><a href="#åŠ¨æ€å¯¼å…¥è¡¨è¾¾å¼" class="headerlink" title="åŠ¨æ€å¯¼å…¥è¡¨è¾¾å¼"></a>åŠ¨æ€å¯¼å…¥è¡¨è¾¾å¼</h2><p>åŠ¨æ€å¯¼å…¥è¡¨è¾¾å¼æ˜¯ ECMAScript çš„ä¸€ä¸ªæ–°åŠŸèƒ½ï¼Œå®ƒå…è®¸ä½ åœ¨ç¨‹åºçš„ä»»æ„ä½ç½®å¼‚æ­¥åŠ è½½ä¸€ä¸ªæ¨¡å—  </p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;ä¹¦æœ¬åœ°å€&quot;&gt;&lt;a href=&quot;#ä¹¦æœ¬åœ°å€&quot; class=&quot;headerlink&quot; title=&quot;ä¹¦æœ¬åœ°å€&quot;&gt;&lt;/a&gt;ä¹¦æœ¬åœ°å€&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;https://jkchao.github.io/typescript-book-chinese/#why&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://jkchao.github.io/typescript-book-chinese/#why&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;ä»€ä¹ˆæ˜¯TypeScript-ä¸ºä»€ä¹ˆè¦ä½¿ç”¨TypeScript&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯TypeScript-ä¸ºä»€ä¹ˆè¦ä½¿ç”¨TypeScript&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯TypeScript,ä¸ºä»€ä¹ˆè¦ä½¿ç”¨TypeScript?&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯TypeScript,ä¸ºä»€ä¹ˆè¦ä½¿ç”¨TypeScript?&lt;/h2&gt;&lt;p&gt;æ ¹æ®TypeScriptå®˜ç½‘ä¸­çš„ä»‹ç»ï¼ŒTypeScript - JavaScript the scales (å±äºJsçš„è¶…é›†)ï¼ŒTså‘å±•è‡³ä»Šå·²ç»æ˜¯å¾ˆå¤šå¤§å‹é¡¹ç›®çš„æ ‡é…ï¼Œå®ƒæä¾›çš„é™æ€ç±»å‹æ£€æŸ¥ï¼Œå¤§å¤§çš„æé«˜äº†ä»£ç çš„å¯ç»´æŠ¤æ€§åŠå¯è¯»æ€§ï¼›åŒæ—¶æä¾›æœ€æ–°å’Œä¸æ–­å‘å±•çš„Javascriptç‰¹æ€§ï¼Œè®©æˆ‘ä»¬èƒ½å»ºç«‹æ›´åŠ å¼ºå£®çš„ç»„ä»¶ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ä»tsconfig-jsoné…ç½®çœ‹tsæ•´ä½“&quot;&gt;&lt;a href=&quot;#ä»tsconfig-jsoné…ç½®çœ‹tsæ•´ä½“&quot; class=&quot;headerlink&quot; title=&quot;ä»tsconfig.jsoné…ç½®çœ‹tsæ•´ä½“&quot;&gt;&lt;/a&gt;ä»tsconfig.jsoné…ç½®çœ‹tsæ•´ä½“&lt;/h2&gt;&lt;h3 id=&quot;åˆ›å»ºtsconfig-jsonæ–‡ä»¶ï¼Œé…ç½®ä¿¡æ¯&quot;&gt;&lt;a href=&quot;#åˆ›å»ºtsconfig-jsonæ–‡ä»¶ï¼Œé…ç½®ä¿¡æ¯&quot; class=&quot;headerlink&quot; title=&quot;åˆ›å»ºtsconfig.jsonæ–‡ä»¶ï¼Œé…ç½®ä¿¡æ¯&quot;&gt;&lt;/a&gt;åˆ›å»ºtsconfig.jsonæ–‡ä»¶ï¼Œé…ç½®ä¿¡æ¯&lt;/h3&gt;&lt;p&gt;é€šè¿‡compilerOptionæ¥å®šåˆ¶ä½ çš„ç¼–è¯‘é€‰é¡¹&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;json&quot;&gt;{
  &amp;quot;compilerOptions&amp;quot;: {

    /* åŸºæœ¬é€‰é¡¹ */
    &amp;quot;target&amp;quot;: &amp;quot;es5&amp;quot;,                       // æŒ‡å®š ECMAScript ç›®æ ‡ç‰ˆæœ¬: &amp;#39;ES3&amp;#39; (default), &amp;#39;ES5&amp;#39;, &amp;#39;ES2015&amp;#39;, &amp;#39;ES2016&amp;#39;, &amp;#39;ES2017&amp;#39;, or &amp;#39;ESNEXT&amp;#39;
    &amp;quot;module&amp;quot;: &amp;quot;commonjs&amp;quot;,                  // æŒ‡å®šä½¿ç”¨æ¨¡å—: &amp;#39;commonjs&amp;#39;, &amp;#39;amd&amp;#39;, &amp;#39;system&amp;#39;, &amp;#39;umd&amp;#39; or &amp;#39;es2015&amp;#39;
    &amp;quot;lib&amp;quot;: [],                             // æŒ‡å®šè¦åŒ…å«åœ¨ç¼–è¯‘ä¸­çš„åº“æ–‡ä»¶
    &amp;quot;allowJs&amp;quot;: true,                       // å…è®¸ç¼–è¯‘ javascript æ–‡ä»¶
    &amp;quot;checkJs&amp;quot;: true,                       // æŠ¥å‘Š javascript æ–‡ä»¶ä¸­çš„é”™è¯¯
    &amp;quot;jsx&amp;quot;: &amp;quot;preserve&amp;quot;,                     // æŒ‡å®š jsx ä»£ç çš„ç”Ÿæˆ: &amp;#39;preserve&amp;#39;, &amp;#39;react-native&amp;#39;, or &amp;#39;react&amp;#39;
    &amp;quot;declaration&amp;quot;: true,                   // ç”Ÿæˆç›¸åº”çš„ &amp;#39;.d.ts&amp;#39; æ–‡ä»¶
    &amp;quot;sourceMap&amp;quot;: true,                     // ç”Ÿæˆç›¸åº”çš„ &amp;#39;.map&amp;#39; æ–‡ä»¶
    &amp;quot;outFile&amp;quot;: &amp;quot;./&amp;quot;,                       // å°†è¾“å‡ºæ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ªæ–‡ä»¶
    &amp;quot;outDir&amp;quot;: &amp;quot;./&amp;quot;,                        // æŒ‡å®šè¾“å‡ºç›®å½•
    &amp;quot;rootDir&amp;quot;: &amp;quot;./&amp;quot;,                       // ç”¨æ¥æ§åˆ¶è¾“å‡ºç›®å½•ç»“æ„ --outDir.
    &amp;quot;removeComments&amp;quot;: true,                // åˆ é™¤ç¼–è¯‘åçš„æ‰€æœ‰çš„æ³¨é‡Š
    &amp;quot;noEmit&amp;quot;: true,                        // ä¸ç”Ÿæˆè¾“å‡ºæ–‡ä»¶
    &amp;quot;importHelpers&amp;quot;: true,                 // ä» tslib å¯¼å…¥è¾…åŠ©å·¥å…·å‡½æ•°
    &amp;quot;isolatedModules&amp;quot;: true,               // å°†æ¯ä¸ªæ–‡ä»¶åšä¸ºå•ç‹¬çš„æ¨¡å— ï¼ˆä¸ &amp;#39;ts.transpileModule&amp;#39; ç±»ä¼¼ï¼‰.

    /* ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥é€‰é¡¹ */
    &amp;quot;strict&amp;quot;: true,                        // å¯ç”¨æ‰€æœ‰ä¸¥æ ¼ç±»å‹æ£€æŸ¥é€‰é¡¹
    &amp;quot;noImplicitAny&amp;quot;: true,                 // åœ¨è¡¨è¾¾å¼å’Œå£°æ˜ä¸Šæœ‰éšå«çš„ anyç±»å‹æ—¶æŠ¥é”™
    &amp;quot;strictNullChecks&amp;quot;: true,              // å¯ç”¨ä¸¥æ ¼çš„ null æ£€æŸ¥
    &amp;quot;noImplicitThis&amp;quot;: true,                // å½“ this è¡¨è¾¾å¼å€¼ä¸º any ç±»å‹çš„æ—¶å€™ï¼Œç”Ÿæˆä¸€ä¸ªé”™è¯¯
    &amp;quot;alwaysStrict&amp;quot;: true,                  // ä»¥ä¸¥æ ¼æ¨¡å¼æ£€æŸ¥æ¯ä¸ªæ¨¡å—ï¼Œå¹¶åœ¨æ¯ä¸ªæ–‡ä»¶é‡ŒåŠ å…¥ &amp;#39;use strict&amp;#39;

    /* é¢å¤–çš„æ£€æŸ¥ */
    &amp;quot;noUnusedLocals&amp;quot;: true,                // æœ‰æœªä½¿ç”¨çš„å˜é‡æ—¶ï¼ŒæŠ›å‡ºé”™è¯¯
    &amp;quot;noUnusedParameters&amp;quot;: true,            // æœ‰æœªä½¿ç”¨çš„å‚æ•°æ—¶ï¼ŒæŠ›å‡ºé”™è¯¯
    &amp;quot;noImplicitReturns&amp;quot;: true,             // å¹¶ä¸æ˜¯æ‰€æœ‰å‡½æ•°é‡Œçš„ä»£ç éƒ½æœ‰è¿”å›å€¼æ—¶ï¼ŒæŠ›å‡ºé”™è¯¯
    &amp;quot;noFallthroughCasesInSwitch&amp;quot;: true,    // æŠ¥å‘Š switch è¯­å¥çš„ fallthrough é”™è¯¯ã€‚ï¼ˆå³ï¼Œä¸å…è®¸ switch çš„ case è¯­å¥è´¯ç©¿ï¼‰

    /* æ¨¡å—è§£æé€‰é¡¹ */
    &amp;quot;moduleResolution&amp;quot;: &amp;quot;node&amp;quot;,            // é€‰æ‹©æ¨¡å—è§£æç­–ç•¥ï¼š &amp;#39;node&amp;#39; (Node.js) or &amp;#39;classic&amp;#39; (TypeScript pre-1.6)
    &amp;quot;baseUrl&amp;quot;: &amp;quot;./&amp;quot;,                       // ç”¨äºè§£æéç›¸å¯¹æ¨¡å—åç§°çš„åŸºç›®å½•
    &amp;quot;paths&amp;quot;: {},                           // æ¨¡å—ååˆ°åŸºäº baseUrl çš„è·¯å¾„æ˜ å°„çš„åˆ—è¡¨
    &amp;quot;rootDirs&amp;quot;: [],                        // æ ¹æ–‡ä»¶å¤¹åˆ—è¡¨ï¼Œå…¶ç»„åˆå†…å®¹è¡¨ç¤ºé¡¹ç›®è¿è¡Œæ—¶çš„ç»“æ„å†…å®¹
    &amp;quot;typeRoots&amp;quot;: [],                       // åŒ…å«ç±»å‹å£°æ˜çš„æ–‡ä»¶åˆ—è¡¨
    &amp;quot;types&amp;quot;: [],                           // éœ€è¦åŒ…å«çš„ç±»å‹å£°æ˜æ–‡ä»¶ååˆ—è¡¨
    &amp;quot;allowSyntheticDefaultImports&amp;quot;: true,  // å…è®¸ä»æ²¡æœ‰è®¾ç½®é»˜è®¤å¯¼å‡ºçš„æ¨¡å—ä¸­é»˜è®¤å¯¼å…¥ã€‚

    /* Source Map Options */
    &amp;quot;sourceRoot&amp;quot;: &amp;quot;./&amp;quot;,                    // æŒ‡å®šè°ƒè¯•å™¨åº”è¯¥æ‰¾åˆ° TypeScript æ–‡ä»¶è€Œä¸æ˜¯æºæ–‡ä»¶çš„ä½ç½®
    &amp;quot;mapRoot&amp;quot;: &amp;quot;./&amp;quot;,                       // æŒ‡å®šè°ƒè¯•å™¨åº”è¯¥æ‰¾åˆ°æ˜ å°„æ–‡ä»¶è€Œä¸æ˜¯ç”Ÿæˆæ–‡ä»¶çš„ä½ç½®
    &amp;quot;inlineSourceMap&amp;quot;: true,               // ç”Ÿæˆå•ä¸ª soucemaps æ–‡ä»¶ï¼Œè€Œä¸æ˜¯å°† sourcemaps ç”Ÿæˆä¸åŒçš„æ–‡ä»¶
    &amp;quot;inlineSources&amp;quot;: true,                 // å°†ä»£ç ä¸ sourcemaps ç”Ÿæˆåˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œè¦æ±‚åŒæ—¶è®¾ç½®äº† --inlineSourceMap æˆ– --sourceMap å±æ€§

    /* å…¶ä»–é€‰é¡¹ */
    &amp;quot;experimentalDecorators&amp;quot;: true,        // å¯ç”¨è£…é¥°å™¨
    &amp;quot;emitDecoratorMetadata&amp;quot;: true          // ä¸ºè£…é¥°å™¨æä¾›å…ƒæ•°æ®çš„æ”¯æŒ
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;Tsç¼–è¯‘ç”ŸæˆJsæ–‡ä»¶&quot;&gt;&lt;a href=&quot;#Tsç¼–è¯‘ç”ŸæˆJsæ–‡ä»¶&quot; class=&quot;headerlink&quot; title=&quot;Tsç¼–è¯‘ç”ŸæˆJsæ–‡ä»¶&quot;&gt;&lt;/a&gt;Tsç¼–è¯‘ç”ŸæˆJsæ–‡ä»¶&lt;/h3&gt;&lt;p&gt;åœ¨ç›®å½•ä¸‹è¿è¡Œ &lt;code&gt;tsc&lt;/code&gt;å‘½ä»¤ï¼Œä¼šåœ¨å½“å‰ç›®å½•æˆ–è€…çˆ¶çº§ç›®å½•ä¸‹æ‰¾&lt;code&gt;tsconfig.json&lt;/code&gt;æ–‡ä»¶&lt;br&gt;è¿è¡Œ &lt;code&gt;tsc -p ./path-to-project-directory&lt;/code&gt; ã€‚å½“ç„¶ï¼Œè¿™ä¸ªè·¯å¾„å¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›¸å¯¹äºå½“å‰ç›®å½•çš„ç›¸å¯¹è·¯å¾„ã€‚&lt;br&gt;ä½¿ç”¨ &lt;code&gt;tsc -w&lt;/code&gt; æ¥å¯ç”¨ TypeScript ç¼–è¯‘å™¨çš„è§‚æµ‹æ¨¡å¼ï¼Œåœ¨æ£€æµ‹åˆ°æ–‡ä»¶æ”¹åŠ¨ä¹‹åï¼Œå®ƒå°†é‡æ–°ç¼–è¯‘ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ˜¾ç¤ºçš„æŒ‡å®šç¼–è¯‘æ–‡ä»¶&quot;&gt;&lt;a href=&quot;#æ˜¾ç¤ºçš„æŒ‡å®šç¼–è¯‘æ–‡ä»¶&quot; class=&quot;headerlink&quot; title=&quot;æ˜¾ç¤ºçš„æŒ‡å®šç¼–è¯‘æ–‡ä»¶&quot;&gt;&lt;/a&gt;æ˜¾ç¤ºçš„æŒ‡å®šç¼–è¯‘æ–‡ä»¶&lt;/h3&gt;&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;{
  &amp;quot;files&amp;quot;: [
    &amp;quot;./some/file.ts&amp;quot;
  ]
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;å£°æ˜ç©ºé—´&quot;&gt;&lt;a href=&quot;#å£°æ˜ç©ºé—´&quot; class=&quot;headerlink&quot; title=&quot;å£°æ˜ç©ºé—´&quot;&gt;&lt;/a&gt;å£°æ˜ç©ºé—´&lt;/h2&gt;&lt;h3 id=&quot;ç±»å‹å£°æ˜ç©ºé—´ï¼ˆclass-interface-typeï¼‰&quot;&gt;&lt;a href=&quot;#ç±»å‹å£°æ˜ç©ºé—´ï¼ˆclass-interface-typeï¼‰&quot; class=&quot;headerlink&quot; title=&quot;ç±»å‹å£°æ˜ç©ºé—´ï¼ˆclass interface typeï¼‰&quot;&gt;&lt;/a&gt;ç±»å‹å£°æ˜ç©ºé—´ï¼ˆclass interface typeï¼‰&lt;/h3&gt;&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;class Foo{}
interface Bar{}
type Bas{}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;æ³¨æ„ï¼š&lt;/strong&gt;å°½ç®¡ä½ å®šä¹‰äº† interface Barï¼Œå´å¹¶ä¸èƒ½å¤ŸæŠŠå®ƒä½œä¸ºä¸€ä¸ªå˜é‡æ¥ä½¿ç”¨ï¼Œå› ä¸ºå®ƒæ²¡æœ‰å®šä¹‰åœ¨å˜é‡å£°æ˜ç©ºé—´ä¸­ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å˜é‡å£°æ˜ç©ºé—´&quot;&gt;&lt;a href=&quot;#å˜é‡å£°æ˜ç©ºé—´&quot; class=&quot;headerlink&quot; title=&quot;å˜é‡å£°æ˜ç©ºé—´&quot;&gt;&lt;/a&gt;å˜é‡å£°æ˜ç©ºé—´&lt;/h3&gt;&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;class Foo {}
const someOne = Foo
const someOneVar = 123
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;æ³¨æ„&lt;/strong&gt; ä¸€äº›ç”¨ var å£°æ˜çš„å˜é‡ï¼Œä¹Ÿåªèƒ½åœ¨å˜é‡å£°æ˜ç©ºé—´ä½¿ç”¨ï¼Œä¸èƒ½ç”¨ä½œç±»å‹æ³¨è§£ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Js" scheme="https://zhanghao-web.github.io/categories/Js/"/>
    
    
      <category term="Ts" scheme="https://zhanghao-web.github.io/tags/Ts/"/>
    
  </entry>
  
  <entry>
    <title>ä½ ä¸çŸ¥é“çš„ç®­å¤´å‡½æ•°</title>
    <link href="https://zhanghao-web.github.io/2020/03/15/Js/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0/"/>
    <id>https://zhanghao-web.github.io/2020/03/15/Js/ä½ ä¸çŸ¥é“çš„ç®­å¤´å‡½æ•°/</id>
    <published>2020-03-15T10:31:16.000Z</published>
    <updated>2020-03-18T13:59:46.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç®€è¨€"><a href="#ç®€è¨€" class="headerlink" title="ç®€è¨€"></a>ç®€è¨€</h1><p>ES6çš„ç®­å¤´å‡½æ•°ï¼Œæˆ‘ä»¬ä¼šåœ¨å·¥ä½œä¸­ç»å¸¸çŸ¥é“ï¼Œä½†æ˜¯ä½ çŸ¥é“ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œä»€ä¹ˆæ—¶å€™ä¸èƒ½ä½¿ç”¨ç®­å¤´å‡½æ•°å—ï¼Ÿ</p><h2 id="ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Ÿ"><a href="#ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Ÿ"></a>ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Ÿ</h2><blockquote><p>ä¸ºå•¥å¤§å¤šæ•°æƒ…å†µéƒ½ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Ÿ</p></blockquote><p>ä½œç”¨åŸŸå®‰å…¨æ€§:å½“ç®­å¤´å‡½æ•°è¢«ä¸€è‡´ä½¿ç”¨æ—¶ï¼Œæ‰€æœ‰ä¸œè¥¿éƒ½ä¿è¯ä½¿ç”¨ä¸æ ¹å¯¹è±¡ç›¸åŒçš„thisã€‚å¦‚æœä¸€ä¸ªæ ‡å‡†å‡½æ•°å›è°ƒä¸ä¸€å †ç®­å¤´å‡½æ•°æ··åˆåœ¨ä¸€èµ·ï¼Œé‚£ä¹ˆä½œç”¨åŸŸå°±æœ‰å¯èƒ½å˜å¾—æ··ä¹±ã€‚</p><p>ç´§å‡‘æ€§:ç®­å¤´å‡½æ•°æ›´å®¹æ˜“è¯»å†™ã€‚</p><p>æ¸…æ™°åº¦:ä½¿ç”¨ç®­å¤´å‡½æ•°å¯æ˜ç¡®çŸ¥é“å½“å‰ this æŒ‡å‘</p><p>å…¶å®ƒæƒ…å†µä½¿ç”¨ç®­å¤´å‡½æ•°ã€‚</p><h2 id="ä»€ä¹ˆæ—¶å€™ä¸èƒ½ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Ÿ"><a href="#ä»€ä¹ˆæ—¶å€™ä¸èƒ½ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ—¶å€™ä¸èƒ½ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Ÿ"></a>ä»€ä¹ˆæ—¶å€™ä¸èƒ½ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Ÿ</h2><h3 id="å®šä¹‰å¯¹è±¡æ–¹æ³•"><a href="#å®šä¹‰å¯¹è±¡æ–¹æ³•" class="headerlink" title="å®šä¹‰å¯¹è±¡æ–¹æ³•"></a>å®šä¹‰å¯¹è±¡æ–¹æ³•</h3><h4 id="å®šä¹‰å­—é¢é‡çš„æ–¹æ³•"><a href="#å®šä¹‰å­—é¢é‡çš„æ–¹æ³•" class="headerlink" title="å®šä¹‰å­—é¢é‡çš„æ–¹æ³•"></a>å®šä¹‰å­—é¢é‡çš„æ–¹æ³•</h4><pre><code class="js">const calculator = {    array: [1, 2, 3],    sum: () =&gt; {        console.log(this === window); // =&gt; true        return this.array.reduce((result, item) =&gt; result + item);    }};console.log(this === window); // =&gt; true// Throws &quot;TypeError: Cannot read property &#39;reduce&#39; of undefined&quot;calculator.sum();</code></pre><p>calculator.sum ä½¿ç”¨ç®­å¤´å‡½æ•°æ¥å®šä¹‰ï¼Œä½†æ˜¯è°ƒç”¨çš„æ—¶å€™ä¼šæŠ›å‡º TypeErrorï¼Œå› ä¸ºè¿è¡Œæ—¶ this.array æ˜¯æœªå®šä¹‰çš„ï¼Œè°ƒç”¨ calculator.sum çš„æ—¶å€™ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡é‡Œé¢çš„ this ä»ç„¶æŒ‡å‘çš„æ˜¯ windowï¼ŒåŸå› æ˜¯ç®­å¤´å‡½æ•°æŠŠå‡½æ•°ä¸Šä¸‹æ–‡ç»‘å®šåˆ°äº† window ä¸Šï¼Œthis.array ç­‰ä»·äº window.arrayï¼Œæ˜¾ç„¶åè€…æ˜¯æœªå®šä¹‰çš„ã€‚</p><p><strong>è§£å†³çš„åŠæ³•</strong>æ˜¯ï¼Œä½¿ç”¨å‡½æ•°è¡¨è¾¾å¼æˆ–è€…æ–¹æ³•ç®€å†™ï¼ˆES6 ä¸­å·²ç»æ”¯æŒï¼‰æ¥å®šä¹‰æ–¹æ³•ï¼Œè¿™æ ·èƒ½ç¡®ä¿ this æ˜¯åœ¨è¿è¡Œæ—¶æ˜¯ç”±åŒ…å«å®ƒçš„ä¸Šä¸‹æ–‡å†³å®šçš„ï¼Œ</p><pre><code class="js">const calculator = {    array: [1, 2, 3],    sum() {        console.log(this === calculator); // =&gt; true        return this.array.reduce((result, item) =&gt; result + item);    }};calculator.sum(); // =&gt; 6</code></pre><h4 id="å®šä¹‰åŸå‹æ–¹æ³•"><a href="#å®šä¹‰åŸå‹æ–¹æ³•" class="headerlink" title="å®šä¹‰åŸå‹æ–¹æ³•"></a>å®šä¹‰åŸå‹æ–¹æ³•</h4><p>åŒæ ·çš„è§„åˆ™é€‚ç”¨äºåŸå‹æ–¹æ³•ï¼ˆprototype methodï¼‰çš„å®šä¹‰ï¼Œä½¿ç”¨ç®­å¤´å‡½æ•°ä¼šå¯¼è‡´è¿è¡Œæ—¶çš„æ‰§è¡Œä¸Šä¸‹æ–‡é”™è¯¯</p><pre><code class="js">function Cat(name) {    this.name = name;}Cat.prototype.sayCatName = () =&gt; {    console.log(this === window); // =&gt; true    return this.name;};const cat = new Cat(&#39;Mew&#39;);cat.sayCatName(); // =&gt; undefined</code></pre><p><strong>è§£å†³æ–¹æ³•</strong>:ä½¿ç”¨ä¼ ç»Ÿçš„å‡½æ•°è¡¨è¾¾å¼å°±èƒ½è§£å†³é—®é¢˜</p><h3 id="å®šä¹‰äº‹ä»¶å›è°ƒå‡½æ•°"><a href="#å®šä¹‰äº‹ä»¶å›è°ƒå‡½æ•°" class="headerlink" title="å®šä¹‰äº‹ä»¶å›è°ƒå‡½æ•°"></a>å®šä¹‰äº‹ä»¶å›è°ƒå‡½æ•°</h3><pre><code class="js">const button = document.getElementById(&#39;myButton&#39;);button.addEventListener(&#39;click&#39;, () =&gt; {    console.log(this === window); // =&gt; true    this.innerHTML = &#39;Clicked button&#39;;});</code></pre><p>åœ¨å…¨å±€ä¸Šä¸‹æ–‡ä¸‹å®šä¹‰çš„ç®­å¤´å‡½æ•°æ‰§è¡Œæ—¶ this ä¼šæŒ‡å‘ windowï¼Œå½“å•å‡»äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œæµè§ˆå™¨ä¼šå°è¯•ç”¨ button ä½œä¸ºä¸Šä¸‹æ–‡æ¥æ‰§è¡Œäº‹ä»¶å›è°ƒå‡½æ•°ï¼Œä½†æ˜¯ç®­å¤´å‡½æ•°é¢„å®šä¹‰çš„ä¸Šä¸‹æ–‡æ˜¯ä¸èƒ½è¢«ä¿®æ”¹çš„ï¼Œè¿™æ · this.innerHTML å°±ç­‰ä»·äº window.innerHTMLï¼Œè€Œåè€…æ˜¯æ²¡æœ‰ä»»ä½•æ„ä¹‰çš„ã€‚</p><p><strong>è§£å†³æ–¹æ³•</strong>:ä½¿ç”¨ä¼ ç»Ÿçš„å‡½æ•°è¡¨è¾¾å¼å°±èƒ½è§£å†³é—®é¢˜</p><h3 id="å®šä¹‰æ„é€ å‡½æ•°"><a href="#å®šä¹‰æ„é€ å‡½æ•°" class="headerlink" title="å®šä¹‰æ„é€ å‡½æ•°"></a>å®šä¹‰æ„é€ å‡½æ•°</h3><p>æ„é€ å‡½æ•°ä¸­çš„ this æŒ‡å‘æ–°åˆ›å»ºçš„å¯¹è±¡ï¼Œå½“æ‰§è¡Œ new Car() çš„æ—¶å€™ï¼Œæ„é€ å‡½æ•° Car çš„ä¸Šä¸‹æ–‡å°±æ˜¯æ–°åˆ›å»ºçš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´ this instanceof Car === trueã€‚æ˜¾ç„¶ï¼Œç®­å¤´å‡½æ•°æ˜¯ä¸èƒ½ç”¨æ¥åšæ„é€ å‡½æ•°ï¼Œ å®é™…ä¸Š JS ä¼šç¦æ­¢ä½ è¿™ä¹ˆåšï¼Œå¦‚æœä½ è¿™ä¹ˆåšäº†ï¼Œå®ƒå°±ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p><pre><code class="js">const Message = (text) =&gt; {    this.text = text;};// Throws &quot;TypeError: Message is not a constructor&quot;const helloMessage = new Message(&#39;Hello World!&#39;);</code></pre><h3 id="è¿½æ±‚è¿‡çŸ­çš„ä»£ç "><a href="#è¿½æ±‚è¿‡çŸ­çš„ä»£ç " class="headerlink" title="è¿½æ±‚è¿‡çŸ­çš„ä»£ç "></a>è¿½æ±‚è¿‡çŸ­çš„ä»£ç </h3><p>åœ¨ä»£ç å¯è¯»æ€§æ–¹é¢ï¼Œæœ€çŸ­çš„ä»£ç å¯èƒ½å¹¶ä¸æ€»æ˜¯æœ€å¥½çš„ã€‚ä¸€å®šç¨‹åº¦ä¸Šï¼Œå‹ç¼©äº†å¤ªå¤šé€»è¾‘çš„ç®€çŸ­ä»£ç ï¼Œé˜…è¯»èµ·æ¥å°±æ²¡æœ‰é‚£ä¹ˆç›´è§‚ï¼Œ</p><pre><code class="js">const multiply = (a, b) =&gt; b === undefined ? b =&gt; a * b : a * b;const double = multiply(2);double(3);      // =&gt; 6multiply(2, 3); // =&gt; 6</code></pre><p>multiply å‡½æ•°ä¼šè¿”å›ä¸¤ä¸ªæ•°å­—çš„ä¹˜ç§¯æˆ–è€…è¿”å›ä¸€ä¸ªå¯ä»¥ç»§ç»­è°ƒç”¨çš„å›ºå®šäº†ä¸€ä¸ªå‚æ•°çš„å‡½æ•°ã€‚ä»£ç çœ‹èµ·æ¥å¾ˆç®€çŸ­ï¼Œä½†å¤§å¤šæ•°äººç¬¬ä¸€çœ¼çœ‹ä¸Šå»å¯èƒ½æ— æ³•ç«‹å³ææ¸…æ¥šå®ƒå¹²äº†ä»€ä¹ˆï¼Œæ€ä¹ˆè®©è¿™æ®µä»£ç å¯è¯»æ€§æ›´é«˜å‘¢ï¼Ÿæœ‰å¾ˆå¤šåŠæ³•ï¼Œå¯ä»¥åœ¨ç®­å¤´å‡½æ•°ä¸­åŠ ä¸Šæ‹¬å·ã€æ¡ä»¶åˆ¤æ–­ã€è¿”å›è¯­å¥ï¼Œæˆ–è€…</p><pre><code class="js">function multiply(a, b) {    if (b === undefined) {        return function (b) {            return a * b;        }    }    return a * b;}const double = multiply(2);double(3); // =&gt; 6multiply(2, 3); // =&gt; 6</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;ç®€è¨€&quot;&gt;&lt;a href=&quot;#ç®€è¨€&quot; class=&quot;headerlink&quot; title=&quot;ç®€è¨€&quot;&gt;&lt;/a&gt;ç®€è¨€&lt;/h1&gt;&lt;p&gt;ES6çš„ç®­å¤´å‡½æ•°ï¼Œæˆ‘ä»¬ä¼šåœ¨å·¥ä½œä¸­ç»å¸¸çŸ¥é“ï¼Œä½†æ˜¯ä½ çŸ¥é“ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œä»€ä¹ˆæ—¶å€™ä¸èƒ½ä½¿ç”¨ç®­å¤´å‡½æ•°å—ï¼Ÿ&lt;/p&gt;
&lt;h2 id=&quot;ä»€ä¹ˆæ—¶å€™ä½¿ç”¨
      
    
    </summary>
    
      <category term="Js" scheme="https://zhanghao-web.github.io/categories/Js/"/>
    
    
      <category term="ES6" scheme="https://zhanghao-web.github.io/tags/ES6/"/>
    
  </entry>
  
  <entry>
    <title>ä½ ä¸çŸ¥é“çš„ JSON.stringify() çš„å¨åŠ›</title>
    <link href="https://zhanghao-web.github.io/2019/12/12/Js/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84-JSON-stringify-%E7%9A%84%E5%A8%81%E5%8A%9B/"/>
    <id>https://zhanghao-web.github.io/2019/12/12/Js/ä½ ä¸çŸ¥é“çš„-JSON-stringify-çš„å¨åŠ›/</id>
    <published>2019-12-12T08:17:03.000Z</published>
    <updated>2020-01-28T10:04:16.000Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://juejin.im/post/5decf09de51d45584d238319#heading-4" target="_blank" rel="noopener">åŸæ–‡åœ°å€</a></p><h2 id="é€šè¿‡éœ€æ±‚å­¦ä¹ JSON-stringify"><a href="#é€šè¿‡éœ€æ±‚å­¦ä¹ JSON-stringify" class="headerlink" title="é€šè¿‡éœ€æ±‚å­¦ä¹ JSON.stringify()"></a>é€šè¿‡éœ€æ±‚å­¦ä¹ JSON.stringify()</h2><p>é¦–å…ˆæˆ‘ä»¬åœ¨å¼€å‘çš„è¿‡ç¨‹å½“ä¸­é‡åˆ°è¿™æ ·ä¸€ä¸ªå¤„ç†æ•°æ®çš„éœ€æ±‚</p><pre><code class="js">const todayILearn = {  _id: 1,  content: &#39;ä»Šå¤©å­¦ä¹  JSON.stringify()ï¼Œæˆ‘å¾ˆå¼€å¿ƒï¼&#39;,  created_at: &#39;Mon Nov 25 2019 14:03:55 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&#39;,  updated_at: &#39;Mon Nov 25 2019 16:03:55 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&#39;}</code></pre><p>æˆ‘ä»¬éœ€è¦å°†ä¸Šé¢è¿™ä¸ªå¯¹è±¡å¤„ç†æˆä¸‹é¢è¿™ä¸ªå¯¹è±¡</p><pre><code class="js">const todayILearn = {  id: 1,  content: &#39;ä»Šå¤©å­¦ä¹  JSON.stringify()ï¼Œæˆ‘å¾ˆå¼€å¿ƒï¼&#39;,  createdAt: &#39;Mon Nov 25 2019 14:03:55 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&#39;,  updatedAt: &#39;Mon Nov 25 2019 16:03:55 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&#39;}</code></pre><p>ä¹Ÿå°±æ˜¯åœ¨ä¸æ”¹å˜å±æ€§çš„å€¼çš„å‰æä¸‹ï¼Œå°†å¯¹è±¡å±æ€§ä¿®æ”¹ä¸€ä¸‹ã€‚ æŠŠ_id  æ”¹æˆ idï¼ŒæŠŠ updated_at æ”¹æˆ updatedAtï¼ŒæŠŠ created_at æ”¹æˆ createdAtã€‚æˆ‘ä»¬ç°åœ¨é€šè¿‡è¿™ä¸ªå°å°çš„éœ€æ±‚æ¥è§è¯†ä¸€ä¸‹ JSON.stringify() çš„å¼ºå¤§å§ã€‚</p><p>é¦–å…ˆè¦è§£å†³è¿™ä¸ªé—®é¢˜æˆ‘ä»¬æœ‰å¾ˆå¤šç§è§£å†³æ–¹å¼ï¼Œæˆ‘ä»¬å…ˆæä¾›ä¸¤ç§ä¸ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆï¼š</p><p><strong>æ–¹æ¡ˆä¸€ï¼šä¸€æ¬¡éå†+å¤šå£°æ˜ä¸€ä¸ªå˜é‡</strong></p><pre><code class="js">// å¤šä¸€ä¸ªå˜é‡å­˜å‚¨const todayILearnTemp = {};for (const [key, value] of Object.entries(todayILearn)) {  if (key === &quot;_id&quot;) todayILearnTemp[&quot;id&quot;] = value;  else if (key === &quot;created_at&quot;) todayILearnTemp[&quot;createdAt&quot;] = value;  else if (key === &quot;updatedAt&quot;) todayILearnTemp[&quot;updatedAt&quot;] = value;  else todayILearnTemp[key] = value;}console.log(todayILearnTemp);// ç»“æœï¼š// { id: 1,//  content: &#39;ä»Šå¤©å­¦ä¹  JSON.stringify()ï¼Œæˆ‘å¾ˆå¼€å¿ƒï¼&#39;,//  createdAt: &#39;Mon Nov 25 2019 14:03:55 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&#39;,//  updated_at: &#39;Mon Nov 25 2019 16:03:55 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&#39; // }</code></pre><p>æ–¹æ¡ˆä¸€å®Œå…¨æ²¡æœ‰é—®é¢˜ï¼Œå¯ä»¥å®ç°ã€‚ä½†æ˜¯å¤šå£°æ˜äº†ä¸€ä¸ªå˜é‡åˆåŠ ä¸Šä¸€å±‚å¾ªç¯å¹¶ä¸”è¿˜æœ‰å¾ˆå¤šçš„ if else è¯­å¥ï¼Œæ€ä¹ˆéƒ½æ˜¾å¾—ä¸å¤ªä¼˜é›…ã€‚</p><p><strong>æ–¹æ¡ˆäºŒï¼šæš´åŠ› delete å±æ€§å’Œå¢åŠ å±æ€§</strong></p><pre><code class="js">// æè‡´çš„æš´åŠ›ç¾å­¦todayILearn.id = todayILearn._id;todayILearn.createdAt = todayILearn.created_at;todayILearn.updatedAt = todayILearn.updated_at;delete todayILearn._id;delete todayILearn.created_at;delete todayILearn.updated_at;console.log(todayILearn);//     å¤ªæš´åŠ›ğŸ˜¢//{ //  content: &#39;ä»Šå¤©å­¦ä¹  JSON.stringify()ï¼Œæˆ‘å¾ˆå¼€å¿ƒï¼&#39;,//  id: 1,//  createdAt: &#39;Mon Nov 25 2019 14:03:55 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&#39;,//  updatedAt: &#39;Mon Nov 25 2019 16:03:55 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&#39; //}</code></pre><p>ç›´æ¥ delete æš´åŠ›è§£å†³å¤ªç²—é²äº†ï¼Œè€Œä¸”æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œå±æ€§çš„é¡ºåºå˜äº†ã€‚</p><p><strong>æ–¹æ¡ˆä¸‰ï¼šåºåˆ—åŒ–+ replace ç¾å­¦å…¸èŒƒ</strong></p><pre><code class="js">const mapObj = {  _id: &quot;id&quot;,  created_at: &quot;createdAt&quot;,  updated_at: &quot;updatedAt&quot;};JSON.parse(  JSON.stringify(todayILearn).replace(    /_id|created_at|updated_at/gi,    matched =&gt; mapObj[matched])    )// { // id: 1,//  content: &#39;ä»Šå¤©å­¦ä¹  JSON.stringify()ï¼Œæˆ‘å¾ˆå¼€å¿ƒï¼&#39;,//  createdAt: &#39;Mon Nov 25 2019 14:03:55 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&#39;,//  updatedAt: &#39;Mon Nov 25 2019 16:03:55 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&#39; // }</code></pre><p><img src="https://user-gold-cdn.xitu.io/2019/12/8/16ee5ace18ca5dbb?imageslim" alt="Json.Stringify"></p><a id="more"></a><h2 id="JSON-stringify-ä¹å¤§ç‰¹æ€§"><a href="#JSON-stringify-ä¹å¤§ç‰¹æ€§" class="headerlink" title="JSON.stringify() ä¹å¤§ç‰¹æ€§"></a>JSON.stringify() ä¹å¤§ç‰¹æ€§</h2><h3 id="JSON-stringify-ç¬¬ä¸€å¤§ç‰¹æ€§"><a href="#JSON-stringify-ç¬¬ä¸€å¤§ç‰¹æ€§" class="headerlink" title="JSON.stringify()ç¬¬ä¸€å¤§ç‰¹æ€§"></a>JSON.stringify()ç¬¬ä¸€å¤§ç‰¹æ€§</h3><p><strong>å¯¹äº undefinedã€ä»»æ„çš„å‡½æ•°ä»¥åŠ symbol ä¸‰ä¸ªç‰¹æ®Šçš„å€¼åˆ†åˆ«ä½œä¸ºå¯¹è±¡å±æ€§çš„å€¼ã€æ•°ç»„å…ƒç´ ã€å•ç‹¬çš„å€¼æ—¶ JSON.stringify()å°†è¿”å›ä¸åŒçš„ç»“æœ</strong>ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥å¤ä¹ ä¸€ä¸‹çŸ¥è¯†ç‚¹ï¼Œçœ‹ä¸€é“éå¸¸ç®€å•çš„é¢è¯•é¢˜ç›®ï¼šè¯·é—®ä¸‹é¢ä»£ç ä¼šè¾“å‡ºä»€ä¹ˆï¼Ÿ</p><pre><code class="js">const data = {  a: &quot;aaa&quot;,  b: undefined,  c: Symbol(&quot;dd&quot;),  fn: function() {    return true;  }};JSON.stringify(data); // è¾“å‡ºï¼šï¼Ÿ// &quot;{&quot;a&quot;:&quot;aaa&quot;}&quot;</code></pre><p>å¾ˆç®€å•è¿™é“é¢˜ç›®é¢è¯•å®˜ä¸»è¦è€ƒå¯Ÿçš„çŸ¥è¯†ç‚¹æ˜¯ï¼š</p><ul><li>undefinedã€ä»»æ„çš„å‡½æ•°ä»¥åŠ symbol ä½œä¸ºå¯¹è±¡å±æ€§å€¼æ—¶ JSON.stringify() å°†è·³è¿‡ï¼ˆå¿½ç•¥ï¼‰å¯¹å®ƒä»¬è¿›è¡Œåºåˆ—åŒ–</li></ul><p>é¢è¯•å®˜è¿½é—®ï¼šå‡è®¾ undefinedã€ä»»æ„çš„å‡½æ•°ä»¥åŠ symbol å€¼ä½œä¸ºæ•°ç»„å…ƒç´ ä¼šæ˜¯æ€æ ·å‘¢ï¼Ÿ</p><pre><code class="js">JSON.stringify([&quot;aaa&quot;, undefined, function aa() {    return true  }, Symbol(&#39;dd&#39;)])  // è¾“å‡ºï¼šï¼Ÿ// &quot;[&quot;aaa&quot;,null,null,null]&quot;</code></pre><p>çŸ¥è¯†ç‚¹æ˜¯ï¼š</p><ul><li>undefinedã€ä»»æ„çš„å‡½æ•°ä»¥åŠ symbol ä½œä¸ºæ•°ç»„å…ƒç´ å€¼æ—¶ï¼ŒJSON.stringify() ä¼šå°†å®ƒä»¬åºåˆ—åŒ–ä¸º null</li></ul><p>æˆ‘ä»¬ç¨å¾®å†åŠ¨ä¸‹è„‘ç­‹ï¼Œå¦‚æœå•ç‹¬åºåˆ—åŒ–è¿™äº›å€¼ä¼šæ˜¯ä»€ä¹ˆæ ·çš„ç»“æœå‘¢ï¼Ÿ</p><pre><code class="js">JSON.stringify(function a (){console.log(&#39;a&#39;)})// undefinedJSON.stringify(undefined)// undefinedJSON.stringify(Symbol(&#39;dd&#39;))// undefined</code></pre><p>å•ç‹¬è½¬æ¢çš„ç»“æœå°±æ˜¯ï¼š</p><p>undefinedã€ä»»æ„çš„å‡½æ•°ä»¥åŠ symbol è¢« JSON.stringify() ä½œä¸ºå•ç‹¬çš„å€¼è¿›è¡Œåºåˆ—åŒ–æ—¶éƒ½ä¼šè¿”å› undefined</p><blockquote><p>JSON.stringify() ç¬¬ä¸€å¤§ç‰¹æ€§æ€»ç»“<br>undefinedã€ä»»æ„çš„å‡½æ•°ä»¥åŠ symbol ä½œä¸ºå¯¹è±¡å±æ€§å€¼æ—¶ JSON.stringify() å¯¹è·³è¿‡ï¼ˆå¿½ç•¥ï¼‰å®ƒä»¬è¿›è¡Œåºåˆ—åŒ–<br>undefinedã€ä»»æ„çš„å‡½æ•°ä»¥åŠ symbol ä½œä¸ºæ•°ç»„å…ƒç´ å€¼æ—¶ï¼ŒJSON.stringify() å°†ä¼šå°†å®ƒä»¬åºåˆ—åŒ–ä¸º null<br>undefinedã€ä»»æ„çš„å‡½æ•°ä»¥åŠ symbol è¢« JSON.stringify() ä½œä¸ºå•ç‹¬çš„å€¼è¿›è¡Œåºåˆ—åŒ–æ—¶ï¼Œéƒ½ä¼šè¿”å› undefined</p></blockquote><h3 id="JSON-stringify-ç¬¬äºŒå¤§ç‰¹æ€§"><a href="#JSON-stringify-ç¬¬äºŒå¤§ç‰¹æ€§" class="headerlink" title="JSON.stringify() ç¬¬äºŒå¤§ç‰¹æ€§"></a>JSON.stringify() ç¬¬äºŒå¤§ç‰¹æ€§</h3><p><strong>éæ•°ç»„å¯¹è±¡çš„å±æ€§ä¸èƒ½ä¿è¯ä»¥ç‰¹å®šçš„é¡ºåºå‡ºç°åœ¨åºåˆ—åŒ–åçš„å­—ç¬¦ä¸²ä¸­ã€‚</strong></p><pre><code class="js">const data = {  a: &quot;aaa&quot;,  b: undefined,  c: Symbol(&quot;dd&quot;),  fn: function() {    return true;  },  d: &quot;ddd&quot;};JSON.stringify(data); // è¾“å‡ºï¼šï¼Ÿ// &quot;{&quot;a&quot;:&quot;aaa&quot;,&quot;d&quot;:&quot;ddd&quot;}&quot;JSON.stringify([&quot;aaa&quot;, undefined, function aa() {    return true  }, Symbol(&#39;dd&#39;),&quot;eee&quot;])  // è¾“å‡ºï¼šï¼Ÿ// &quot;[&quot;aaa&quot;,null,null,null,&quot;eee&quot;]&quot;</code></pre><p>æ­£å¦‚æˆ‘ä»¬åœ¨ç¬¬ä¸€ç‰¹æ€§æ‰€è¯´ï¼ŒJSON.stringify() åºåˆ—åŒ–æ—¶<strong>ä¼šå¿½ç•¥ä¸€äº›ç‰¹æ®Šçš„å€¼</strong>ï¼Œæ‰€ä»¥ä¸èƒ½ä¿è¯åºåˆ—åŒ–åçš„å­—ç¬¦ä¸²è¿˜æ˜¯ä»¥ç‰¹å®šçš„é¡ºåºå‡ºç°ï¼ˆæ•°ç»„é™¤å¤–ï¼‰ã€‚</p><h3 id="JSON-stringify-ç¬¬ä¸‰å¤§ç‰¹æ€§"><a href="#JSON-stringify-ç¬¬ä¸‰å¤§ç‰¹æ€§" class="headerlink" title="JSON.stringify() ç¬¬ä¸‰å¤§ç‰¹æ€§"></a>JSON.stringify() ç¬¬ä¸‰å¤§ç‰¹æ€§</h3><ul><li>è½¬æ¢å€¼å¦‚æœ<strong>æœ‰ toJSON() å‡½æ•°ï¼Œè¯¥å‡½æ•°è¿”å›ä»€ä¹ˆå€¼ï¼Œåºåˆ—åŒ–ç»“æœå°±æ˜¯ä»€ä¹ˆå€¼ï¼Œå¹¶ä¸”å¿½ç•¥å…¶ä»–å±æ€§çš„å€¼</strong>ã€‚</li></ul><pre><code class="js">JSON.stringify({    say: &quot;hello JSON.stringify&quot;,    toJSON: function() {      return &quot;today i learn&quot;;    }  })// &quot;today i learn&quot;</code></pre><h3 id="JSON-stringify-ç¬¬å››å¤§ç‰¹æ€§"><a href="#JSON-stringify-ç¬¬å››å¤§ç‰¹æ€§" class="headerlink" title="JSON.stringify()ç¬¬å››å¤§ç‰¹æ€§"></a>JSON.stringify()ç¬¬å››å¤§ç‰¹æ€§</h3><p>JSON.stringify() å°†ä¼š<strong>æ­£å¸¸åºåˆ—åŒ– Date</strong> çš„å€¼ã€‚</p><pre><code class="js">JSON.stringify({ now: new Date() });// &quot;{&quot;now&quot;:&quot;2019-12-08T07:42:11.973Z&quot;}&quot;</code></pre><p>å®é™…ä¸Š Date å¯¹è±¡è‡ªå·±éƒ¨ç½²äº† toJSON() æ–¹æ³•ï¼ˆåŒDate.toISOString()ï¼‰ï¼Œå› æ­¤ Date å¯¹è±¡ä¼šè¢«å½“åšå­—ç¬¦ä¸²å¤„ç†ã€‚</p><h3 id="JSON-stringify-ç¬¬äº”å¤§ç‰¹æ€§"><a href="#JSON-stringify-ç¬¬äº”å¤§ç‰¹æ€§" class="headerlink" title="JSON.stringify() ç¬¬äº”å¤§ç‰¹æ€§"></a>JSON.stringify() ç¬¬äº”å¤§ç‰¹æ€§</h3><p><strong>NaN å’Œ Infinity æ ¼å¼çš„æ•°å€¼åŠ null éƒ½ä¼šè¢«å½“åš nullã€‚</strong></p><pre><code class="js">JSON.stringify(NaN)// &quot;null&quot;JSON.stringify(null)// &quot;null&quot;JSON.stringify(Infinity)// &quot;null&quot;</code></pre><h3 id="JSON-stringify-ç¬¬å…­å¤§ç‰¹æ€§"><a href="#JSON-stringify-ç¬¬å…­å¤§ç‰¹æ€§" class="headerlink" title="JSON.stringify() ç¬¬å…­å¤§ç‰¹æ€§"></a>JSON.stringify() ç¬¬å…­å¤§ç‰¹æ€§</h3><p><strong>å¸ƒå°”å€¼ã€æ•°å­—ã€å­—ç¬¦ä¸²çš„åŒ…è£…å¯¹è±¡åœ¨åºåˆ—åŒ–è¿‡ç¨‹ä¸­ä¼šè‡ªåŠ¨è½¬æ¢æˆå¯¹åº”çš„åŸå§‹å€¼ã€‚</strong></p><pre><code class="js">JSON.stringify([new Number(1), new String(&quot;false&quot;), new Boolean(false)]);// &quot;[1,&quot;false&quot;,false]&quot;</code></pre><h3 id="JSON-stringify-ç¬¬ä¸ƒå¤§ç‰¹æ€§"><a href="#JSON-stringify-ç¬¬ä¸ƒå¤§ç‰¹æ€§" class="headerlink" title="JSON.stringify() ç¬¬ä¸ƒå¤§ç‰¹æ€§"></a>JSON.stringify() ç¬¬ä¸ƒå¤§ç‰¹æ€§</h3><p>å…³äºå¯¹è±¡å±æ€§çš„æ˜¯å¦å¯æšä¸¾ï¼š</p><p><strong>å…¶ä»–ç±»å‹çš„å¯¹è±¡ï¼ŒåŒ…æ‹¬ Map/Set/WeakMap/WeakSetï¼Œä»…ä¼šåºåˆ—åŒ–å¯æšä¸¾çš„å±æ€§ã€‚</strong></p><pre><code class="js">// ä¸å¯æšä¸¾çš„å±æ€§é»˜è®¤ä¼šè¢«å¿½ç•¥ï¼šJSON.stringify(     Object.create(        null,         {             x: { value: &#39;json&#39;, enumerable: false },             y: { value: &#39;stringify&#39;, enumerable: true }         }    ));// &quot;{&quot;y&quot;:&quot;stringify&quot;}&quot;</code></pre><h3 id="JSON-stringify-ç¬¬å…«å¤§ç‰¹æ€§"><a href="#JSON-stringify-ç¬¬å…«å¤§ç‰¹æ€§" class="headerlink" title="JSON.stringify() ç¬¬å…«å¤§ç‰¹æ€§"></a>JSON.stringify() ç¬¬å…«å¤§ç‰¹æ€§</h3><p>æˆ‘ä»¬éƒ½çŸ¥é“å®ç°æ·±æ‹·è´æœ€ç®€å•ç²—æš´çš„æ–¹å¼å°±æ˜¯åºåˆ—åŒ–ï¼š<code>JSON.parse(JSON.stringify())</code>ï¼Œè¿™ä¸ªæ–¹å¼å®ç°æ·±æ‹·è´ä¼šå› ä¸ºåºåˆ—åŒ–çš„è¯¸å¤šç‰¹æ€§ä»è€Œå¯¼è‡´è¯¸å¤šçš„å‘ç‚¹ï¼šæ¯”å¦‚ç°åœ¨æˆ‘ä»¬è¦è¯´çš„å¾ªç¯å¼•ç”¨é—®é¢˜ã€‚</p><pre><code class="js">// å¯¹åŒ…å«å¾ªç¯å¼•ç”¨çš„å¯¹è±¡ï¼ˆå¯¹è±¡ä¹‹é—´ç›¸äº’å¼•ç”¨ï¼Œå½¢æˆæ— é™å¾ªç¯ï¼‰æ‰§è¡Œæ­¤æ–¹æ³•ï¼Œä¼šæŠ›å‡ºé”™è¯¯ã€‚ const obj = {  name: &quot;loopObj&quot;};const loopObj = {  obj};// å¯¹è±¡ä¹‹é—´å½¢æˆå¾ªç¯å¼•ç”¨ï¼Œå½¢æˆé—­ç¯obj.loopObj = loopObj;// å°è£…ä¸€ä¸ªæ·±æ‹·è´çš„å‡½æ•°function deepClone(obj) {  return JSON.parse(JSON.stringify(obj));}// æ‰§è¡Œæ·±æ‹·è´ï¼ŒæŠ›å‡ºé”™è¯¯deepClone(obj)/** VM44:9 Uncaught TypeError: Converting circular structure to JSON    --&gt; starting at object with constructor &#39;Object&#39;    |     property &#39;loopObj&#39; -&gt; object with constructor &#39;Object&#39;    --- property &#39;obj&#39; closes the circle    at JSON.stringify (&lt;anonymous&gt;)    at deepClone (&lt;anonymous&gt;:9:26)    at &lt;anonymous&gt;:11:13 */</code></pre><ul><li>å¯¹åŒ…å«å¾ªç¯å¼•ç”¨çš„å¯¹è±¡ï¼ˆå¯¹è±¡ä¹‹é—´ç›¸äº’å¼•ç”¨ï¼Œå½¢æˆæ— é™å¾ªç¯ï¼‰æ‰§è¡Œæ­¤æ–¹æ³•ï¼Œä¼šæŠ›å‡ºé”™è¯¯ã€‚</li></ul><p>è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆç”¨åºåˆ—åŒ–å»å®ç°æ·±æ‹·è´æ—¶ï¼Œé‡åˆ°å¾ªç¯å¼•ç”¨çš„å¯¹è±¡ä¼šæŠ›å‡ºé”™è¯¯çš„åŸå› </p><h3 id="JSON-stringify-ç¬¬ä¹å¤§ç‰¹æ€§"><a href="#JSON-stringify-ç¬¬ä¹å¤§ç‰¹æ€§" class="headerlink" title="JSON.stringify() ç¬¬ä¹å¤§ç‰¹æ€§"></a>JSON.stringify() ç¬¬ä¹å¤§ç‰¹æ€§</h3><p><strong>æ‰€æœ‰ä»¥ symbol ä¸ºå±æ€§é”®çš„å±æ€§éƒ½ä¼šè¢«å®Œå…¨å¿½ç•¥æ‰ï¼Œå³ä¾¿ replacer å‚æ•°ä¸­å¼ºåˆ¶æŒ‡å®šåŒ…å«äº†å®ƒä»¬ã€‚</strong></p><pre><code class="js">JSON.stringify({ [Symbol.for(&quot;json&quot;)]: &quot;stringify&quot; }, function(k, v) {    if (typeof k === &quot;symbol&quot;) {      return v;    }  })// undefined</code></pre><p><code>replacer</code> æ˜¯ <code>JSON.stringify()</code> çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œæˆ‘ä»¬æ¯”è¾ƒå°‘ç”¨åˆ°ï¼Œæ‰€ä»¥å¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä¼šå¿˜è®° <code>JSON.stringify()</code> ç¬¬äºŒä¸ªã€ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œåœºæ™¯ä¸å¤šï¼Œä½†æ˜¯ç”¨çš„å¥½çš„è¯ä¼šéå¸¸æ–¹ä¾¿ï¼Œå…³äº <code>JSON.stringify()</code> ç¬¬ä¹å¤§ç‰¹æ€§çš„ä¾‹å­ä¸­å¯¹ replacer å‚æ•°ä¸æ˜ç™½çš„åŒå­¦å…ˆåˆ«æ€¥ï¼Œå…¶å®å¾ˆç®€å•ï¼Œæˆ‘ä»¬é©¬ä¸Šå°±ä¼šåœ¨ä¸‹é¢çš„å­¦ä¹ ä¸­å¼„æ‡‚ã€‚</p><h2 id="ç¬¬äºŒä¸ªå‚æ•°å’Œç¬¬ä¸‰ä¸ªå‚æ•°"><a href="#ç¬¬äºŒä¸ªå‚æ•°å’Œç¬¬ä¸‰ä¸ªå‚æ•°" class="headerlink" title="ç¬¬äºŒä¸ªå‚æ•°å’Œç¬¬ä¸‰ä¸ªå‚æ•°"></a>ç¬¬äºŒä¸ªå‚æ•°å’Œç¬¬ä¸‰ä¸ªå‚æ•°</h2><p>JSON.stringify() ç¬¬äºŒä¸ªå‚æ•°å’Œç¬¬ä¸‰ä¸ªå‚æ•°</p><h3 id="å¼ºå¤§çš„ç¬¬äºŒä¸ªå‚æ•°ï¼š"><a href="#å¼ºå¤§çš„ç¬¬äºŒä¸ªå‚æ•°ï¼š" class="headerlink" title="å¼ºå¤§çš„ç¬¬äºŒä¸ªå‚æ•°ï¼š"></a>å¼ºå¤§çš„ç¬¬äºŒä¸ªå‚æ•°ï¼š</h3><p>ä½œä¸ºå‡½æ•°æ—¶ï¼Œå®ƒæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œé”®ï¼ˆkeyï¼‰å’Œå€¼ï¼ˆvalueï¼‰ï¼Œå‡½æ•°ç±»ä¼¼å°±æ˜¯æ•°ç»„æ–¹æ³• mapã€filter ç­‰æ–¹æ³•çš„å›è°ƒå‡½æ•°ï¼Œå¯¹æ¯ä¸€ä¸ªå±æ€§å€¼éƒ½ä¼šæ‰§è¡Œä¸€æ¬¡è¯¥å‡½æ•°ï¼ˆæœŸé—´æˆ‘ä»¬è¿˜ç®€å•å®ç°è¿‡ä¸€ä¸ª map å‡½æ•°ï¼‰ã€‚<br>å¦‚æœ replacer æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„çš„å€¼ä»£è¡¨å°†è¢«åºåˆ—åŒ–æˆ JSON å­—ç¬¦ä¸²çš„å±æ€§åã€‚</p><h3 id="åä¸½çš„ç¬¬ä¸‰ä¸ªå‚æ•°ï¼š"><a href="#åä¸½çš„ç¬¬ä¸‰ä¸ªå‚æ•°ï¼š" class="headerlink" title="åä¸½çš„ç¬¬ä¸‰ä¸ªå‚æ•°ï¼š"></a>åä¸½çš„ç¬¬ä¸‰ä¸ªå‚æ•°ï¼š</h3><p>å¦‚æœæ˜¯ä¸€ä¸ªæ•°å­—, åˆ™åœ¨å­—ç¬¦ä¸²åŒ–æ—¶æ¯ä¸€çº§åˆ«ä¼šæ¯”ä¸Šä¸€çº§åˆ«ç¼©è¿›å¤šè¿™ä¸ªæ•°å­—å€¼çš„ç©ºæ ¼ï¼ˆæœ€å¤š10ä¸ªç©ºæ ¼ï¼‰ï¼›</p><p>å¦‚æœæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ™æ¯ä¸€çº§åˆ«ä¼šæ¯”ä¸Šä¸€çº§åˆ«å¤šç¼©è¿›è¯¥å­—ç¬¦ä¸²ï¼ˆæˆ–è¯¥å­—ç¬¦ä¸²çš„å‰10ä¸ªå­—ç¬¦ï¼‰ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://juejin.im/post/5decf09de51d45584d238319#heading-4&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;åŸæ–‡åœ°å€&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;é€šè¿‡éœ€æ±‚å­¦ä¹ JSON-stringify&quot;&gt;&lt;a href=&quot;#é€šè¿‡éœ€æ±‚å­¦ä¹ JSON-stringify&quot; class=&quot;headerlink&quot; title=&quot;é€šè¿‡éœ€æ±‚å­¦ä¹ JSON.stringify()&quot;&gt;&lt;/a&gt;é€šè¿‡éœ€æ±‚å­¦ä¹ JSON.stringify()&lt;/h2&gt;&lt;p&gt;é¦–å…ˆæˆ‘ä»¬åœ¨å¼€å‘çš„è¿‡ç¨‹å½“ä¸­é‡åˆ°è¿™æ ·ä¸€ä¸ªå¤„ç†æ•°æ®çš„éœ€æ±‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;const todayILearn = {
  _id: 1,
  content: &amp;#39;ä»Šå¤©å­¦ä¹  JSON.stringify()ï¼Œæˆ‘å¾ˆå¼€å¿ƒï¼&amp;#39;,
  created_at: &amp;#39;Mon Nov 25 2019 14:03:55 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&amp;#39;,
  updated_at: &amp;#39;Mon Nov 25 2019 16:03:55 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&amp;#39;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬éœ€è¦å°†ä¸Šé¢è¿™ä¸ªå¯¹è±¡å¤„ç†æˆä¸‹é¢è¿™ä¸ªå¯¹è±¡&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;const todayILearn = {
  id: 1,
  content: &amp;#39;ä»Šå¤©å­¦ä¹  JSON.stringify()ï¼Œæˆ‘å¾ˆå¼€å¿ƒï¼&amp;#39;,
  createdAt: &amp;#39;Mon Nov 25 2019 14:03:55 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&amp;#39;,
  updatedAt: &amp;#39;Mon Nov 25 2019 16:03:55 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&amp;#39;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯åœ¨ä¸æ”¹å˜å±æ€§çš„å€¼çš„å‰æä¸‹ï¼Œå°†å¯¹è±¡å±æ€§ä¿®æ”¹ä¸€ä¸‹ã€‚ æŠŠ_id  æ”¹æˆ idï¼ŒæŠŠ updated_at æ”¹æˆ updatedAtï¼ŒæŠŠ created_at æ”¹æˆ createdAtã€‚æˆ‘ä»¬ç°åœ¨é€šè¿‡è¿™ä¸ªå°å°çš„éœ€æ±‚æ¥è§è¯†ä¸€ä¸‹ JSON.stringify() çš„å¼ºå¤§å§ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆè¦è§£å†³è¿™ä¸ªé—®é¢˜æˆ‘ä»¬æœ‰å¾ˆå¤šç§è§£å†³æ–¹å¼ï¼Œæˆ‘ä»¬å…ˆæä¾›ä¸¤ç§ä¸ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ–¹æ¡ˆä¸€ï¼šä¸€æ¬¡éå†+å¤šå£°æ˜ä¸€ä¸ªå˜é‡&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;// å¤šä¸€ä¸ªå˜é‡å­˜å‚¨
const todayILearnTemp = {};
for (const [key, value] of Object.entries(todayILearn)) {
  if (key === &amp;quot;_id&amp;quot;) todayILearnTemp[&amp;quot;id&amp;quot;] = value;
  else if (key === &amp;quot;created_at&amp;quot;) todayILearnTemp[&amp;quot;createdAt&amp;quot;] = value;
  else if (key === &amp;quot;updatedAt&amp;quot;) todayILearnTemp[&amp;quot;updatedAt&amp;quot;] = value;
  else todayILearnTemp[key] = value;
}
console.log(todayILearnTemp);
// ç»“æœï¼š
// { id: 1,
//  content: &amp;#39;ä»Šå¤©å­¦ä¹  JSON.stringify()ï¼Œæˆ‘å¾ˆå¼€å¿ƒï¼&amp;#39;,
//  createdAt: &amp;#39;Mon Nov 25 2019 14:03:55 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&amp;#39;,
//  updated_at: &amp;#39;Mon Nov 25 2019 16:03:55 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&amp;#39; 
// }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ–¹æ¡ˆä¸€å®Œå…¨æ²¡æœ‰é—®é¢˜ï¼Œå¯ä»¥å®ç°ã€‚ä½†æ˜¯å¤šå£°æ˜äº†ä¸€ä¸ªå˜é‡åˆåŠ ä¸Šä¸€å±‚å¾ªç¯å¹¶ä¸”è¿˜æœ‰å¾ˆå¤šçš„ if else è¯­å¥ï¼Œæ€ä¹ˆéƒ½æ˜¾å¾—ä¸å¤ªä¼˜é›…ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ–¹æ¡ˆäºŒï¼šæš´åŠ› delete å±æ€§å’Œå¢åŠ å±æ€§&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;// æè‡´çš„æš´åŠ›ç¾å­¦
todayILearn.id = todayILearn._id;
todayILearn.createdAt = todayILearn.created_at;
todayILearn.updatedAt = todayILearn.updated_at;
delete todayILearn._id;
delete todayILearn.created_at;
delete todayILearn.updated_at;
console.log(todayILearn);
//     å¤ªæš´åŠ›ğŸ˜¢
//{ 
//  content: &amp;#39;ä»Šå¤©å­¦ä¹  JSON.stringify()ï¼Œæˆ‘å¾ˆå¼€å¿ƒï¼&amp;#39;,
//  id: 1,
//  createdAt: &amp;#39;Mon Nov 25 2019 14:03:55 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&amp;#39;,
//  updatedAt: &amp;#39;Mon Nov 25 2019 16:03:55 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&amp;#39; 
//}

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç›´æ¥ delete æš´åŠ›è§£å†³å¤ªç²—é²äº†ï¼Œè€Œä¸”æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œå±æ€§çš„é¡ºåºå˜äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ–¹æ¡ˆä¸‰ï¼šåºåˆ—åŒ–+ replace ç¾å­¦å…¸èŒƒ&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;const mapObj = {
  _id: &amp;quot;id&amp;quot;,
  created_at: &amp;quot;createdAt&amp;quot;,
  updated_at: &amp;quot;updatedAt&amp;quot;
};
JSON.parse(
  JSON.stringify(todayILearn).replace(
    /_id|created_at|updated_at/gi,
    matched =&amp;gt; mapObj[matched])
    )

// { 
// id: 1,
//  content: &amp;#39;ä»Šå¤©å­¦ä¹  JSON.stringify()ï¼Œæˆ‘å¾ˆå¼€å¿ƒï¼&amp;#39;,
//  createdAt: &amp;#39;Mon Nov 25 2019 14:03:55 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&amp;#39;,
//  updatedAt: &amp;#39;Mon Nov 25 2019 16:03:55 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)&amp;#39; 
// }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://user-gold-cdn.xitu.io/2019/12/8/16ee5ace18ca5dbb?imageslim&quot; alt=&quot;Json.Stringify&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Js" scheme="https://zhanghao-web.github.io/categories/Js/"/>
    
    
      <category term="Js" scheme="https://zhanghao-web.github.io/tags/Js/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨vueé«˜é˜¶ç»„ä»¶</title>
    <link href="https://zhanghao-web.github.io/2019/11/25/Vue/%E4%BD%BF%E7%94%A8vue%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6/"/>
    <id>https://zhanghao-web.github.io/2019/11/25/Vue/ä½¿ç”¨vueé«˜é˜¶ç»„ä»¶/</id>
    <published>2019-11-25T02:48:54.000Z</published>
    <updated>2020-01-28T10:04:16.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‰æ–‡"><a href="#å‰æ–‡" class="headerlink" title="å‰æ–‡"></a>å‰æ–‡</h1><p><code>é«˜é˜¶ç»„ä»¶(HOC)</code>æ˜¯ä¸€ç§æ¶æ„æ¨¡å¼ï¼Œåœ¨ React ä¸­éå¸¸å¸¸è§ï¼Œä½†ä¹Ÿå¯ä»¥åœ¨ Vue ä¸­ä½¿ç”¨ã€‚å®ƒå¯ä»¥è¢«æè¿°ä¸ºä¸€ç§<strong>åœ¨ç»„ä»¶ä¹‹é—´å…±äº«å…¬å…±åŠŸèƒ½è€Œä¸éœ€è¦é‡å¤ä»£ç </strong>çš„æ–¹æ³•ã€‚HOC çš„ç›®çš„æ˜¯å¢å¼ºç»„ä»¶çš„åŠŸèƒ½ã€‚å®ƒå…è®¸åœ¨é¡¹ç›®ä¸­å®ç°å¯é‡ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p><ul><li>åªè¦ä½ å‘ä¸€ä¸ªæ–¹æ³•ä¼ å…¥ç»„ä»¶ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°çš„ç»„ä»¶ï¼Œè¿™å°±æ˜¯ä¸€ä¸ª HOCã€‚</li></ul><blockquote><p>é«˜é˜¶ç»„ä»¶åœ¨ä»¥ä¸‹æ–¹é¢éå¸¸æœ‰ç”¨: 1.æ“ä½œå±æ€§ã€‚ 2.æ“ä½œæ•°æ®å’Œæ•°æ®æŠ½è±¡ã€‚ 3.ä»£ç é‡ç”¨</p></blockquote><h2 id="é¢„å¤‡çŸ¥è¯†"><a href="#é¢„å¤‡çŸ¥è¯†" class="headerlink" title="é¢„å¤‡çŸ¥è¯†"></a>é¢„å¤‡çŸ¥è¯†</h2><p>åœ¨æˆ‘ä»¬å¼€å§‹æ•™ç¨‹ä¹‹å‰ï¼Œéœ€è¦äº†è§£ä»¥ä¸‹å‡ ç‚¹ï¼š</p><p>ä½¿ç”¨ Vue æ¡†æ¶çš„ç»éªŒã€‚<br>çŸ¥é“å¦‚ä½•ä½¿ç”¨ vue-cli è®¾ç½®åº”ç”¨ç¨‹åºã€‚<br>JavaScript å’Œ Vue çš„åŸºæœ¬çŸ¥è¯†<br>Node (8)<br>npm (5.2.0)</p><h2 id="Vue-ä¸­çš„é«˜é˜¶ç»„ä»¶æ¨¡å¼"><a href="#Vue-ä¸­çš„é«˜é˜¶ç»„ä»¶æ¨¡å¼" class="headerlink" title="Vue ä¸­çš„é«˜é˜¶ç»„ä»¶æ¨¡å¼"></a>Vue ä¸­çš„é«˜é˜¶ç»„ä»¶æ¨¡å¼</h2><p>è™½ç„¶é«˜é˜¶ç»„ä»¶é€šå¸¸ä¸ React ç›¸å…³è”ï¼Œä½†æ˜¯ä¸º Vue ç»„ä»¶åˆ›å»ºé«˜é˜¶ç»„ä»¶æ˜¯å¾ˆæœ‰å¯èƒ½çš„ã€‚åœ¨ Vue ä¸­åˆ›å»ºé«˜é˜¶ç»„ä»¶çš„æ¨¡å¼å¦‚ä¸‹æ‰€ç¤ºã€‚</p><pre><code class="js">// hoccomponent.jsimport Vue from &quot;vue&quot;import ComponentExample from &#39;@/components/ComponentExample.vue&#39;const HoComponent = (component) =&gt; {    return Vue.component(&#39;withSubscription&#39;, {        render(createElement) {            return createElement(component)        }    }}const HoComponentEnhanced = HoComponent(ComponentExample);</code></pre><p>å¦‚ä¸Šé¢çš„ä»£ç å—æ‰€ç¤ºï¼Œ<code>HoComponent</code> å‡½æ•°æ¥å—ä¸€ä¸ªç»„ä»¶ä½œä¸ºå‚æ•°ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªæ–°ç»„ä»¶æ¥æ¸²æŸ“ä¼ è¿›æ¥çš„ç»„ä»¶ã€‚</p><h2 id="ä¸€ä¸ªç®€å•çš„-HOC-ç¤ºä¾‹"><a href="#ä¸€ä¸ªç®€å•çš„-HOC-ç¤ºä¾‹" class="headerlink" title="ä¸€ä¸ªç®€å•çš„ HOC ç¤ºä¾‹"></a>ä¸€ä¸ªç®€å•çš„ HOC ç¤ºä¾‹</h2><p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»ä¸€ä¸ªä½¿ç”¨é«˜é˜¶ç»„ä»¶çš„ç¤ºä¾‹ã€‚åœ¨ä»‹ç»é«˜é˜¶ç»„ä»¶ä¹‹å‰ï¼Œæˆ‘ä»¬å°†äº†è§£åœ¨æ²¡æœ‰é«˜é˜¶ç»„ä»¶çš„æƒ…å†µä¸‹ï¼Œå½“å‰çš„ä»£ç åº“æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œç„¶åäº†è§£å¦‚ä½•è¿›è¡ŒæŠ½è±¡ã€‚</p><p><a href="https://codesandbox.io/embed/llvq04nx4l" target="_blank" rel="noopener">https://codesandbox.io/embed/llvq04nx4l</a></p><p>æ­£å¦‚ä¸Šé¢çš„ CodeSandbox æ‰€ç¤ºï¼Œè¯¥åº”ç”¨ç¨‹åºä¼šæ˜¾ç¤ºä¸€ä¸ªçº¸ä¸šå…¬å¸åŠå…¶å‡€èµ„äº§çš„åˆ—è¡¨ï¼Œä»¥åŠã€ŠåŠå…¬å®¤ã€‹(ç¾å›½)ä¸­çš„äººç‰©åŠå…¶è·å¥–æƒ…å†µã€‚</p><p>æˆ‘ä»¬è·å¾—åº”ç”¨ç¨‹åºæ‰€éœ€çš„æ‰€æœ‰æ•°æ®æ¥æºåªæœ‰ä¸€ä¸ªï¼Œé‚£å°±æ˜¯<code>mockData.js</code>æ–‡ä»¶ã€‚</p><a id="more"></a><pre><code class="js">// src/components/mockData.jsconst staff = [  {    name: &quot;Michael Scott&quot;,    id: 0,    awards: 2  },  {    name: &quot;Toby Flenderson&quot;,    id: 1,    awards: 0  },  {    name: &quot;Dwight K. Schrute&quot;,    id: 2,    awards: 10  },  {    name: &quot;Jim Halpert&quot;,    id: 3,    awards: 1  },  {    name: &quot;Andy Bernard&quot;,    id: 4,    awards: 0  },  {    name: &quot;Phyllis Vance&quot;,    id: 5,    awards: 0  },  {    name: &quot;Stanley Hudson&quot;,    id: 6,    awards: 0  }];const paperCompanies = [  {    id: 0,    name: &quot;Staples&quot;,    net: 10000000  },  {    id: 1,    name: &quot;Dundler Mufflin&quot;,    net: 5000000  },  {    id: 2,    name: &quot;Michael Scott Paper Company&quot;,    net: 300000  },  {    id: 3,    name: &quot;Prince Family Paper&quot;,    net: 30000  }];export default {  getStaff() {    return staff;  },  getCompanies() {    return paperCompanies;  },  increaseAward(id) {    staff[id].awards++;  },  decreaseAward(id) {    staff[id].awards--;  },  setNetWorth(id) {    paperCompanies[id].net = Math.random() * (5000000 - 50000) + 50000;  }};</code></pre><p>åœ¨ä¸Šé¢çš„ä»£ç ç‰‡æ®µä¸­ï¼Œæœ‰å‡ ä¸ª const å˜é‡ä¿å­˜äº†å…¬å¸å’Œå‘˜å·¥åˆ—è¡¨çš„ä¿¡æ¯ã€‚æˆ‘ä»¬ä¹Ÿå¯¼å‡ºäº†ä¸€äº›å‡½æ•°ï¼Œ</p><blockquote><p>å®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š<br>è¿”å›å‘˜å·¥åˆ—è¡¨<br>è¿”å›å…¬å¸åˆ—è¡¨<br>å¢åŠ å’Œå‡å°‘å¯¹ç‰¹å®šå‘˜å·¥çš„å¥–åŠ±ï¼Œæœ€å<br>æœ€åï¼Œè®¾å®šå…¬å¸çš„å‡€å€¼</p></blockquote><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹çœ‹ <code>Staff.vue</code> å’Œ <code>Companies.vue</code> ç»„ä»¶ã€‚</p><pre><code class="html">// src/components/Staff.vue&lt;template&gt;  &lt;main&gt;    &lt;h3&gt;Staff List&lt;/h3&gt;    &lt;div v-for=&quot;(staff, i) in staffList&quot; :key=&quot;i&quot;&gt;      {{ staff.name }}: {{ staff.awards }} Salesman of the year Award ğŸ‰      &lt;button @click=&quot;increaseAwards(staff.id);&quot;&gt;+&lt;/button&gt;      &lt;button @click=&quot;decreaseAwards(staff.id);&quot;&gt;-&lt;/button&gt;    &lt;/div&gt;  &lt;/main&gt;&lt;/template&gt;&lt;script&gt;  import mockData from &quot;./mockData.js&quot;;  export default {    data() {      return {        staffList: mockData.getStaff()      };    },    methods: {      increaseAwards(id) {        mockData.increaseAward(id);        this.staffList = mockData.getStaff();      },      decreaseAwards(id) {        mockData.decreaseAward(id);        this.staffList = mockData.getStaff();      }    }  };&lt;/script&gt;</code></pre><p>åœ¨ä¸Šé¢çš„ä»£ç å—ä¸­ï¼Œæ•°æ®å®ä¾‹å˜é‡staffListè¢«èµ‹å€¼ä¸ºå‡½æ•°mockData.getStaff()è¿”å›çš„å†…å®¹ã€‚æˆ‘ä»¬ä¹Ÿæœ‰increaseAwardså’ŒdecreaseAwardså‡½æ•°ï¼Œåˆ†åˆ«è°ƒç”¨mockData.increaseAward å’Œ mockData.decreaseAwardã€‚ä¼ é€’ç»™è¿™äº›å‡½æ•°çš„id æ˜¯ä»æ¸²æŸ“çš„æ¨¡æ¿ä¸­è·å¾—çš„ã€‚</p><pre><code class="html">    // src/components/Companies.vue    &lt;template&gt;      &lt;main&gt;        &lt;h3&gt;Paper Companies&lt;/h3&gt;        &lt;div v-for=&quot;(companies, i) in companies&quot; :key=&quot;i&quot;&gt;          {{ companies.name }} - ${{ companies.net          }}&lt;button @click=&quot;setWorth(companies.id);&quot;&gt;Set Company Value&lt;/button&gt;        &lt;/div&gt;      &lt;/main&gt;    &lt;/template&gt;    &lt;script&gt;      import mockData from &quot;./mockData.js&quot;;        export default {        data() {          return {            companies: mockData.getCompanies()          };        },        methods: {          setWorth(id) {            mockData.setNetWorth(id);            this.companies = mockData.getCompanies();          }        }      };    &lt;/script&gt;</code></pre><p>åœ¨ä¸Šé¢çš„ä»£ç å—ä¸­ï¼Œæ•°æ®å®ä¾‹å˜é‡companies è¢«èµ‹å€¼ä¸ºå‡½æ•°mockData.getCompanies()çš„è¿”å›å†…å®¹ã€‚æˆ‘ä»¬è¿˜æœ‰setWorthå‡½æ•°ï¼Œå®ƒé€šè¿‡å°†å…¬å¸çš„ id ä¼ é€’ç»™mockData.setNetWorthæ¥è®¾ç½®ä¸€ä¸ªéšæœºå€¼ä½œä¸ºå‡€å€¼ã€‚ä¼ é€’ç»™å‡½æ•°çš„idæ˜¯ä»æ¸²æŸ“çš„æ¨¡æ¿ä¸­è·å¾—çš„ã€‚</p><p>ç°åœ¨æˆ‘ä»¬å·²ç»çœ‹åˆ°äº†è¿™ä¸¤ä¸ªç»„ä»¶æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œæˆ‘ä»¬å¯ä»¥</p><blockquote><p>æ‰¾å‡ºå®ƒä»¬ä¹‹é—´çš„å…±åŒç‚¹ï¼Œå¹¶å°†å…¶æŠ½è±¡å¦‚ä¸‹ï¼š</p></blockquote><p>ä»æ•°æ®æºè·å–æ•°æ® (mockData.js)<br>onClick å‡½æ•°</p><p>æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•å°†ä¸Šé¢çš„æ“ä½œæ”¾åˆ°é«˜é˜¶ç»„ä»¶ä¸­ï¼Œä»¥é¿å…ä»£ç é‡å¤å¹¶ç¡®ä¿å¯é‡ç”¨æ€§ã€‚</p><p>HoComponent å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªç»„ä»¶å’ŒfetchDataã€‚fetchDataæ–¹æ³•ç”¨äºç¡®å®šè¦åœ¨è¡¨ç¤ºç»„ä»¶ä¸­æ˜¾ç¤ºä»€ä¹ˆã€‚è¿™æ„å‘³ç€æ— è®ºåœ¨å“ªé‡Œä½¿ç”¨é«˜é˜¶ç»„ä»¶ï¼Œä½œä¸ºfetchData ä¼ é€’çš„å‡½æ•°éƒ½å°†è¢«ç”¨æ¥ä»mockData ä¸­è·å–æ•°æ®ã€‚</p><p>ç„¶åå°†æ•°æ®å®ä¾‹returnedData è®¾ç½®ä¸ºfetchDataçš„å†…å®¹ï¼Œç„¶åä½œä¸ºprops ä¼ é€’ç»™åœ¨é«˜é˜¶ç»„ä»¶ä¸­åˆ›å»ºçš„æ–°ç»„ä»¶ã€‚</p><p>è®©æˆ‘ä»¬çœ‹çœ‹æ–°åˆ›å»ºçš„é«˜é˜¶ç»„ä»¶å¦‚ä½•åœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ã€‚æˆ‘ä»¬éœ€è¦ç¼–è¾‘Staff.vue å’ŒCompanies.vueã€‚</p><pre><code class="html">    // src/components/Staff.vue    &lt;template&gt;      &lt;main&gt;        &lt;h3&gt;Staff List&lt;/h3&gt;        &lt;div v-for=&quot;(staff, i) in returnedData&quot; :key=&quot;i&quot;&gt;          {{ staff.name }}: {{ staff.awards }} Salesman of the year Award ğŸ‰          &lt;button @click=&quot;increaseAwards(staff.id);&quot;&gt;+&lt;/button&gt;          &lt;button @click=&quot;decreaseAwards(staff.id);&quot;&gt;-&lt;/button&gt;        &lt;/div&gt;      &lt;/main&gt;    &lt;/template&gt;    &lt;script&gt;      export default {        props: [&quot;returnedData&quot;]      };    &lt;/script&gt;</code></pre><pre><code class="html">    // src/components/Companies.vue    &lt;template&gt;      &lt;main&gt;        &lt;h3&gt;Paper Companies&lt;/h3&gt;        &lt;div v-for=&quot;(companies, i) in returnedData&quot; :key=&quot;i&quot;&gt;          {{ companies.name }} - ${{ companies.net          }}&lt;button @click=&quot;setWorth(companies.id);&quot;&gt;Set Company Value&lt;/button&gt;        &lt;/div&gt;      &lt;/main&gt;    &lt;/template&gt;    &lt;script&gt;      export default {        props: [&quot;returnedData&quot;]      };    &lt;/script&gt;</code></pre><p>æ­£å¦‚ä½ åœ¨ä¸Šé¢çš„ä»£ç å—ä¸­çœ‹åˆ°çš„ï¼Œå¯¹äºè¿™ä¸¤ä¸ªç»„ä»¶ï¼Œæˆ‘ä»¬å»æ‰äº†å‡½æ•°å’Œæ•°æ®å®ä¾‹å˜é‡ï¼Œæ˜¾ç¤ºå†…å®¹æ‰€éœ€çš„æ‰€æœ‰æ•°æ®ç°åœ¨éƒ½å°†ä»è¿™äº›propsä¸­è·å¾—ã€‚å¯¹äºåˆ æ‰çš„å‡½æ•°ï¼Œæˆ‘ä»¬å°†å¾ˆå¿«ä¼šè®²åˆ°ã€‚</p><p>åœ¨ App.vue ç»„ä»¶ä¸­ï¼Œç”¨ä»¥ä¸‹ä»£ç ç¼–è¾‘script æ ‡ç­¾ä¸­çš„ç°æœ‰å†…å®¹ï¼š</p><pre><code class="html">    // src/App.vue    &lt;script&gt;      // import the Companies component      import Companies from &quot;./components/Companies&quot;;      // import the Staff component      import Staff from &quot;./components/Staff&quot;;      // import the higher order component      import HoComponent from &quot;./components/HoComponent.js&quot;;      // Create a const variable which contains the Companies component wrapped in the higher order component      const CompaniesComponent = HoComponent(Companies, mockData =&gt; mockData.getCompanies()      );      // Create a const variable which contains the Staff component wrapped in the higher order component      const StaffComponent = HoComponent(Staff, mockData =&gt; mockData.getStaff());      export default {        name: &quot;App&quot;,        components: {          CompaniesComponent,          StaffComponent        }      };    &lt;/script&gt;</code></pre><p>åœ¨ä¸Šé¢çš„ä»£ç å—ä¸­ï¼ŒHoComponentç”¨äºåŒ…è£… Staff å’Œ Companies ç»„ä»¶ã€‚</p><p>æ¯ä¸ªç»„ä»¶ä½œä¸ºHoComponent çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒè¿”å›å¦ä¸€ä¸ªå‡½æ•°ï¼ŒæŒ‡å®šåº”è¯¥ä»mockDataè·å–ä»€ä¹ˆæ•°æ®ã€‚è¿™æ˜¯æˆ‘ä»¬ä¹‹å‰åˆ›å»ºçš„é«˜é˜¶ç»„ä»¶(HoComponent.js)ä¸­çš„fetchData å‡½æ•°ã€‚</p><p>å¦‚æœä½ ç°åœ¨åˆ·æ–°åº”ç”¨ç¨‹åºï¼Œä½ åº”è¯¥ä»ç„¶å¯ä»¥çœ‹åˆ°æ¥è‡ªmockData æ–‡ä»¶çš„æ•°æ®åƒå¾€å¸¸ä¸€æ ·å‘ˆç°ã€‚å”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œè¿™äº›æŒ‰é’®æ— æ³•å·¥ä½œï¼Œå› ä¸ºå®ƒä»¬è¿˜æ²¡æœ‰ç»‘å®šåˆ°ä»»ä½•å‡½æ•°ã€‚è®©æˆ‘ä»¬è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><pre><code class="html">    // src/App.vue    &lt;template&gt;      &lt;div id=&quot;app&quot;&gt;        &lt;CompaniesComponent @click=&quot;onEventHappen&quot; /&gt;        &lt;StaffComponent @click=&quot;onEventHappen&quot; /&gt;      &lt;/div&gt;    &lt;/template&gt;    &lt;script&gt;      // import the Companies component      import Companies from &quot;./components/Companies&quot;;      // import the Staff component      import Staff from &quot;./components/Staff&quot;;      // import the higher order component      import HoComponent from &quot;./components/HoComponent.js&quot;;      // import the source data from mockData only to be used for event handlers      import sourceData from &quot;./components/mockData.js&quot;;      // Create a const variable which contains the Companies component wrapped in the higher order component      const CompaniesComponent = HoComponent(Companies, mockData =&gt;      mockData.getCompanies()      );      // Create a const variable which contains the Staff component wrapped in the higher order component      const StaffComponent = HoComponent(Staff, mockData =&gt; mockData.getStaff());      export default {        name: &quot;App&quot;,        components: {          CompaniesComponent,          StaffComponent          },        methods: {          onEventHappen(value) {            // set the variable setFunction to the name of the function that was passed iin the value emitted from child component i.e. if value.name is &#39;increaseAward&#39;, setFunction is set to increaseAward()            let setFunction = sourceData[value.name];            // call the corresponding function with the id passed as an argument.            setFunction(value.id);          }        }      };    &lt;/script&gt;    &lt;style&gt;    #app {      font-family: &quot;Avenir&quot;, Helvetica, Arial, sans-serif;      -webkit-font-smoothing: antialiased;      -moz-osx-font-smoothing: grayscale;      text-align: center;      color: #2c3e50;      margin-top: 60px;    }    &lt;/style&gt;</code></pre><p>åœ¨ä¸Šé¢çš„ä»£ç å—ä¸­ï¼Œæˆ‘ä»¬åœ¨App.vueç»„ä»¶ä¸­æ·»åŠ äº†ä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ã€‚</p><p>vueçš„ç»„ä»¶ã€‚æ¯å½“Staff.vue æˆ–Companies.vue ç»„ä»¶è¢«ç‚¹å‡»æ—¶ï¼ŒonEventHappen æ–¹æ³•å°†ä¼šè¢«è°ƒç”¨ã€‚</p><p>åœ¨onEventHappenæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å°†å˜é‡setFunction è®¾ç½®ä¸ºä»å­ç»„ä»¶å‘å‡ºçš„å€¼ä¸­ä¼ é€’çš„å‡½æ•°åï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœvalue.nameæ˜¯â€™increaseAwardâ€™ï¼Œé‚£ä¹ˆsetFunctionè®¾ç½®ä¸ºincreaseAward()ã€‚setFunction å°†ä»¥idä½œä¸ºå‚æ•°æ‰§è¡Œã€‚</p><p>æœ€åï¼Œä¸ºäº†å°†äº‹ä»¶ç›‘å¬å™¨ä¼ é€’ç»™å°è£…åœ¨é«˜é˜¶ç»„ä»¶ä¸­çš„ç»„ä»¶ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ HoComponent.jsæ–‡ä»¶ä¸­æ·»åŠ ä¸‹é¢è¿™è¡Œä»£ç ã€‚</p><pre><code class="js">    props: {    returnedData: this.returnedData    },    on: { ...this.$listeners }</code></pre><h2 id="vue-hoc"><a href="#vue-hoc" class="headerlink" title="vue-hoc"></a>vue-hoc</h2><p>æˆ–è€…ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨<a href="https://github.com/jackmellis/vue-hoc" target="_blank" rel="noopener">vue-hoc</a>åº“æ¥å¸®åŠ©åˆ›å»ºé«˜é˜¶ç»„ä»¶ã€‚vue-hocå¸®åŠ©ä½ è½»æ¾åœ°åˆ›å»ºé«˜é˜¶ç»„ä»¶ï¼Œä½ è¦åšçš„å°±æ˜¯ä¼ é€’åŸºæœ¬ç»„ä»¶ã€åº”ç”¨äºHOCçš„ä¸€ç³»åˆ—ç»„ä»¶é€‰é¡¹å’Œåœ¨æ¸²æŸ“é˜¶æ®µä¼ é€’ç»™ç»„ä»¶çš„æ•°æ®å±æ€§ã€‚<br>vue-hoc å¯ç”¨å¦‚ä¸‹å‘½ä»¤å®‰è£…ï¼š<br>    <code>npm install --save vue-hoc</code></p><p>å¤åˆ¶ä»£ç vue-hocæ’ä»¶æœ‰ä¸€äº›ä¾‹å­å¯ä»¥è®©ä½ å¼€å§‹åˆ›å»ºæ›´é«˜é˜¶çš„ç»„ä»¶ï¼Œä½ å¯ä»¥<a href="https://github.com/jackmellis/vue-hoc/blob/master/packages/vue-hoc/README.md" target="_blank" rel="noopener">æŸ¥çœ‹è¿™é‡Œ</a>.</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å‰æ–‡&quot;&gt;&lt;a href=&quot;#å‰æ–‡&quot; class=&quot;headerlink&quot; title=&quot;å‰æ–‡&quot;&gt;&lt;/a&gt;å‰æ–‡&lt;/h1&gt;&lt;p&gt;&lt;code&gt;é«˜é˜¶ç»„ä»¶(HOC)&lt;/code&gt;æ˜¯ä¸€ç§æ¶æ„æ¨¡å¼ï¼Œåœ¨ React ä¸­éå¸¸å¸¸è§ï¼Œä½†ä¹Ÿå¯ä»¥åœ¨ Vue ä¸­ä½¿ç”¨ã€‚å®ƒå¯ä»¥è¢«æè¿°ä¸ºä¸€ç§&lt;strong&gt;åœ¨ç»„ä»¶ä¹‹é—´å…±äº«å…¬å…±åŠŸèƒ½è€Œä¸éœ€è¦é‡å¤ä»£ç &lt;/strong&gt;çš„æ–¹æ³•ã€‚HOC çš„ç›®çš„æ˜¯å¢å¼ºç»„ä»¶çš„åŠŸèƒ½ã€‚å®ƒå…è®¸åœ¨é¡¹ç›®ä¸­å®ç°å¯é‡ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åªè¦ä½ å‘ä¸€ä¸ªæ–¹æ³•ä¼ å…¥ç»„ä»¶ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°çš„ç»„ä»¶ï¼Œè¿™å°±æ˜¯ä¸€ä¸ª HOCã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;é«˜é˜¶ç»„ä»¶åœ¨ä»¥ä¸‹æ–¹é¢éå¸¸æœ‰ç”¨: 1.æ“ä½œå±æ€§ã€‚ 2.æ“ä½œæ•°æ®å’Œæ•°æ®æŠ½è±¡ã€‚ 3.ä»£ç é‡ç”¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;é¢„å¤‡çŸ¥è¯†&quot;&gt;&lt;a href=&quot;#é¢„å¤‡çŸ¥è¯†&quot; class=&quot;headerlink&quot; title=&quot;é¢„å¤‡çŸ¥è¯†&quot;&gt;&lt;/a&gt;é¢„å¤‡çŸ¥è¯†&lt;/h2&gt;&lt;p&gt;åœ¨æˆ‘ä»¬å¼€å§‹æ•™ç¨‹ä¹‹å‰ï¼Œéœ€è¦äº†è§£ä»¥ä¸‹å‡ ç‚¹ï¼š&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ Vue æ¡†æ¶çš„ç»éªŒã€‚&lt;br&gt;çŸ¥é“å¦‚ä½•ä½¿ç”¨ vue-cli è®¾ç½®åº”ç”¨ç¨‹åºã€‚&lt;br&gt;JavaScript å’Œ Vue çš„åŸºæœ¬çŸ¥è¯†&lt;br&gt;Node (8)&lt;br&gt;npm (5.2.0)&lt;/p&gt;
&lt;h2 id=&quot;Vue-ä¸­çš„é«˜é˜¶ç»„ä»¶æ¨¡å¼&quot;&gt;&lt;a href=&quot;#Vue-ä¸­çš„é«˜é˜¶ç»„ä»¶æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot;Vue ä¸­çš„é«˜é˜¶ç»„ä»¶æ¨¡å¼&quot;&gt;&lt;/a&gt;Vue ä¸­çš„é«˜é˜¶ç»„ä»¶æ¨¡å¼&lt;/h2&gt;&lt;p&gt;è™½ç„¶é«˜é˜¶ç»„ä»¶é€šå¸¸ä¸ React ç›¸å…³è”ï¼Œä½†æ˜¯ä¸º Vue ç»„ä»¶åˆ›å»ºé«˜é˜¶ç»„ä»¶æ˜¯å¾ˆæœ‰å¯èƒ½çš„ã€‚åœ¨ Vue ä¸­åˆ›å»ºé«˜é˜¶ç»„ä»¶çš„æ¨¡å¼å¦‚ä¸‹æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;js&quot;&gt;// hoccomponent.js

import Vue from &amp;quot;vue&amp;quot;
import ComponentExample from &amp;#39;@/components/ComponentExample.vue&amp;#39;
const HoComponent = (component) =&amp;gt; {
    return Vue.component(&amp;#39;withSubscription&amp;#39;, {
        render(createElement) {
            return createElement(component)
        }
    }
}
const HoComponentEnhanced = HoComponent(ComponentExample);

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦‚ä¸Šé¢çš„ä»£ç å—æ‰€ç¤ºï¼Œ&lt;code&gt;HoComponent&lt;/code&gt; å‡½æ•°æ¥å—ä¸€ä¸ªç»„ä»¶ä½œä¸ºå‚æ•°ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªæ–°ç»„ä»¶æ¥æ¸²æŸ“ä¼ è¿›æ¥çš„ç»„ä»¶ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ä¸€ä¸ªç®€å•çš„-HOC-ç¤ºä¾‹&quot;&gt;&lt;a href=&quot;#ä¸€ä¸ªç®€å•çš„-HOC-ç¤ºä¾‹&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ä¸ªç®€å•çš„ HOC ç¤ºä¾‹&quot;&gt;&lt;/a&gt;ä¸€ä¸ªç®€å•çš„ HOC ç¤ºä¾‹&lt;/h2&gt;&lt;p&gt;åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»ä¸€ä¸ªä½¿ç”¨é«˜é˜¶ç»„ä»¶çš„ç¤ºä¾‹ã€‚åœ¨ä»‹ç»é«˜é˜¶ç»„ä»¶ä¹‹å‰ï¼Œæˆ‘ä»¬å°†äº†è§£åœ¨æ²¡æœ‰é«˜é˜¶ç»„ä»¶çš„æƒ…å†µä¸‹ï¼Œå½“å‰çš„ä»£ç åº“æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œç„¶åäº†è§£å¦‚ä½•è¿›è¡ŒæŠ½è±¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://codesandbox.io/embed/llvq04nx4l&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://codesandbox.io/embed/llvq04nx4l&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ­£å¦‚ä¸Šé¢çš„ CodeSandbox æ‰€ç¤ºï¼Œè¯¥åº”ç”¨ç¨‹åºä¼šæ˜¾ç¤ºä¸€ä¸ªçº¸ä¸šå…¬å¸åŠå…¶å‡€èµ„äº§çš„åˆ—è¡¨ï¼Œä»¥åŠã€ŠåŠå…¬å®¤ã€‹(ç¾å›½)ä¸­çš„äººç‰©åŠå…¶è·å¥–æƒ…å†µã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬è·å¾—åº”ç”¨ç¨‹åºæ‰€éœ€çš„æ‰€æœ‰æ•°æ®æ¥æºåªæœ‰ä¸€ä¸ªï¼Œé‚£å°±æ˜¯&lt;code&gt;mockData.js&lt;/code&gt;æ–‡ä»¶ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Vue" scheme="https://zhanghao-web.github.io/categories/Vue/"/>
    
    
      <category term="Vue" scheme="https://zhanghao-web.github.io/tags/Vue/"/>
    
  </entry>
  
</feed>
